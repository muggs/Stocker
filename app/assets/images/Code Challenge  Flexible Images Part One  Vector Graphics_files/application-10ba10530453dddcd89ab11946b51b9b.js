/*!
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(e){mejs.YouTubeApi.flashReady(e)}!function(e,t){function n(e){var t=ft[e]={};return Z.each(e.split(tt),function(e,n){t[n]=!0}),t}function i(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(gt,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:mt.test(i)?Z.parseJSON(i):i}catch(o){}Z.data(e,n,i)}else i=t}return i}function r(e){var t;for(t in e)if(("data"!==t||!Z.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function s(){return!0}function a(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,Z.isFunction(t))return Z.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return Z.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=Z.grep(e,function(e){return 1===e.nodeType});if(It.test(t))return Z.filter(t,i,!n);t=Z.filter(t,i)}return Z.grep(e,function(e){return Z.inArray(e,t)>=0===n})}function c(e){var t=Ot.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e,t){if(1===t.nodeType&&Z.hasData(e)){var n,i,r,o=Z._data(e),s=Z._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)Z.event.add(t,n,a[n][i])}s.data&&(s.data=Z.extend({},s.data))}}function p(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Z.support.html5Clone&&e.innerHTML&&!Z.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Qt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Z.expando))}function f(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){Qt.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=bn.length;r--;)if(t=bn[r]+n,t in e)return t;return i}function v(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)}function b(e,t){for(var n,i,r=[],o=0,s=e.length;s>o;o++)n=e[o],n.style&&(r[o]=Z._data(n,"olddisplay"),t?(r[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&v(n)&&(r[o]=Z._data(n,"olddisplay",k(n.nodeName)))):(i=nn(n,"display"),r[o]||"none"===i||Z._data(n,"olddisplay",i)));for(o=0;s>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function y(e,t,n){var i=dn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function w(e,t,n,i){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=Z.css(e,n+vn[r],!0)),i?("content"===n&&(o-=parseFloat(nn(e,"padding"+vn[r]))||0),"margin"!==n&&(o-=parseFloat(nn(e,"border"+vn[r]+"Width"))||0)):(o+=parseFloat(nn(e,"padding"+vn[r]))||0,"padding"!==n&&(o+=parseFloat(nn(e,"border"+vn[r]+"Width"))||0));return o}function _(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r=!0,o=Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing");if(0>=i||null==i){if(i=nn(e,t),(0>i||null==i)&&(i=e.style[t]),hn.test(i))return i;r=o&&(Z.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+w(e,t,n||(o?"border":"content"),r)+"px"}function k(e){if(fn[e])return fn[e];var t=Z("<"+e+">").appendTo(H.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=H.body.appendChild(rn||Z.extend(H.createElement("iframe"),{frameBorder:0,width:0,height:0})),on&&rn.createElement||(on=(rn.contentWindow||rn.contentDocument).document,on.write("<!doctype html><html><body>"),on.close()),t=on.body.appendChild(on.createElement(e)),n=nn(t,"display"),H.body.removeChild(rn)),fn[e]=n,n}function x(e,t,n,i){var r;if(Z.isArray(t))Z.each(t,function(t,r){n||_n.test(e)?i(e,r):x(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(r in t)x(e+"["+r+"]",t[r],n,i)}function C(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r,o,s=t.toLowerCase().split(tt),a=0,l=s.length;if(Z.isFunction(n))for(;l>a;a++)i=s[a],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function T(e,n,i,r,o,s){o=o||n.dataTypes[0],s=s||{},s[o]=!0;for(var a,l=e[o],u=0,c=l?l.length:0,d=e===Dn;c>u&&(d||!a);u++)a=l[u](n,i,r),"string"==typeof a&&(!d||s[a]?a=t:(n.dataTypes.unshift(a),a=T(e,n,i,r,a,s)));return!d&&a||s["*"]||(a=T(e,n,i,r,"*",s)),a}function S(e,n){var i,r,o=Z.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);r&&Z.extend(!0,e,r)}function E(e,n,i){var r,o,s,a,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in i&&(n[c[o]]=i[o]);for(;"*"===u[0];)u.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){u.unshift(o);break}if(u[0]in i)s=u[0];else{for(o in i){if(!u[0]||e.converters[o+" "+u[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==u[0]&&u.unshift(s),i[s]):void 0}function $(e,t){var n,i,r,o,s=e.dataTypes.slice(),a=s[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;r=s[++u];)if("*"!==r){if("*"!==a&&a!==r){if(n=l[a+" "+r]||l["* "+r],!n)for(i in l)if(o=i.split(" "),o[1]===r&&(n=l[a+" "+o[0]]||l["* "+o[0]])){n===!0?n=l[i]:l[i]!==!0&&(r=o[0],s.splice(u--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}function M(){try{return new e.XMLHttpRequest}catch(t){}}function j(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function F(){return setTimeout(function(){Kn=t},0),Kn=Z.now()}function A(e,t){Z.each(t,function(t,n){for(var i=(ei[t]||[]).concat(ei["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function L(e,t,n){var i,r=0,o=Jn.length,s=Z.Deferred().always(function(){delete a.elem}),a=function(){for(var t=Kn||F(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,r=1-i,o=0,a=l.tweens.length;a>o;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),1>r&&a?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Kn||F(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){for(var n=0,i=t?l.tweens.length:0;i>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),u=l.props;for(N(u,l.opts.specialEasing);o>r;r++)if(i=Jn[r].call(l,e,u,l.opts))return i;return A(l,u),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(a,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function N(e,t){var n,i,r,o,s;for(n in e)if(i=Z.camelCase(n),r=t[i],o=e[n],Z.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=Z.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function P(e,t,n){var i,r,o,s,a,l,u,c,d,h=this,p=e.style,f={},m=[],g=e.nodeType&&v(e);n.queue||(c=Z._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,h.always(function(){h.always(function(){c.unqueued--,Z.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===Z.css(e,"display")&&"none"===Z.css(e,"float")&&(Z.support.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",Z.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],Xn.exec(o)){if(delete t[i],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(i)}if(s=m.length){a=Z._data(e,"fxshow")||Z._data(e,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?Z(e).show():h.done(function(){Z(e).hide()}),h.done(function(){var t;Z.removeData(e,"fxshow",!0);for(t in f)Z.style(e,t,f[t])});for(i=0;s>i;i++)r=m[i],u=h.createTween(r,g?a[r]:0),f[r]=a[r]||Z.style(e,r),r in a||(a[r]=u.start,g&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}function I(e,t,n,i,r){return new I.prototype.init(e,t,n,i,r)}function D(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=vn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function z(e){return Z.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var O,W,H=e.document,B=e.location,R=e.navigator,q=e.jQuery,V=e.$,U=Array.prototype.push,G=Array.prototype.slice,K=Array.prototype.indexOf,Q=Object.prototype.toString,X=Object.prototype.hasOwnProperty,Y=String.prototype.trim,Z=function(e,t){return new Z.fn.init(e,t,O)},J=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,it=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^[\],:{}\s]*$/,st=/(?:^|:|,)(?:\s*\[)+/g,at=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ut=/^-ms-/,ct=/-([\da-z])/gi,dt=function(e,t){return(t+"").toUpperCase()},ht=function(){H.addEventListener?(H.removeEventListener("DOMContentLoaded",ht,!1),Z.ready()):"complete"===H.readyState&&(H.detachEvent("onreadystatechange",ht),Z.ready())},pt={};Z.fn=Z.prototype={constructor:Z,init:function(e,n,i){var r,o,s;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:it.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof Z?n[0]:n,s=n&&n.nodeType?n.ownerDocument||n:H,e=Z.parseHTML(r[1],s,!0),rt.test(r[1])&&Z.isPlainObject(n)&&this.attr.call(e,n,!0),Z.merge(this,e);if(o=H.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=H,this.selector=e,this}return Z.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return G.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=Z.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return Z.each(this,e,t)},ready:function(e){return Z.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(G.apply(this,arguments),"slice",G.call(arguments).join(","))},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var e,n,i,r,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||Z.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)i=a[n],r=e[n],a!==r&&(c&&r&&(Z.isPlainObject(r)||(o=Z.isArray(r)))?(o?(o=!1,s=i&&Z.isArray(i)?i:[]):s=i&&Z.isPlainObject(i)?i:{},a[n]=Z.extend(c,s,r)):r!==t&&(a[n]=r));return a},Z.extend({noConflict:function(t){return e.$===Z&&(e.$=V),t&&e.jQuery===Z&&(e.jQuery=q),Z},isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){if(e===!0?!--Z.readyWait:!Z.isReady){if(!H.body)return setTimeout(Z.ready,1);Z.isReady=!0,e!==!0&&--Z.readyWait>0||(W.resolveWith(H,[Z]),Z.fn.trigger&&Z(H).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray||function(e){return"array"===Z.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):pt[Q.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Z.type(e)||e.nodeType||Z.isWindow(e))return!1;try{if(e.constructor&&!X.call(e,"constructor")&&!X.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||X.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||H,(i=rt.exec(e))?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,n?null:[]),Z.merge([],(i.cacheable?Z.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Z.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):ot.test(t.replace(at,"@").replace(lt,"]").replace(st,""))?new Function("return "+t)():(Z.error("Invalid JSON: "+t),void 0)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ut,"ms-").replace(ct,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,i){var r,o=0,s=e.length,a=s===t||Z.isFunction(e);if(i)if(a){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;s>o&&n.apply(e[o++],i)!==!1;);else if(a){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;s>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:Y&&!Y.call("﻿ ")?function(e){return null==e?"":Y.call(e)}:function(e){return null==e?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,i=t||[];return null!=e&&(n=Z.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Z.isWindow(e)?U.call(i,e):Z.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(K)return K.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,s=e.length;for(n=!!n;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,n,i){var r,o,s=[],a=0,l=e.length,u=e instanceof Z||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||Z.isArray(e));if(u)for(;l>a;a++)r=n(e[a],a,i),null!=r&&(s[s.length]=r);else for(o in e)r=n(e[o],o,i),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),Z.isFunction(e)?(r=G.call(arguments,2),o=function(){return e.apply(n,r.concat(G.call(arguments)))},o.guid=e.guid=e.guid||Z.guid++,o):t},access:function(e,n,i,r,o,s,a){var l,u=null==i,c=0,d=e.length;if(i&&"object"==typeof i){for(c in i)Z.access(e,n,c,i[c],1,s,r);o=1}else if(r!==t){if(l=a===t&&Z.isFunction(r),u&&(l?(l=n,n=function(e,t,n){return l.call(Z(e),n)}):(n.call(e,r),n=null)),n)for(;d>c;c++)n(e[c],i,l?r.call(e[c],c,n(e[c],i)):r,a);o=1}return o?e:u?n.call(e):d?n(e[0],i):s},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(t){if(!W)if(W=Z.Deferred(),"complete"===H.readyState)setTimeout(Z.ready,1);else if(H.addEventListener)H.addEventListener("DOMContentLoaded",ht,!1),e.addEventListener("load",Z.ready,!1);else{H.attachEvent("onreadystatechange",ht),e.attachEvent("onload",Z.ready);var n=!1;try{n=null==e.frameElement&&H.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!Z.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Z.ready()}}()}return W.promise(t)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),O=Z(H);var ft={};Z.Callbacks=function(e){e="string"==typeof e?ft[e]||n(e):Z.extend({},e);var i,r,o,s,a,l,u=[],c=!e.once&&[],d=function(t){for(i=e.memory&&t,r=!0,l=s||0,s=0,a=u.length,o=!0;u&&a>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}o=!1,u&&(c?c.length&&d(c.shift()):i?u=[]:h.disable())},h={add:function(){if(u){var t=u.length;!function n(t){Z.each(t,function(t,i){var r=Z.type(i);"function"===r?e.unique&&h.has(i)||u.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),o?a=u.length:i&&(s=t,d(i))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),o&&(a>=n&&a--,l>=n&&l--)}),this},has:function(e){return Z.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=i=t,this},disabled:function(){return!u},lock:function(){return c=t,i||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||r&&!c||(o?c.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,i){var o=i[0],s=e[t];r[i[1]](Z.isFunction(s)?function(){var e=s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},r={};return i.pipe=i.then,Z.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=s.fire,r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=G.call(arguments),s=o.length,a=1!==s||e&&Z.isFunction(e.promise)?s:0,l=1===a?e:Z.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?G.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&Z.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}}),Z.support=function(){var t,n,i,r,o,s,a,l,u,c,d,h=H.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),i=h.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=H.createElement("select"),o=r.appendChild(H.createElement("option")),s=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:o.selected,getSetAttribute:"t"!==h.className,enctype:!!H.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==H.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===H.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",d)),s=H.createElement("input"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),h.appendChild(s),a=H.createDocumentFragment(),a.appendChild(h.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=s.checked,a.removeChild(s),a.appendChild(h),h.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in h,c||(h.setAttribute(l,"return;"),c="function"==typeof h[l]),t[u+"Bubbles"]=c;return Z(function(){var n,i,r,o,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=H.getElementsByTagName("body")[0];a&&(n=H.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),i=H.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===i.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,o=H.createElement("div"),o.style.cssText=i.style.cssText=s,o.style.marginRight=o.style.width="0",i.style.width="1px",i.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),a.removeChild(n),n=i=r=o=null)}),a.removeChild(h),n=i=r=o=s=a=h=null,t}();var mt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gt=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Z.cache[e[Z.expando]]:e[Z.expando],!!e&&!r(e)},data:function(e,n,i,r){if(Z.acceptData(e)){var o,s,a=Z.expando,l="string"==typeof n,u=e.nodeType,c=u?Z.cache:e,d=u?e[a]:e[a]&&a;if(d&&c[d]&&(r||c[d].data)||!l||i!==t)return d||(u?e[a]=d=Z.deletedIds.pop()||Z.guid++:d=a),c[d]||(c[d]={},u||(c[d].toJSON=Z.noop)),("object"==typeof n||"function"==typeof n)&&(r?c[d]=Z.extend(c[d],n):c[d].data=Z.extend(c[d].data,n)),o=c[d],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[Z.camelCase(n)]=i),l?(s=o[n],null==s&&(s=o[Z.camelCase(n)])):s=o,s}},removeData:function(e,t,n){if(Z.acceptData(e)){var i,o,s,a=e.nodeType,l=a?Z.cache:e,u=a?e[Z.expando]:Z.expando;if(l[u]){if(t&&(i=n?l[u]:l[u].data)){Z.isArray(t)||(t in i?t=[t]:(t=Z.camelCase(t),t=t in i?[t]:t.split(" ")));for(o=0,s=t.length;s>o;o++)delete i[t[o]];if(!(n?r:Z.isEmptyObject)(i))return}(n||(delete l[u].data,r(l[u])))&&(a?Z.cleanData([e],!0):Z.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,n){return Z.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Z.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Z.fn.extend({data:function(e,n){var r,o,s,a,l,u=this[0],c=0,d=null;if(e===t){if(this.length&&(d=Z.data(u),1===u.nodeType&&!Z._data(u,"parsedAttrs"))){for(s=u.attributes,l=s.length;l>c;c++)a=s[c].name,a.indexOf("data-")||(a=Z.camelCase(a.substring(5)),i(u,a,d[a]));Z._data(u,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){Z.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",Z.access(this,function(n){return n===t?(d=this.triggerHandler("getData"+o,[r[0]]),d===t&&u&&(d=Z.data(u,e),d=i(u,e,d)),d===t&&r[1]?this.data(r[0]):d):(r[1]=n,this.each(function(){var t=Z(this);t.triggerHandler("setData"+o,r),Z.data(this,e,n),t.triggerHandler("changeData"+o,r)}),void 0)},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Z.removeData(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Z._data(e,t),n&&(!i||Z.isArray(n)?i=Z._data(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,r=n.shift(),o=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z._data(e,n)||Z._data(e,n,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(e,t+"queue",!0),Z.removeData(e,n,!0)})})}}),Z.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?Z.queue(this[0],e):n===t?this:this.each(function(){var t=Z.queue(this,e,n);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},delay:function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=Z.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=Z._data(s[a],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var vt,bt,yt,wt=/[\t\r\n]/g,_t=/\r/g,kt=/^(?:button|input)$/i,xt=/^(?:button|input|object|select|textarea)$/i,Ct=/^a(?:rea|)$/i,Tt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,St=Z.support.getSetAttribute;Z.fn.extend({attr:function(e,t){return Z.access(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})},prop:function(e,t){return Z.access(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Z.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,s,a;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",s=0,a=t.length;a>s;s++)o.indexOf(" "+t[s]+" ")<0&&(o+=t[s]+" ");r.className=Z.trim(o)}else r.className=e;return this},removeClass:function(e){var n,i,r,o,s,a,l;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),a=0,l=this.length;l>a;a++)if(r=this[a],1===r.nodeType&&r.className){for(i=(" "+r.className+" ").replace(wt," "),o=0,s=n.length;s>o;o++)for(;i.indexOf(" "+n[o]+" ")>=0;)i=i.replace(" "+n[o]+" "," ");r.className=e?Z.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,s=Z(this),a=t,l=e.split(tt);r=l[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Z._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(wt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(i){var o,s=Z(this);1===this.nodeType&&(o=r?e.call(this,i,s.val()):e,null==o?o="":"number"==typeof o?o+="":Z.isArray(o)&&(o=Z.map(o,function(e){return null==e?"":e+""})),n=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=Z.valHooks[o.type]||Z.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(_t,""):null==i?"":i)}}}),Z.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(Z.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;s.push(t)}return s},set:function(e,t){var n=Z.makeArray(t);return Z(e).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,i,r){var o,s,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&Z.isFunction(Z.fn[n])?Z(e)[n](i):"undefined"==typeof e.getAttribute?Z.prop(e,n,i):(a=1!==l||!Z.isXMLDoc(e),a&&(n=n.toLowerCase(),s=Z.attrHooks[n]||(Tt.test(n)?bt:vt)),i!==t?null===i?(Z.removeAttr(e,n),void 0):s&&"set"in s&&a&&(o=s.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):s&&"get"in s&&a&&null!==(o=s.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,i,r,o,s=0;if(t&&1===e.nodeType)for(i=t.split(tt);s<i.length;s++)r=i[s],r&&(n=Z.propFix[r]||r,o=Tt.test(r),o||Z.attr(e,r,""),e.removeAttribute(St?r:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(kt.test(e.nodeName)&&e.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return vt&&Z.nodeName(e,"button")?vt.get(e,t):t in e?e.value:null},set:function(e,t,n){return vt&&Z.nodeName(e,"button")?vt.set(e,t,n):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!Z.isXMLDoc(e),s&&(n=Z.propFix[n]||n,o=Z.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):xt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:t}}}}),bt={get:function(e,n){var i,r=Z.prop(e,n);return r===!0||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?Z.removeAttr(e,n):(i=Z.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},St||(yt={name:!0,id:!0,coords:!0},vt=Z.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(yt[n]?""!==i.value:i.specified)?i.value:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=H.createAttribute(n),e.setAttributeNode(i)),i.value=t+""}},Z.each(["width","height"],function(e,t){Z.attrHooks[t]=Z.extend(Z.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),Z.attrHooks.contenteditable={get:vt.get,set:function(e,t,n){""===t&&(t="false"),vt.set(e,t,n)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(e,n){Z.attrHooks[n]=Z.extend(Z.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),Z.support.style||(Z.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null
}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}})});var Et=/^(?:textarea|input|select)$/i,$t=/^([^\.]*|)(?:\.(.+)|)$/,Mt=/(?:^|\s)hover(\.\S+|)\b/,jt=/^key/,Ft=/^(?:mouse|contextmenu)|click/,At=/^(?:focusinfocus|focusoutblur)$/,Lt=function(e){return Z.event.special.hover?e:e.replace(Mt,"mouseenter$1 mouseleave$1")};Z.event={add:function(e,n,i,r,o){var s,a,l,u,c,d,h,p,f,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(s=Z._data(e))){for(i.handler&&(f=i,i=f.handler,o=f.selector),i.guid||(i.guid=Z.guid++),l=s.events,l||(s.events=l={}),a=s.handle,a||(s.handle=a=function(e){return"undefined"==typeof Z||e&&Z.event.triggered===e.type?t:Z.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=Z.trim(Lt(n)).split(" "),u=0;u<n.length;u++)c=$t.exec(n[u])||[],d=c[1],h=(c[2]||"").split(".").sort(),g=Z.event.special[d]||{},d=(o?g.delegateType:g.bindType)||d,g=Z.event.special[d]||{},p=Z.extend({type:d,origType:c[1],data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&Z.expr.match.needsContext.test(o),namespace:h.join(".")},f),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,r,h,a)!==!1||(e.addEventListener?e.addEventListener(d,a,!1):e.attachEvent&&e.attachEvent("on"+d,a))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),o?m.splice(m.delegateCount++,0,p):m.push(p),Z.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,i,r){var o,s,a,l,u,c,d,h,p,f,m,g=Z.hasData(e)&&Z._data(e);if(g&&(h=g.events)){for(t=Z.trim(Lt(t||"")).split(" "),o=0;o<t.length;o++)if(s=$t.exec(t[o])||[],a=l=s[1],u=s[2],a){for(p=Z.event.special[a]||{},a=(i?p.delegateType:p.bindType)||a,f=h[a]||[],c=f.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<f.length;d++)m=f[d],!r&&l!==m.origType||n&&n.guid!==m.guid||u&&!u.test(m.namespace)||i&&i!==m.selector&&("**"!==i||!m.selector)||(f.splice(d--,1),m.selector&&f.delegateCount--,p.remove&&p.remove.call(e,m));0===f.length&&c!==f.length&&(p.teardown&&p.teardown.call(e,u,g.handle)!==!1||Z.removeEvent(e,a,g.handle),delete h[a])}else for(a in h)Z.event.remove(e,a+t[o],n,i,!0);Z.isEmptyObject(h)&&(delete g.handle,Z.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,a,l,u,c,d,h,p,f,m,g=n.type||n,v=[];if(!At.test(g+Z.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),r&&!Z.event.customEvent[g]||Z.event.global[g]))if(n="object"==typeof n?n[Z.expando]?n:new Z.Event(g,n):new Z.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=a,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",r){if(n.result=t,n.target||(n.target=r),i=null!=i?Z.makeArray(i):[],i.unshift(n),h=Z.event.special[g]||{},!h.trigger||h.trigger.apply(r,i)!==!1){if(f=[[r,h.bindType||g]],!o&&!h.noBubble&&!Z.isWindow(r)){for(m=h.delegateType||g,u=At.test(m+g)?r:r.parentNode,c=r;u;u=u.parentNode)f.push([u,m]),c=u;c===(r.ownerDocument||H)&&f.push([c.defaultView||c.parentWindow||e,m])}for(l=0;l<f.length&&!n.isPropagationStopped();l++)u=f[l][0],n.type=f[l][1],p=(Z._data(u,"events")||{})[n.type]&&Z._data(u,"handle"),p&&p.apply(u,i),p=d&&u[d],p&&Z.acceptData(u)&&p.apply&&p.apply(u,i)===!1&&n.preventDefault();return n.type=g,o||n.isDefaultPrevented()||h._default&&h._default.apply(r.ownerDocument,i)!==!1||"click"===g&&Z.nodeName(r,"a")||!Z.acceptData(r)||d&&r[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!Z.isWindow(r)&&(c=r[d],c&&(r[d]=null),Z.event.triggered=g,r[g](),Z.event.triggered=t,c&&(r[d]=c)),n.result}}else{s=Z.cache;for(l in s)s[l].events&&s[l].events[g]&&Z.event.trigger(n,i,s[l].handle.elem,!0)}}},dispatch:function(n){n=Z.event.fix(n||e.event);var i,r,o,s,a,l,u,c,d,h=(Z._data(this,"events")||{})[n.type]||[],p=h.delegateCount,f=G.call(arguments),m=!n.exclusive&&!n.namespace,g=Z.event.special[n.type]||{},v=[];if(f[0]=n,n.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,n)!==!1){if(p&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(a={},u=[],i=0;p>i;i++)c=h[i],d=c.selector,a[d]===t&&(a[d]=c.needsContext?Z(d,this).index(o)>=0:Z.find(d,this,null,[o]).length),a[d]&&u.push(c);u.length&&v.push({elem:o,matches:u})}for(h.length>p&&v.push({elem:this,matches:h.slice(p)}),i=0;i<v.length&&!n.isPropagationStopped();i++)for(l=v[i],n.currentTarget=l.elem,r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++)c=l.matches[r],(m||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,s=((Z.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,f),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||H,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i=e,r=Z.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=Z.Event(i),t=o.length;t;)n=o[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||H),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Z.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,t):Z.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=H.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?s:o):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),this[Z.expando]=!0,void 0):new Z.Event(e,t)},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return o.selector,(!r||r!==i&&!Z.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){return Z.nodeName(this,"form")?!1:(Z.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=Z.nodeName(n,"input")||Z.nodeName(n,"button")?n.form:t;i&&!Z._data(i,"_submit_attached")&&(Z.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),Z._data(i,"_submit_attached",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Z.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Z.nodeName(this,"form")?!1:(Z.event.remove(this,"._submit"),void 0)}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){return Et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,e,!0)})),!1):(Z.event.add(this,"beforeactivate._change",function(e){var t=e.target;Et.test(t.nodeName)&&!Z._data(t,"_change_attached")&&(Z.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Z.event.simulate("change",this.parentNode,e,!0)}),Z._data(t,"_change_attached",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Z.event.remove(this,"._change"),!Et.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){0===n++&&H.addEventListener(e,i,!0)},teardown:function(){0===--n&&H.removeEventListener(e,i,!0)}}}),Z.fn.extend({on:function(e,n,i,r,s){var a,l;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],s);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=o;else if(!r)return this;return 1===s&&(a=r,r=function(e){return Z().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=o),this.each(function(){Z.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Z(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Z(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Z.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Z.guid++,i=0,r=function(n){var r=(Z._data(this,"lastToggle"+e.guid)||0)%i;return Z._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},jt.test(t)&&(Z.event.fixHooks[t]=Z.event.keyHooks),Ft.test(t)&&(Z.event.fixHooks[t]=Z.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(e,t){function n(e,t,n,i){n=n||[],t=t||F;var r,o,s,a,l=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(s=_(t),!s&&!i&&(r=nt.exec(e)))if(a=r[1]){if(9===l){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&k(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return I.apply(n,D.call(t.getElementsByTagName(e),0)),n;if((a=r[3])&&ht&&t.getElementsByClassName)return I.apply(n,D.call(t.getElementsByClassName(a),0)),n}return m(e.replace(Y,"$1"),t,n,i,s)}function i(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return O(function(t){return t=+t,O(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function s(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}function a(e,t){var i,r,o,s,a,l,u,c=B[M][e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=y.preFilter;a;){(!i||(r=J.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=et.exec(a))&&(o.push(i=new j(r.shift())),a=a.slice(i.length),i.type=r[0].replace(Y," "));for(s in y.filter)!(r=at[s].exec(a))||u[s]&&!(r=u[s](r))||(o.push(i=new j(r.shift())),a=a.slice(i.length),i.type=s,i.matches=r);if(!i)break}return t?a.length:a?n.error(e):B(e,l).slice(0)}function l(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,o=N++;return t.first?function(t,n,o){for(;t=t[i];)if(r||1===t.nodeType)return e(t,n,o)}:function(t,n,s){if(s){for(;t=t[i];)if((r||1===t.nodeType)&&e(t,n,s))return t}else for(var a,l=L+" "+o+" ",u=l+v;t=t[i];)if(r||1===t.nodeType){if((a=t[M])===u)return t.sizset;if("string"==typeof a&&0===a.indexOf(l)){if(t.sizset)return t}else{if(t[M]=u,e(t,n,s))return t.sizset=!0,t;t.sizset=!1}}}}function u(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function c(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),u&&t.push(a));return s}function d(e,t,n,i,r,o){return i&&!i[M]&&(i=d(i)),r&&!r[M]&&(r=d(r,o)),O(function(o,s,a,l){var u,d,h,p=[],m=[],g=s.length,v=o||f(t||"*",a.nodeType?[a]:a,[]),b=!e||!o&&t?v:c(v,p,e,a,l),y=n?r||(o?e:g||i)?[]:s:b;if(n&&n(b,y,a,l),i)for(u=c(y,m),i(u,[],a,l),d=u.length;d--;)(h=u[d])&&(y[m[d]]=!(b[m[d]]=h));if(o){if(r||e){if(r){for(u=[],d=y.length;d--;)(h=y[d])&&u.push(b[d]=h);r(null,y=[],u,l)}for(d=y.length;d--;)(h=y[d])&&(u=r?z.call(o,h):p[d])>-1&&(o[u]=!(s[u]=h))}}else y=c(y===s?y.splice(g,y.length):y),r?r(null,s,y,l):I.apply(s,y)})}function h(e){for(var t,n,i,r=e.length,o=y.relative[e[0].type],s=o||y.relative[" "],a=o?1:0,c=l(function(e){return e===t},s,!0),p=l(function(e){return z.call(t,e)>-1},s,!0),f=[function(e,n,i){return!o&&(i||n!==S)||((t=n).nodeType?c(e,n,i):p(e,n,i))}];r>a;a++)if(n=y.relative[e[a].type])f=[l(u(f),n)];else{if(n=y.filter[e[a].type].apply(null,e[a].matches),n[M]){for(i=++a;r>i&&!y.relative[e[i].type];i++);return d(a>1&&u(f),a>1&&e.slice(0,a-1).join("").replace(Y,"$1"),n,i>a&&h(e.slice(a,i)),r>i&&h(e=e.slice(i)),r>i&&e.join(""))}f.push(n)}return u(f)}function p(e,t){var i=t.length>0,r=e.length>0,o=function(s,a,l,u,d){var h,p,f,m=[],g=0,b="0",w=s&&[],_=null!=d,k=S,x=s||r&&y.find.TAG("*",d&&a.parentNode||a),C=L+=null==k?1:Math.E;for(_&&(S=a!==F&&a,v=o.el);null!=(h=x[b]);b++){if(r&&h){for(p=0;f=e[p];p++)if(f(h,a,l)){u.push(h);break}_&&(L=C,v=++o.el)}i&&((h=!f&&h)&&g--,s&&w.push(h))}if(g+=b,i&&b!==g){for(p=0;f=t[p];p++)f(w,m,a,l);if(s){if(g>0)for(;b--;)w[b]||m[b]||(m[b]=P.call(u));m=c(m)}I.apply(u,m),_&&!s&&m.length>0&&g+t.length>1&&n.uniqueSort(u)}return _&&(L=C,S=k),w};return o.el=0,i?O(o):o}function f(e,t,i){for(var r=0,o=t.length;o>r;r++)n(e,t[r],i);return i}function m(e,t,n,i,r){var o,s,l,u,c,d=a(e);if(d.length,!i&&1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(l=s[0]).type&&9===t.nodeType&&!r&&y.relative[s[1].type]){if(t=y.find.ID(l.matches[0].replace(st,""),t,r)[0],!t)return n;e=e.slice(s.shift().length)}for(o=at.POS.test(e)?-1:s.length-1;o>=0&&(l=s[o],!y.relative[u=l.type]);o--)if((c=y.find[u])&&(i=c(l.matches[0].replace(st,""),it.test(s[0].type)&&t.parentNode||t,r))){if(s.splice(o,1),e=i.length&&s.join(""),!e)return I.apply(n,D.call(i,0)),n;break}}return x(e,d)(i,t,r,n,it.test(e)),n}function g(){}var v,b,y,w,_,k,x,C,T,S,E=!0,$="undefined",M=("sizcache"+Math.random()).replace(".",""),j=String,F=e.document,A=F.documentElement,L=0,N=0,P=[].pop,I=[].push,D=[].slice,z=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},O=function(e,t){return e[M]=null==t||t,e},W=function(){var e={},t=[];return O(function(n,i){return t.push(n)>y.cacheLength&&delete e[t.shift()],e[n+" "]=i},e)},H=W(),B=W(),R=W(),q="[\\x20\\t\\r\\n\\f]",V="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=V.replace("w","w#"),G="([*^$|!~]?=)",K="\\["+q+"*("+V+")"+q+"*(?:"+G+q+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+q+"*\\]",Q=":("+V+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+K+")|[^:]|\\\\.)*|.*))\\)|)",X=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)",Y=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),J=new RegExp("^"+q+"*,"+q+"*"),et=new RegExp("^"+q+"*([\\x20\\t\\r\\n\\f>+~])"+q+"*"),tt=new RegExp(Q),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,it=/[\x20\t\r\n\f]*[+~]/,rt=/h\d/i,ot=/input|select|textarea|button/i,st=/\\(?!\\)/g,at={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),NAME:new RegExp("^\\[name=['\"]?("+V+")['\"]?\\]"),TAG:new RegExp("^("+V.replace("w","w*")+")"),ATTR:new RegExp("^"+K),PSEUDO:new RegExp("^"+Q),POS:new RegExp(X,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),needsContext:new RegExp("^"+q+"*[>+~]|"+X,"i")},lt=function(e){var t=F.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ut=lt(function(e){return e.appendChild(F.createComment("")),!e.getElementsByTagName("*").length}),ct=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==$&&"#"===e.firstChild.getAttribute("href")}),dt=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ht=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),pt=lt(function(e){e.id=M+0,e.innerHTML="<a name='"+M+"'></a><div name='"+M+"'></div>",A.insertBefore(e,A.firstChild);var t=F.getElementsByName&&F.getElementsByName(M).length===2+F.getElementsByName(M+0).length;return b=!F.getElementById(M),A.removeChild(e),t});try{D.call(A.childNodes,0)[0].nodeType}catch(ft){D=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},w=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=w(t);return n},_=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},k=n.contains=A.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:A.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=_(e);return i||(t=t.toLowerCase()),(n=y.attrHandle[t])?n(e):i||dt?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},y=n.selectors={cacheLength:50,createPseudo:O,match:at,attrHandle:ct?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:b?function(e,t,n){if(typeof t.getElementById!==$&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,n,i){if(typeof n.getElementById!==$&&!i){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==$&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:ut?function(e,t){return typeof t.getElementsByTagName!==$?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,r=[],o=0;i=n[o];o++)1===i.nodeType&&r.push(i);return r}return n},NAME:pt&&function(e,t){return typeof t.getElementsByName!==$?t.getElementsByName(name):void 0},CLASS:ht&&function(e,t,n){return typeof t.getElementsByClassName===$||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(st,""),e[3]=(e[4]||e[5]||"").replace(st,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return at.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(n=a(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:b?function(e){return e=e.replace(st,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(st,""),function(t){var n=typeof t.getAttributeNode!==$&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(st,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=H[M][e+" "];return t||(t=new RegExp("(^|"+q+")"+e+"("+q+"|$)"))&&H(e,function(e){return t.test(e.className||typeof e.getAttribute!==$&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var o=n.attr(r,e);return null==o?"!="===t:t?(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.substr(o.length-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t?o===i||o.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i){return"nth"===e?function(e){var t,r,o=e.parentNode;if(1===n&&0===i)return!0;if(o)for(r=0,t=o.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return r-=i,r===n||0===r%n&&r/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,r=y.pseudos[e]||y.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[M]?r(t):r.length>1?(i=[e,e,"",t],y.setFilters.hasOwnProperty(e.toLowerCase())?O(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)i=z.call(e,o[s]),e[i]=!(n[i]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:O(function(e){var t=[],n=[],i=x(e.replace(Y,"$1"));return i[M]?O(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:O(function(e){return function(t){return n(e,t).length>0}}),contains:O(function(e){return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!y.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return rt.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return ot.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[0>n?n+t:n]}),even:o(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},C=A.compareDocumentPosition?function(e,t){return e===t?(T=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return T=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],a=e.parentNode,l=t.parentNode,u=a;if(a===l)return s(e,t);if(!a)return-1;if(!l)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=r.length,i=o.length;for(var c=0;n>c&&i>c;c++)if(r[c]!==o[c])return s(r[c],o[c]);return c===n?s(e,o[c],-1):s(r[c],t,1)},[0,0].sort(C),E=!T,n.uniqueSort=function(e){var t,n=[],i=1,r=0;if(T=E,e.sort(C),T){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x=n.compile=function(e,t){var n,i=[],r=[],o=R[M][e+" "];if(!o){for(t||(t=a(e)),n=t.length;n--;)o=h(t[n]),o[M]?i.push(o):r.push(o);o=R(e,p(r,i))}return o},F.querySelectorAll&&!function(){var e,t=m,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],s=[":active"],l=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+q+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+q+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),m=function(e,n,r,s,l){if(!s&&!l&&!o.test(e)){var u,c,d=!0,h=M,p=n,f=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(u=a(e),(d=n.getAttribute("id"))?h=d.replace(i,"\\$&"):n.setAttribute("id",h),h="[id='"+h+"'] ",c=u.length;c--;)u[c]=h+u[c].join("");p=it.test(e)&&n.parentNode||n,f=u.join(",")}if(f)try{return I.apply(r,D.call(p.querySelectorAll(f),0)),r}catch(m){}finally{d||n.removeAttribute("id")}}return t(e,n,r,s,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),s.push("!=",Q)}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(t,i){if(i=i.replace(r,"='$1']"),!_(t)&&!s.test(i)&&!o.test(i))try{var a=l.call(t,i);if(a||e||t.document&&11!==t.document.nodeType)return a}catch(u){}return n(i,null,null,[t]).length>0})}(),y.pseudos.nth=y.pseudos.eq,y.filters=g.prototype=y.pseudos,y.setFilters=new g,n.attr=Z.attr,Z.find=n,Z.expr=n.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=n.uniqueSort,Z.text=n.getText,Z.isXMLDoc=n.isXML,Z.contains=n.contains}(e);var Nt=/Until$/,Pt=/^(?:parents|prev(?:Until|All))/,It=/^.[^:#\[\.,]*$/,Dt=Z.expr.match.needsContext,zt={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(e){var t,n,i,r,o,s,a=this;if("string"!=typeof e)return Z(e).filter(function(){for(t=0,n=a.length;n>t;t++)if(Z.contains(a[t],this))return!0});for(s=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(i=s.length,Z.find(e,this[t],s),t>0)for(r=i;r<s.length;r++)for(o=0;i>o;o++)if(s[o]===s[r]){s.splice(r--,1);break}return s},has:function(e){var t,n=Z(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(Z.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Dt.test(e)?Z(e,this.context).index(this[0])>=0:Z.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=Dt.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(s?s.index(n)>-1:Z.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?Z.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?Z.inArray(this[0],Z(e)):Z.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Z(e,t):Z.makeArray(e&&e.nodeType?[e]:e),i=Z.merge(this.get(),n);return this.pushStack(a(n[0])||a(i[0])?i:Z.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return Z.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var r=Z.map(this,t,n);return Nt.test(e)||(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),r=this.length>1&&!zt[e]?Z.unique(r):r,this.length>1&&Pt.test(e)&&(r=r.reverse()),this.pushStack(r,e,G.call(arguments).join(","))}}),Z.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Z.find.matchesSelector(t[0],e)?[t[0]]:[]:Z.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!Z(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ot="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wt=/ jQuery\d+="(?:null|\d+)"/g,Ht=/^\s+/,Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rt=/<([\w:]+)/,qt=/<tbody/i,Vt=/<|&#?\w+;/,Ut=/<(?:script|style|link)/i,Gt=/<(?:script|object|embed|option|style)/i,Kt=new RegExp("<(?:"+Ot+")[\\s/>]","i"),Qt=/^(?:checkbox|radio)$/,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/\/(java|ecma)script/i,Zt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Jt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=c(H),tn=en.appendChild(H.createElement("div"));Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td,Z.support.htmlSerialize||(Jt._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(e){return Z.access(this,function(e){return e===t?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Z.isFunction(e))return this.each(function(t){Z(this).wrapAll(e.call(this,t))});if(this[0]){var t=Z(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(e,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||Z.filter(e,[n]).length)&&(t||1!==n.nodeType||(Z.cleanData(n.getElementsByTagName("*")),Z.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Z.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return Z.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Wt,""):t;if(!("string"!=typeof e||Ut.test(e)||!Z.support.htmlSerialize&&Kt.test(e)||!Z.support.leadingWhitespace&&Ht.test(e)||Jt[(Rt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Bt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(Z.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return a(this[0])?this.length?this.pushStack(Z(Z.isFunction(e)?e():e),"replaceWith",e):this:Z.isFunction(e)?this.each(function(t){var n=Z(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=Z(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Z(this).remove(),t?Z(t).before(e):Z(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=[].concat.apply([],e);var r,o,s,a,l=0,u=e[0],c=[],h=this.length;if(!Z.support.checkClone&&h>1&&"string"==typeof u&&Xt.test(u))return this.each(function(){Z(this).domManip(e,n,i)});if(Z.isFunction(u))return this.each(function(r){var o=Z(this);e[0]=u.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(r=Z.buildFragment(e,this,c),s=r.fragment,o=s.firstChild,1===s.childNodes.length&&(s=o),o)for(n=n&&Z.nodeName(o,"tr"),a=r.cacheable||h-1;h>l;l++)i.call(n&&Z.nodeName(this[l],"table")?d(this[l],"tbody"):this[l],l===a?s:Z.clone(s,!0,!0));s=o=null,c.length&&Z.each(c,function(e,t){t.src?Z.ajax?Z.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Zt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Z.buildFragment=function(e,n,i){var r,o,s,a=e[0];return n=n||H,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof a&&a.length<512&&n===H&&"<"===a.charAt(0))||Gt.test(a)||!Z.support.checkClone&&Xt.test(a)||!Z.support.html5Clone&&Kt.test(a)||(o=!0,r=Z.fragments[a],s=r!==t),r||(r=n.createDocumentFragment(),Z.clean(e,n,r,i),o&&(Z.fragments[a]=s&&r)),{fragment:r,cacheable:o}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(n){var i,r=0,o=[],s=Z(n),a=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return s[t](this[0]),this;for(;a>r;r++)i=(r>0?this.clone(!0):this).get(),Z(s[r])[t](i),o=o.concat(i);return this.pushStack(o,e,s.selector)}}),Z.extend({clone:function(e,t,n){var i,r,o,s;if(Z.support.html5Clone||Z.isXMLDoc(e)||!Kt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(s=tn.firstChild)),!(Z.support.noCloneEvent&&Z.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(p(e,s),i=f(e),r=f(s),o=0;i[o];++o)r[o]&&p(i[o],r[o]);if(t&&(h(e,s),n))for(i=f(e),r=f(s),o=0;i[o];++o)h(i[o],r[o]);return i=r=null,s},clean:function(e,t,n,i){var r,o,s,a,l,u,d,h,p,f,g,v=t===H&&en,b=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=H),r=0;null!=(s=e[r]);r++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(Vt.test(s)){for(v=v||c(t),d=t.createElement("div"),v.appendChild(d),s=s.replace(Bt,"<$1></$2>"),a=(Rt.exec(s)||["",""])[1].toLowerCase(),l=Jt[a]||Jt._default,u=l[0],d.innerHTML=l[1]+s+l[2];u--;)d=d.lastChild;if(!Z.support.tbody)for(h=qt.test(s),p="table"!==a||h?"<table>"!==l[1]||h?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,o=p.length-1;o>=0;--o)Z.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!Z.support.leadingWhitespace&&Ht.test(s)&&d.insertBefore(t.createTextNode(Ht.exec(s)[0]),d.firstChild),s=d.childNodes,d.parentNode.removeChild(d)}else s=t.createTextNode(s);s.nodeType?b.push(s):Z.merge(b,s)}if(d&&(s=d=v=null),!Z.support.appendChecked)for(r=0;null!=(s=b[r]);r++)Z.nodeName(s,"input")?m(s):"undefined"!=typeof s.getElementsByTagName&&Z.grep(s.getElementsByTagName("input"),m);if(n)for(f=function(e){return!e.type||Yt.test(e.type)?i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},r=0;null!=(s=b[r]);r++)Z.nodeName(s,"script")&&f(s)||(n.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(g=Z.grep(Z.merge([],s.getElementsByTagName("script")),f),b.splice.apply(b,[r+1,0].concat(g)),r+=g.length));return b},cleanData:function(e,t){for(var n,i,r,o,s=0,a=Z.expando,l=Z.cache,u=Z.support.deleteExpando,c=Z.event.special;null!=(r=e[s]);s++)if((t||Z.acceptData(r))&&(i=r[a],n=i&&l[i])){if(n.events)for(o in n.events)c[o]?Z.event.remove(r,o):Z.removeEvent(r,o,n.handle);l[i]&&(delete l[i],u?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,Z.deletedIds.push(i))}}}),function(){var e,t;Z.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Z.uaMatch(R.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Z.browser=t,Z.sub=function(){function e(t,n){return new e.fn.init(t,n)}Z.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof Z&&!(i instanceof e)&&(i=e(i)),Z.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(H);return e}}();var nn,rn,on,sn=/alpha\([^)]*\)/i,an=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,un=/^(none|table(?!-c[ea]).+)/,cn=/^margin/,dn=new RegExp("^("+J+")(.*)$","i"),hn=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),pn=new RegExp("^([-+])=("+J+")","i"),fn={BODY:"block"},mn={position:"absolute",visibility:"hidden",display:"block"},gn={letterSpacing:0,fontWeight:400},vn=["Top","Right","Bottom","Left"],bn=["Webkit","O","Moz","ms"],yn=Z.fn.toggle;Z.fn.extend({css:function(e,n){return Z.access(this,function(e,n,i){return i!==t?Z.style(e,n,i):Z.css(e,n)},e,n,arguments.length>1)},show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e,t){var n="boolean"==typeof e;return Z.isFunction(e)&&Z.isFunction(t)?yn.apply(this,arguments):this.each(function(){(n?e:v(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,l=Z.camelCase(n),u=e.style;if(n=Z.cssProps[l]||(Z.cssProps[l]=g(u,l)),a=Z.cssHooks[n]||Z.cssHooks[l],i===t)return a&&"get"in a&&(o=a.get(e,!1,r))!==t?o:u[n];if(s=typeof i,"string"===s&&(o=pn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Z.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||Z.cssNumber[l]||(i+="px"),a&&"set"in a&&(i=a.set(e,i,r))===t)))try{u[n]=i}catch(c){}}},css:function(e,n,i,r){var o,s,a,l=Z.camelCase(n);return n=Z.cssProps[l]||(Z.cssProps[l]=g(e.style,l)),a=Z.cssHooks[n]||Z.cssHooks[l],a&&"get"in a&&(o=a.get(e,!0,r)),o===t&&(o=nn(e,n)),"normal"===o&&n in gn&&(o=gn[n]),i||r!==t?(s=parseFloat(o),i||Z.isNumeric(s)?s||0:o):o},swap:function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];i=n.call(e);for(r in t)e.style[r]=o[r];return i}}),e.getComputedStyle?nn=function(t,n){var i,r,o,s,a=e.getComputedStyle(t,null),l=t.style;return a&&(i=a.getPropertyValue(n)||a[n],""!==i||Z.contains(t.ownerDocument,t)||(i=Z.style(t,n)),hn.test(i)&&cn.test(n)&&(r=l.width,o=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=a.width,l.width=r,l.minWidth=o,l.maxWidth=s)),i}:H.documentElement.currentStyle&&(nn=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],o=e.style;return null==r&&o&&o[t]&&(r=o[t]),hn.test(r)&&!ln.test(t)&&(n=o.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=n,i&&(e.runtimeStyle.left=i)),""===r?"auto":r}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&un.test(nn(e,"display"))?Z.swap(e,mn,function(){return _(e,t,i)}):_(e,t,i):void 0},set:function(e,n,i){return y(e,n,i?w(e,t,i,Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing")):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(e,t){return an.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=Z.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===Z.trim(o.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=sn.test(o)?o.replace(sn,r):o+" "+r)}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(e,t){return Z.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(e,t){Z.cssHooks[t]={get:function(e,n){if(n){var i=nn(e,t);return hn.test(i)?Z(e).position()[t]+"px":i}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Z.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],o={};for(i=0;4>i;i++)o[e+vn[i]+t]=r[i]||r[i-2]||r[0];return o}},cn.test(e)||(Z.cssHooks[e+t].set=y)});var wn=/%20/g,_n=/\[\]$/,kn=/\r?\n/g,xn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Cn=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Cn.test(this.nodeName)||xn.test(this.type))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(kn,"\r\n")}}):{name:t.name,value:n.replace(kn,"\r\n")}}).get()}}),Z.param=function(e,n){var i,r=[],o=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)
};if(n===t&&(n=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){o(this.name,this.value)});else for(i in e)x(i,e[i],n,o);return r.join("&").replace(wn,"+")};var Tn,Sn,En=/#.*$/,$n=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,jn=/^(?:GET|HEAD)$/,Fn=/^\/\//,An=/\?/,Ln=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Nn=/([?&])_=[^&]*/,Pn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,In=Z.fn.load,Dn={},zn={},On=["*/"]+["*"];try{Sn=B.href}catch(Wn){Sn=H.createElement("a"),Sn.href="",Sn=Sn.href}Tn=Pn.exec(Sn.toLowerCase())||[],Z.fn.load=function(e,n,i){if("string"!=typeof e&&In)return In.apply(this,arguments);if(!this.length)return this;var r,o,s,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),Z.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),Z.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){i&&a.each(i,s||[e.responseText,t,e])}}).done(function(e){s=arguments,a.html(r?Z("<div>").append(e.replace(Ln,"")).find(r):e)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.each(["get","post"],function(e,n){Z[n]=function(e,i,r,o){return Z.isFunction(i)&&(o=o||r,r=i,i=t),Z.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),Z.extend({getScript:function(e,n){return Z.get(e,t,n,"script")},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?S(e,Z.ajaxSettings):(t=e,e=Z.ajaxSettings),S(e,t),e},ajaxSettings:{url:Sn,isLocal:Mn.test(Tn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":On},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(Dn),ajaxTransport:C(zn),ajax:function(e,n){function i(e,n,i,s){var u,d,b,y,_,x=n;2!==w&&(w=2,l&&clearTimeout(l),a=t,o=s||"",k.readyState=e>0?4:0,i&&(y=E(h,k,i)),e>=200&&300>e||304===e?(h.ifModified&&(_=k.getResponseHeader("Last-Modified"),_&&(Z.lastModified[r]=_),_=k.getResponseHeader("Etag"),_&&(Z.etag[r]=_)),304===e?(x="notmodified",u=!0):(u=$(h,y),x=u.state,d=u.data,b=u.error,u=!b)):(b=x,(!x||e)&&(x="error",0>e&&(e=0))),k.status=e,k.statusText=(n||x)+"",u?m.resolveWith(p,[d,x,k]):m.rejectWith(p,[k,x,b]),k.statusCode(v),v=t,c&&f.trigger("ajax"+(u?"Success":"Error"),[k,h,u?d:b]),g.fireWith(p,[k,x]),c&&(f.trigger("ajaxComplete",[k,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,l,u,c,d,h=Z.ajaxSetup({},n),p=h.context||h,f=p!==h&&(p.nodeType||p instanceof Z)?Z(p):Z.event,m=Z.Deferred(),g=Z.Callbacks("once memory"),v=h.statusCode||{},b={},y={},w=0,_="canceled",k={readyState:0,setRequestHeader:function(e,t){if(!w){var n=e.toLowerCase();e=y[n]=y[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return 2===w?o:null},getResponseHeader:function(e){var n;if(2===w){if(!s)for(s={};n=$n.exec(o);)s[n[1].toLowerCase()]=n[2];n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return w||(h.mimeType=e),this},abort:function(e){return e=e||_,a&&a.abort(e),i(0,e),this}};if(m.promise(k),k.success=k.done,k.error=k.fail,k.complete=g.add,k.statusCode=function(e){if(e){var t;if(2>w)for(t in e)v[t]=[v[t],e[t]];else t=e[k.status],k.always(t)}return this},h.url=((e||h.url)+"").replace(En,"").replace(Fn,Tn[1]+"//"),h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().split(tt),null==h.crossDomain&&(u=Pn.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===Tn[1]&&u[2]===Tn[2]&&(u[3]||("http:"===u[1]?80:443))==(Tn[3]||("http:"===Tn[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),T(Dn,h,n,k),2===w)return k;if(c=h.global,h.type=h.type.toUpperCase(),h.hasContent=!jn.test(h.type),c&&0===Z.active++&&Z.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(An.test(h.url)?"&":"?")+h.data,delete h.data),r=h.url,h.cache===!1)){var x=Z.now(),C=h.url.replace(Nn,"$1_="+x);h.url=C+(C===h.url?(An.test(h.url)?"&":"?")+"_="+x:"")}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(r=r||h.url,Z.lastModified[r]&&k.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&k.setRequestHeader("If-None-Match",Z.etag[r])),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+On+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)k.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(p,k,h)===!1||2===w))return k.abort();_="abort";for(d in{success:1,error:1,complete:1})k[d](h[d]);if(a=T(zn,h,n,k)){k.readyState=1,c&&f.trigger("ajaxSend",[k,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},h.timeout));try{w=1,a.send(b,i)}catch(S){if(!(2>w))throw S;i(-1,S)}}else i(-1,"No Transport");return k},active:0,lastModified:{},etag:{}});var Hn=[],Bn=/\?/,Rn=/(=)\?(?=&|$)|\?\?/,qn=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Hn.pop()||Z.expando+"_"+qn++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.data,u=n.url,c=n.jsonp!==!1,d=c&&Rn.test(u),h=c&&!d&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rn.test(l);return"jsonp"===n.dataTypes[0]||d||h?(o=n.jsonpCallback=Z.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,s=e[o],d?n.url=u.replace(Rn,"$1"+o):h?n.data=l.replace(Rn,"$1"+o):c&&(n.url+=(Bn.test(u)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||Z.error(o+" was not called"),a[0]},n.dataTypes[0]="json",e[o]=function(){a=arguments},r.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,Hn.push(o)),a&&Z.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(r,o){n=H.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Vn,Un=e.ActiveXObject?function(){for(var e in Vn)Vn[e](0,1)}:!1,Gn=0;Z.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&M()||j()}:M,function(e){Z.extend(Z.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(n){if(!n.crossDomain||Z.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(e,r){var a,u,c,d,h;try{if(i&&(r||4===l.readyState))if(i=t,s&&(l.onreadystatechange=Z.noop,Un&&delete Vn[s]),r)4!==l.readyState&&l.abort();else{a=l.status,c=l.getAllResponseHeaders(),d={},h=l.responseXML,h&&h.documentElement&&(d.xml=h);try{d.text=l.responseText}catch(p){}try{u=l.statusText}catch(p){u=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(f){r||o(-1,f)}d&&o(a,u,d,c)},n.async?4===l.readyState?setTimeout(i,0):(s=++Gn,Un&&(Vn||(Vn={},Z(e).unload(Un)),Vn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Kn,Qn,Xn=/^(?:toggle|show|hide)$/,Yn=new RegExp("^(?:([-+])=|)("+J+")([a-z%]*)$","i"),Zn=/queueHooks$/,Jn=[P],ei={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=Yn.exec(t),s=r.cur(),a=+s||0,l=1,u=20;if(o){if(n=+o[2],i=o[3]||(Z.cssNumber[e]?"":"px"),"px"!==i&&a){a=Z.css(r.elem,e,!0)||n||1;do l=l||".5",a/=l,Z.style(r.elem,e,a+i);while(l!==(l=r.cur()/s)&&1!==l&&--u)}r.unit=i,r.start=a,r.end=o[1]?a+(o[1]+1)*n:n}return r}]};Z.Animation=Z.extend(L,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],ei[n]=ei[n]||[],ei[n].unshift(t)},prefilter:function(e,t){t?Jn.unshift(e):Jn.push(e)}}),Z.Tween=I,I.prototype={constructor:I,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(i,r,o){return null==i||"boolean"==typeof i||!e&&Z.isFunction(i)&&Z.isFunction(r)?n.apply(this,arguments):this.animate(D(t,!0),i,r,o)}}),Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Z.isEmptyObject(e),o=Z.speed(t,n,i),s=function(){var t=L(this,Z.extend({},e),o);r&&t.stop(!0)};return r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=Z.timers,s=Z._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&Zn.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&Z.dequeue(this,e)})}}),Z.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.timers=[],Z.fx=I.prototype.init,Z.fx.tick=function(){var e,n=Z.timers,i=0;for(Kn=Z.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||Z.fx.stop(),Kn=t},Z.fx.timer=function(e){e()&&Z.timers.push(e)&&!Qn&&(Qn=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval(Qn),Qn=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length});var ti=/^(?:body|html)$/i;Z.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var n,i,r,o,s,a,l,u={top:0,left:0},c=this[0],d=c&&c.ownerDocument;if(d)return(i=d.body)===c?Z.offset.bodyOffset(c):(n=d.documentElement,Z.contains(n,c)?("undefined"!=typeof c.getBoundingClientRect&&(u=c.getBoundingClientRect()),r=z(d),o=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,a=r.pageYOffset||n.scrollTop,l=r.pageXOffset||n.scrollLeft,{top:u.top+a-o,left:u.left+l-s}):u)},Z.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Z.css(e,"marginTop"))||0,n+=parseFloat(Z.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=Z.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,s=Z(e),a=s.offset(),l=Z.css(e,"top"),u=Z.css(e,"left"),c=("absolute"===i||"fixed"===i)&&Z.inArray("auto",[l,u])>-1,d={},h={};c?(h=s.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):s.css(d)}},Z.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),i=ti.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Z.css(e,"marginTop"))||0,n.left-=parseFloat(Z.css(e,"marginLeft"))||0,i.top+=parseFloat(Z.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(Z.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||H.body;e&&!ti.test(e.nodeName)&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||H.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);Z.fn[e]=function(r){return Z.access(this,function(e,r,o){var s=z(e);return o===t?s?n in s?s[n]:s.document.documentElement[r]:e[r]:(s?s.scrollTo(i?Z(s).scrollLeft():o,i?o:Z(s).scrollTop()):e[r]=o,void 0)},e,r,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(e,n){Z.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){Z.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return Z.access(this,function(n,i,r){var o;return Z.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?Z.css(n,i,r,a):Z.style(n,i,r,a)},n,s?r:t,s,null)}})}),e.jQuery=e.$=Z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z})}(window),function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};n()&&e.error("jquery-ujs has already been loaded!");var i;e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var r,o,s,a,l,u,c,d;if(i.fire(n,"ajax:before")){if(a=n.data("cross-domain"),l=a===t?null:a,u=n.data("with-credentials")||null,c=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),o=n.attr("action"),s=n.serializeArray();var h=n.data("ujs:submit-button");h&&(s.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(r=n.data("method"),o=i.href(n),s=n.data("params")||null);d={type:r||"GET",data:s,dataType:c,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[e,r])},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},xhrFields:{withCredentials:u},crossDomain:l},o&&(d.url=o);var p=i.ajax(d);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var r=i.href(n),o=n.data("method"),s=n.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),u=e('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&a!==t&&(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&u.attr("target",s),u.hide().append(c).appendTo("body"),u.submit()},disableFormElements:function(t){t.find(i.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(i.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,n=e.data("confirm"),r=!1;return n?(i.fire(e,"confirm")&&(r=i.confirm(n),t=i.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o,s=e(),a=n||"input,textarea",l=t.find(a);return l.each(function(){if(r=e(this),o=r.is(":checkbox,:radio")?r.is(":checked"):r.val(),!o==!i){if(r.is(":radio")&&l.filter('input:radio:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var r=n.data("events"),o=!0;return r!==t&&r.submit!==t&&e.each(r.submit,function(e,t){return"function"==typeof t.handler?o=t.handler(i):void 0}),o},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},i.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),e(document).delegate(i.linkClickSelector,"click.rails",function(n){var r=e(this),o=r.data("method"),s=r.data("params");if(!i.allowAction(r))return i.stopEverything(n);if(r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==t){if(!(!n.metaKey&&!n.ctrlKey||o&&"GET"!==o||s))return!0;var a=i.handleRemote(r);return a===!1?i.enableElement(r):a.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),e(document).delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),e(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var r=e(this),o=r.data("remote")!==t,s=i.blankInputs(r,i.requiredInputSelector),a=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(n);if(s&&r.attr("novalidate")==t&&i.fire(r,"ajax:aborted:required",[s]))return i.stopEverything(n);if(o){if(a){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return!e.support.submitBubbles&&e().jquery<"1.7"&&i.callFormSubmitBindings(r,n)===!1?i.stopEverything(n):(i.handleRemote(r),!1)}setTimeout(function(){i.disableFormElements(r)},13)}),e(document).delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var r=n.attr("name"),o=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),e(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),e(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),/*! jQuery UI - v1.9.2 - 2012-12-06
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.menu.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
function(e,t){function n(t,n){var r,o,s,a=t.nodeName.toLowerCase();return"area"===a?(r=t.parentNode,o=r.name,t.href&&o&&"map"===r.nodeName.toLowerCase()?(s=e("img[usemap=#"+o+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var i=this;setTimeout(function(){e(i).focus(),n&&n.call(i)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?a["inner"+i].call(this):this.each(function(){e(this).css(s,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,n)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,i,r,o,s){return e.ui.isOverAxis(t,i,o)&&e.ui.isOverAxis(n,r,s)}}))}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(t,n,i){var r,o,s,a,l=t.split(".")[0];t=t.split(".")[1],r=l+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new s(e,t)},e.extend(s,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(i,function(t,r){e.isFunction(r)&&(i[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}())}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:t},i,{constructor:s,namespace:l,widgetName:t,widgetBaseClass:r,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(n){for(var r,o,s=i.call(arguments,1),a=0,l=s.length;l>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==t&&(n[r]=e.isPlainObject(o)?e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),u=this;return s=!a&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var i,r=e.data(this,o);return r?e.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,l),i!==r&&i!==t?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+s+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(s||{})._init():e.data(this,o,new r(s,this))}),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,s,a=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(o=a[n]=e.widget.extend({},this.options[n]),s=0;s<r.length-1;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.delegate(c,u,a):n.bind(u,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&e.effects&&(e.effects.effect[a]||e.uiBackCompat!==!1&&e.effects[a])?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e,t){function n(e,t,n){return[parseInt(e[0],10)*(h.test(e[0])?t/100:1),parseInt(e[1],10)*(h.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var r,o=Math.max,s=Math.abs,a=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+%?/,d=/^\w+/,h=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(r!==t)return r;var n,i,o=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=o.children()[0];return e("body").append(o),n=s.offsetWidth,o.css("overflow","scroll"),i=s.offsetWidth,n===i&&(i=o[0].clientWidth),o.remove(),r=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var r,h,f,m,g,v=e(t.of),b=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(b),w=v[0],_=(t.collision||"flip").split(" "),k={};return 9===w.nodeType?(h=v.width(),f=v.height(),m={top:0,left:0}):e.isWindow(w)?(h=v.width(),f=v.height(),m={top:v.scrollTop(),left:v.scrollLeft()}):w.preventDefault?(t.at="left top",h=f=0,m={top:w.pageY,left:w.pageX}):(h=v.outerWidth(),f=v.outerHeight(),m=v.offset()),g=e.extend({},m),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=c.exec(i[0]),n=c.exec(i[1]),k[this]=[e?e[0]:0,n?n[0]:0],t[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===t.at[0]?g.left+=h:"center"===t.at[0]&&(g.left+=h/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),r=n(k.at,h,f),g.left+=r[0],g.top+=r[1],this.each(function(){var l,u,c=e(this),d=c.outerWidth(),p=c.outerHeight(),w=i(this,"marginLeft"),x=i(this,"marginTop"),C=d+w+i(this,"marginRight")+y.width,T=p+x+i(this,"marginBottom")+y.height,S=e.extend({},g),E=n(k.my,c.outerWidth(),c.outerHeight());"right"===t.my[0]?S.left-=d:"center"===t.my[0]&&(S.left-=d/2),"bottom"===t.my[1]?S.top-=p:"center"===t.my[1]&&(S.top-=p/2),S.left+=E[0],S.top+=E[1],e.support.offsetFractions||(S.left=a(S.left),S.top=a(S.top)),l={marginLeft:w,marginTop:x},e.each(["left","top"],function(n,i){e.ui.position[_[n]]&&e.ui.position[_[n]][i](S,{targetWidth:h,targetHeight:f,elemWidth:d,elemHeight:p,collisionPosition:l,collisionWidth:C,collisionHeight:T,offset:[r[0]+E[0],r[1]+E[1]],my:t.my,at:t.at,within:b,elem:c})}),e.fn.bgiframe&&c.bgiframe(),t.using&&(u=function(e){var n=m.left-S.left,i=n+h-d,r=m.top-S.top,a=r+f-p,l={target:{element:v,left:m.left,top:m.top,width:h,height:f},element:{element:c,left:S.left,top:S.top,width:d,height:p},horizontal:0>i?"left":n>0?"right":"center",vertical:0>a?"top":r>0?"bottom":"middle"};d>h&&s(n+i)<h&&(l.horizontal="center"),p>f&&s(r+a)<f&&(l.vertical="middle"),l.important=o(s(n),s(i))>o(s(r),s(a))?"horizontal":"vertical",t.using.call(this,e,l)}),c.offset(e.extend(S,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,u=a+t.collisionWidth-s-r;t.collisionWidth>s?l>0&&0>=u?(n=e.left+l+t.collisionWidth-s-r,e.left+=l-n):e.left=u>0&&0>=l?r:l>u?r+s-t.collisionWidth:r:l>0?e.left+=l:u>0?e.left-=u:e.left=o(e.left-a,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,u=a+t.collisionHeight-s-r;t.collisionHeight>s?l>0&&0>=u?(n=e.top+l+t.collisionHeight-s-r,e.top+=l-n):e.top=u>0&&0>=l?r:l>u?r+s-t.collisionHeight:r:l>0?e.top+=l:u>0?e.top-=u:e.top=o(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,d=u+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>c?(n=e.left+h+p+f+t.collisionWidth-a-o,(0>n||n<s(c))&&(e.left+=h+p+f)):d>0&&(i=e.left-t.collisionPosition.marginLeft+h+p+f-l,(i>0||s(i)<d)&&(e.left+=h+p+f))},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,d=u+t.collisionHeight-a-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>c?(i=e.top+p+f+m+t.collisionHeight-a-o,e.top+p+f+m>c&&(0>i||i<s(c))&&(e.top+=p+f+m)):d>0&&(n=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>d&&(n>0||s(n)<d)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)t.style[o]=i[o];t.appendChild(a),n=s||document.documentElement,n.insertBefore(t,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=e(a).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&!function(e){var n=e.fn.position;e.fn.position=function(i){if(!i||!i.offset)return n.call(this,i);var r=i.offset.split(" "),o=i.at.split(" ");return 1===r.length&&(r[1]=r[0]),/^\d/.test(r[0])&&(r[0]="+"+r[0]),/^\d/.test(r[1])&&(r[1]="+"+r[1]),1===o.length&&(/left|center|right/.test(o[0])?o[1]="center":(o[1]=o[0],o[0]="center")),n.call(this,e.extend(i,{at:o[0]+r[0]+" "+o[1]+r[1],offset:t}))}}(jQuery)}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,i;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,n=!0,void 0;t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,i.preventDefault(),void 0;if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0;var i=n.item.data("ui-autocomplete-item")||n.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,n=++t;return function(i){n===t&&e.__response(i),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(n){var i=e(n.target).closest(".ui-menu-item");!t&&i.not(".ui-state-disabled").length&&(t=!0,this.select(n),i.has(".ui-menu").length?this.expand(n):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(n){e(n.target).closest(".ui-menu").length||this.collapseAll(n),t=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,r,o,s,a,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),o===r?s=!0:o=r+o,a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(t.keyCode),a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=t.height(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length
},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var n,i,r;return this.active?(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,s=i.push,a=i.slice,l=i.concat,u=r.toString,c=r.hasOwnProperty,d=i.forEach,h=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,b=i.indexOf,y=i.lastIndexOf,w=Array.isArray,_=Object.keys,k=o.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var C=x.each=x.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var s in e)if(x.has(e,s)&&t.call(i,e[s],s,e)===n)return};x.map=x.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(C(e,function(e,r,o){i[i.length]=t.call(n,e,r,o)}),i)};var T="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=x.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(C(e,function(e,o,s){r?n=t.call(i,n,e,o,s):(n=e,r=!0)}),!r)throw new TypeError(T);return n},x.reduceRight=x.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=x.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var s=x.keys(e);o=s.length}if(C(e,function(a,l,u){l=s?s[--o]:--o,r?n=t.call(i,n,e[l],l,u):(n=e[l],r=!0)}),!r)throw new TypeError(T);return n},x.find=x.detect=function(e,t,n){var i;return S(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},x.filter=x.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(C(e,function(e,r,o){t.call(n,e,r,o)&&(i[i.length]=e)}),i)},x.reject=function(e,t,n){return x.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},x.every=x.all=function(e,t,i){t||(t=x.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,i):(C(e,function(e,o,s){return(r=r&&t.call(i,e,o,s))?void 0:n}),!!r)};var S=x.some=x.any=function(e,t,i){t||(t=x.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(C(e,function(e,o,s){return r||(r=t.call(i,e,o,s))?n:void 0}),!!r)};x.contains=x.include=function(e,t){return null==e?!1:b&&e.indexOf===b?-1!=e.indexOf(t):S(e,function(e){return e===t})},x.invoke=function(e,t){var n=a.call(arguments,2),i=x.isFunction(t);return x.map(e,function(e){return(i?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?null:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return C(e,function(e,r,o){var s=t?t.call(n,e,r,o):e;s>=i.computed&&(i={value:e,computed:s})}),i.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return C(e,function(e,r,o){var s=t?t.call(n,e,r,o):e;i.computed>s&&(i={value:e,computed:s})}),i.value},x.shuffle=function(e){var t,n=0,i=[];return C(e,function(e){t=x.random(n++),i[n-1]=i[t],i[t]=e}),i};var E=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var i=E(t);return x.pluck(x.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var $=function(e,t,n,i){var r={},o=E(t||x.identity);return C(e,function(t,s){var a=o.call(n,t,s,e);i(r,a,t)}),r};x.groupBy=function(e,t,n){return $(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return $(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,i){n=null==n?x.identity:E(n);for(var r=n.call(i,t),o=0,s=e.length;s>o;){var a=o+s>>>1;r>n.call(i,e[a])?o=a+1:s=a}return o},x.toArray=function(e){return e?x.isArray(e)?a.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:a.call(e,0,t)},x.initial=function(e,t,n){return a.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var M=function(e,t,n){return C(e,function(e){x.isArray(e)?t?s.apply(n,e):M(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return M(e,t,[])},x.without=function(e){return x.difference(e,a.call(arguments,1))},x.uniq=x.unique=function(e,t,n,i){x.isFunction(t)&&(i=n,n=t,t=!1);var r=n?x.map(e,n,i):e,o=[],s=[];return C(r,function(n,i){(t?i&&s[s.length-1]===n:x.contains(s,n))||(s.push(n),o.push(e[i]))}),o},x.union=function(){return x.uniq(l.apply(i,arguments))},x.intersection=function(e){var t=a.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=l.apply(i,a.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=a.call(arguments),t=x.max(x.pluck(e,"length")),n=Array(t),i=0;t>i;i++)n[i]=x.pluck(e,""+i);return n},x.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=x.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(y&&e.lastIndexOf===y)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},x.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=Array(i);i>r;)o[r++]=e,e+=n;return o},x.bind=function(e,t){if(e.bind===k&&k)return k.apply(e,a.call(arguments,1));var n=a.call(arguments,2);return function(){return e.apply(t,n.concat(a.call(arguments)))}},x.partial=function(e){var t=a.call(arguments,1);return function(){return e.apply(this,t.concat(a.call(arguments)))}},x.bindAll=function(e){var t=a.call(arguments,1);return 0===t.length&&(t=x.functions(e)),C(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var i=t.apply(this,arguments);return x.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},x.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(a.call(arguments,1)))},x.throttle=function(e,t){var n,i,r,o,s=0,a=function(){s=new Date,r=null,o=e.apply(n,i)};return function(){var l=new Date,u=t-(l-s);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,s=l,o=e.apply(n,i)):r||(r=setTimeout(a,u)),o}},x.debounce=function(e,t,n){var i,r;return function(){var o=this,s=arguments,a=function(){i=null,n||(r=e.apply(o,s))},l=n&&!i;return clearTimeout(i),i=setTimeout(a,t),l&&(r=e.apply(o,s)),r}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return C(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=l.apply(i,a.call(arguments,1));return C(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=l.apply(i,a.call(arguments,1));for(var r in e)x.contains(n,r)||(t[r]=e[r]);return t},x.defaults=function(e){return C(a.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var j=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var r=u.call(e);if(r!=u.call(t))return!1;switch(r){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;n.push(e),i.push(t);var s=0,a=!0;if("[object Array]"==r){if(s=e.length,a=s==t.length)for(;s--&&(a=j(e[s],t[s],n,i)););}else{var l=e.constructor,c=t.constructor;if(l!==c&&!(x.isFunction(l)&&l instanceof l&&x.isFunction(c)&&c instanceof c))return!1;for(var d in e)if(x.has(e,d)&&(s++,!(a=x.has(t,d)&&j(e[d],t[d],n,i))))break;if(a){for(d in t)if(x.has(t,d)&&!s--)break;a=!s}}return n.pop(),i.pop(),a};x.isEqual=function(e,t){return j(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=w||function(e){return"[object Array]"==u.call(e)},x.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return c.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var i=Array(e),r=0;e>r;r++)i[r]=t.call(n,r);return i},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var A={escape:RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(A[e],function(t){return F[e][t]})}}),x.result=function(e,t){if(null==e)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){C(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),D.call(this,n.apply(x,e))}})};var L=0;x.uniqueId=function(e){var t=++L+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var i;n=x.defaults({},n,x.templateSettings);var r=RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(r,function(t,n,i,r,a){return s+=e.slice(o,a).replace(I,function(e){return"\\"+P[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(t)return i(t,x);var l=function(e){return i.call(this,e,x)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},x.chain=function(e){return x(e).chain()};var D=function(e){return this._chain?x(e).chain():e};x.mixin(x),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],D.call(this,n)}}),C(["concat","join","slice"],function(e){var t=i[e];x.prototype[e]=function(){return D.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),/*

Uniform v1.7.5
Copyright © 2009 Josh Pyles / Pixelmatrix Design LLC
http://pixelmatrixdesign.com

Requires jQuery 1.4 or newer

Much thanks to Thomas Reynolds and Buck Wilson for their help and advice on this

Disabling text selection is made possible by Mathias Bynens <http://mathiasbynens.be/>
and his noSelect plugin. <http://github.com/mathiasbynens/noSelect-jQuery-Plugin>

Also, thanks to David Kaneda and Eugene Bond for their contributions to the plugin

License:
MIT License - http://www.opensource.org/licenses/mit-license.php

Enjoy!

*/
function(e){e.uniform={options:{selectClass:"form-element",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose file",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"form-button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"form-element",resetSelector:!1,autoHide:!0},elements:[]},e.support.selectOpacity=e.browser.msie&&e.browser.version<7?!1:!0,e.fn.uniform=function(t){function n(t){$el=e(t),$el.addClass($el.attr("type")),u(t)}function i(t){e(t).addClass("form-element"),u(t)}function r(n){var i=e(n),r=e("<div>"),o=e("<span>");r.addClass(t.buttonClass),t.useID&&""!=i.attr("id")&&r.attr("id",t.idPrefix+"-"+i.attr("id"));var s;i.is("a")||i.is("button")?s=i.text():(i.is(":submit")||i.is(":reset")||i.is("input[type=button]"))&&(s=i.attr("value")),s=""==s?i.is(":reset")?"Reset":"Submit":s,o.html(s),i.css("opacity",0),i.wrap(r),i.wrap(o),r=i.closest("div"),o=i.closest("span"),i.is(":disabled")&&r.addClass(t.disabledClass),r.bind({"mouseenter.uniform":function(){r.addClass(t.hoverClass)},"mouseleave.uniform":function(){r.removeClass(t.hoverClass),r.removeClass(t.activeClass)},"mousedown.uniform touchbegin.uniform":function(){r.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){r.removeClass(t.activeClass)},"click.uniform touchend.uniform":function(t){if(e(t.target).is("span")||e(t.target).is("div"))if(n[0].dispatchEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),n[0].dispatchEvent(i)}else n[0].click()}}),n.bind({"focus.uniform":function(){r.addClass(t.focusClass)},"blur.uniform":function(){r.removeClass(t.focusClass)}}),e.uniform.noSelect(r),u(n)}function o(n){var i=e(n),r=e("<div />"),o=e("<span />");"none"==!i.css("display")&&t.autoHide&&r.hide(),r.addClass(t.selectClass),t.useID&&""!=n.attr("id")&&r.attr("id",t.idPrefix+"-"+n.attr("id"));var s=n.find(":selected:first");0==s.length&&(s=n.find("option:first")),o.html(s.html()),n.css("opacity",0),n.wrap(r),n.before(o),r=n.parent("div"),o=n.siblings("span"),n.bind({"change.uniform":function(){o.text(n.find(":selected").html()),r.removeClass(t.activeClass)},"focus.uniform":function(){r.addClass(t.focusClass)},"blur.uniform":function(){r.removeClass(t.focusClass),r.removeClass(t.activeClass)},"mousedown.uniform touchbegin.uniform":function(){r.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){r.removeClass(t.activeClass)},"click.uniform touchend.uniform":function(){r.removeClass(t.activeClass)},"mouseenter.uniform":function(){r.addClass(t.hoverClass)},"mouseleave.uniform":function(){r.removeClass(t.hoverClass),r.removeClass(t.activeClass)},"keyup.uniform":function(){o.text(n.find(":selected").html())}}),e(n).attr("disabled")&&r.addClass(t.disabledClass),e.uniform.noSelect(o),u(n)}function s(n){var i=e(n),r=e("<div />"),o=e("<span />");"none"==!i.css("display")&&t.autoHide&&r.hide(),r.addClass(t.checkboxClass),t.useID&&""!=n.attr("id")&&r.attr("id",t.idPrefix+"-"+n.attr("id")),e(n).wrap(r),e(n).wrap(o),o=n.parent(),r=o.parent(),e(n).css("opacity",0).bind({"focus.uniform":function(){r.addClass(t.focusClass)},"blur.uniform":function(){r.removeClass(t.focusClass)},"click.uniform touchend.uniform":function(){e(n).attr("checked")?o.addClass(t.checkedClass):o.removeClass(t.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){r.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){r.removeClass(t.activeClass)},"mouseenter.uniform":function(){r.addClass(t.hoverClass)},"mouseleave.uniform":function(){r.removeClass(t.hoverClass),r.removeClass(t.activeClass)}}),e(n).attr("checked")&&o.addClass(t.checkedClass),e(n).attr("disabled")&&r.addClass(t.disabledClass),u(n)}function a(n){var i=e(n),r=e("<div />"),o=e("<span />");"none"==!i.css("display")&&t.autoHide&&r.hide(),r.addClass(t.radioClass),t.useID&&""!=n.attr("id")&&r.attr("id",t.idPrefix+"-"+n.attr("id")),e(n).wrap(r),e(n).wrap(o),o=n.parent(),r=o.parent(),e(n).css("opacity",0).bind({"focus.uniform":function(){r.addClass(t.focusClass)},"blur.uniform":function(){r.removeClass(t.focusClass)},"click.uniform touchend.uniform":function(){if(e(n).attr("checked")){var i=t.radioClass.split(" ")[0];e("."+i+" span."+t.checkedClass+":has([name='"+e(n).attr("name")+"'])").removeClass(t.checkedClass),o.addClass(t.checkedClass)}else o.removeClass(t.checkedClass)},"mousedown.uniform touchend.uniform":function(){e(n).is(":disabled")||r.addClass(t.activeClass)},"mouseup.uniform touchbegin.uniform":function(){r.removeClass(t.activeClass)},"mouseenter.uniform touchend.uniform":function(){r.addClass(t.hoverClass)},"mouseleave.uniform":function(){r.removeClass(t.hoverClass),r.removeClass(t.activeClass)}}),e(n).attr("checked")&&o.addClass(t.checkedClass),e(n).attr("disabled")&&r.addClass(t.disabledClass),u(n)}function l(n){var i=e(n),r=e("<div />"),o=e("<span>"+t.fileDefaultText+"</span>"),s=e("<span>"+t.fileBtnText+"</span>");if("none"==!i.css("display")&&t.autoHide&&r.hide(),r.addClass(t.fileClass),o.addClass(t.filenameClass),s.addClass(t.fileBtnClass),t.useID&&""!=i.attr("id")&&r.attr("id",t.idPrefix+"-"+i.attr("id")),i.wrap(r),i.after(s),i.after(o),r=i.closest("div"),o=i.siblings("."+t.filenameClass),s=i.siblings("."+t.fileBtnClass),!i.attr("size")){var a=r.width();i.attr("size",a/10)}var l=function(){var e=i.val();""===e?e=t.fileDefaultText:(e=e.split(/[\/\\]+/),e=e[e.length-1]),o.text(e)};l(),i.css("opacity",0).bind({"focus.uniform":function(){r.addClass(t.focusClass)},"blur.uniform":function(){r.removeClass(t.focusClass)},"mousedown.uniform":function(){e(n).is(":disabled")||r.addClass(t.activeClass)},"mouseup.uniform":function(){r.removeClass(t.activeClass)},"mouseenter.uniform":function(){r.addClass(t.hoverClass)},"mouseleave.uniform":function(){r.removeClass(t.hoverClass),r.removeClass(t.activeClass)}}),e.browser.msie?i.bind("click.uniform.ie7",function(){setTimeout(l,0)}):i.bind("change.uniform",l),i.attr("disabled")&&r.addClass(t.disabledClass),e.uniform.noSelect(o),e.uniform.noSelect(s),u(n)}function u(t){t=e(t).get(),t.length>1?e.each(t,function(t,n){e.uniform.elements.push(n)}):e.uniform.elements.push(t)}t=e.extend(e.uniform.options,t);var c=this;return 0!=t.resetSelector&&e(t.resetSelector).mouseup(function(){function t(){e.uniform.update(c)}setTimeout(t,10)}),e.uniform.restore=function(t){void 0==t&&(t=e(e.uniform.elements)),e(t).each(function(){e(this).is(":checkbox")?e(this).unwrap().unwrap():e(this).is("select")?(e(this).siblings("span").remove(),e(this).unwrap()):e(this).is(":radio")?e(this).unwrap().unwrap():e(this).is(":file")?(e(this).siblings("span").remove(),e(this).unwrap()):e(this).is("button, :submit, :reset, a, input[type='button']")&&e(this).unwrap().unwrap(),e(this).unbind(".uniform"),e(this).css("opacity","1");var n=e.inArray(e(t),e.uniform.elements);e.uniform.elements.splice(n,1)})},e.uniform.noSelect=function(t){function n(){return!1}e(t).each(function(){this.onselectstart=this.ondragstart=n,e(this).mousedown(n).css({MozUserSelect:"none"})})},e.uniform.update=function(n){void 0==n&&(n=e(e.uniform.elements)),n=e(n),n.each(function(){var i=e(this);if(i.is("select")){var r=i.siblings("span"),o=i.parent("div");o.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),r.html(i.find(":selected").html()),i.is(":disabled")?o.addClass(t.disabledClass):o.removeClass(t.disabledClass)}else if(i.is(":checkbox")){var r=i.closest("span"),o=i.closest("div");o.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),r.removeClass(t.checkedClass),i.is(":checked")&&r.addClass(t.checkedClass),i.is(":disabled")?o.addClass(t.disabledClass):o.removeClass(t.disabledClass)}else if(i.is(":radio")){var r=i.closest("span"),o=i.closest("div");o.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),r.removeClass(t.checkedClass),i.is(":checked")&&r.addClass(t.checkedClass),i.is(":disabled")?o.addClass(t.disabledClass):o.removeClass(t.disabledClass)}else if(i.is(":file")){var o=i.parent("div"),s=i.siblings(t.filenameClass);btnTag=i.siblings(t.fileBtnClass),o.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),s.text(i.val()),i.is(":disabled")?o.addClass(t.disabledClass):o.removeClass(t.disabledClass)}else if(i.is(":submit")||i.is(":reset")||i.is("button")||i.is("a")||n.is("input[type=button]")){var o=i.closest("div");o.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),i.is(":disabled")?o.addClass(t.disabledClass):o.removeClass(t.disabledClass)}})},this.each(function(){if(e.support.selectOpacity){var t=e(this);t.is("select")?1!=t.attr("multiple")&&(void 0==t.attr("size")||t.attr("size")<=1)&&o(t):t.is(":checkbox")?s(t):t.is(":radio")?a(t):t.is(":file")?l(t):t.is(":text, :password, input[type='email']")?n(t):t.is("textarea")?i(t):(t.is("a")||t.is(":submit")||t.is(":reset")||t.is("button")||t.is("input[type=button]"))&&r(t)}})}}(jQuery),/*
 * jQuery Function Toggle Pluing
 * Copyright 2011, Felix Kling
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
function(e){e.fn.funcToggle=function(t,n){var i="jqp_eventtoggle_"+t+(new Date).getTime(),r=Array.prototype.slice.call(arguments,2),o=r.length,s=function(){},a=function(){return!1};if("object"==typeof t){for(var l in t)e.fn.funcToggle.apply(this,[l].concat(t[l]));return this}return(e.isFunction(n)||n===!1)&&(r=[n].concat(r),o+=1,n=void 0),r=e.map(r,function(t){return t===!1?a:e.isFunction(t)?t:s}),this.data(i,0),this.bind(t,n,function(t){var n=e(this).data(),s=n[i];r[s].call(this,t),n[i]=(s+1)%o}),this}}(jQuery),function(e){var t,n={className:"autosizejs",append:"",callback:!1,resizeDelay:10},i='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o=e(i).data("autosize",!0)[0];o.style.lineHeight="99px","99px"===e(o).css("lineHeight")&&r.push("lineHeight"),o.style.lineHeight="",e.fn.autosize=function(i){return this.length?(i=e.extend({},n,i||{}),o.parentNode!==document.body&&e(document.body).append(o),this.each(function(){function n(){var t,n;"getComputedStyle"in window?(t=window.getComputedStyle(h,null),n=h.getBoundingClientRect().width,e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,i){n-=parseInt(t[i],10)}),o.style.width=n+"px"):o.style.width=Math.max(p.width(),0)+"px"}function s(){var s={};if(t=h,o.className=i.className,u=parseInt(p.css("maxHeight"),10),e.each(r,function(e,t){s[t]=p.css(t)}),e(o).css(s),n(),window.chrome){var a=h.style.width;h.style.width="0px",h.offsetWidth,h.style.width=a}}function a(){var e,r;t!==h?s():n(),o.value=h.value+i.append,o.style.overflowY=h.style.overflowY,r=parseInt(h.style.height,10),o.scrollTop=0,o.scrollTop=9e4,e=o.scrollTop,u&&e>u?(h.style.overflowY="scroll",e=u):(h.style.overflowY="hidden",c>e&&(e=c)),e+=f,r!==e&&(h.style.height=e+"px",m&&i.callback.call(h,h))}function l(){clearTimeout(d),d=setTimeout(function(){var e=p.width();e!==v&&(v=e,a())},parseInt(i.resizeDelay,10))}var u,c,d,h=this,p=e(h),f=0,m=e.isFunction(i.callback),g={height:h.style.height,overflow:h.style.overflow,overflowY:h.style.overflowY,wordWrap:h.style.wordWrap,resize:h.style.resize},v=p.width();p.data("autosize")||(p.data("autosize",!0),("border-box"===p.css("box-sizing")||"border-box"===p.css("-moz-box-sizing")||"border-box"===p.css("-webkit-box-sizing"))&&(f=p.outerHeight()-p.height()),c=Math.max(parseInt(p.css("minHeight"),10)-f||0,p.height()),p.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===p.css("resize")||"vertical"===p.css("resize")?"none":"horizontal"}),"onpropertychange"in h?"oninput"in h?p.on("input.autosize keyup.autosize",a):p.on("propertychange.autosize",function(){"value"===event.propertyName&&a()}):p.on("input.autosize",a),i.resizeDelay!==!1&&e(window).on("resize.autosize",l),p.on("autosize.resize",a),p.on("autosize.resizeIncludeStyle",function(){t=null,a()}),p.on("autosize.destroy",function(){t=null,clearTimeout(d),e(window).off("resize",l),p.off("autosize").off(".autosize").css(g).removeData("autosize")}),a())})):this}}(window.jQuery||window.$),/*!	
* FitText.js 1.0
*
* Copyright 2011, Dave Rupert http://daverupert.com
* Released under the WTFPL license 
* http://sam.zoy.org/wtfpl/
*
* Date: Thu May 05 14:23:00 2011 -0600
*/
function(e){e.fn.fitText=function(t,n){var i={minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY};return this.each(function(){var r=e(this),o=t||1;n&&e.extend(i,n);var s=function(){r.css("font-size",Math.max(Math.min(r.width()/(10*o),parseFloat(i.maxFontSize)),parseFloat(i.minFontSize)))};s(),e(window).resize(s)})}}(jQuery),/*

 |       __ _____                     ________                              __
 |      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 |  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 | /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 | \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 |           \/              /____/                              version 0.4.22
 http://terminal.jcubic.pl

 Licensed under GNU LGPL Version 3 license
 Copyright (c) 2011-2012 Jakub Jankiewicz <http://jcubic.pl>

 Includes:

 Storage plugin Distributed under the MIT License
 Copyright (c) 2010 Dave Schindler

 jQuery Timers licenced with the WTFPL
 <http://jquery.offput.ca/every/>

 Cross-Browser Split 1.1.1
 Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 Available under the MIT License

 Date: Thu, 15 Nov 2012 07:12:21 +0000
*/
function(k,H){function aa(e,t){var n;if("string"==typeof e&&"string"==typeof t)return localStorage[e]=t,!0;if("object"==typeof e&&"undefined"==typeof t){for(n in e)e.hasOwnProperty(n)&&(localStorage[n]=e[n]);return!0}return!1}function W(e,t){var n,i;if(n=new Date,n.setTime(n.getTime()+31536e6),n="; expires="+n.toGMTString(),"string"==typeof e&&"string"==typeof t)return document.cookie=e+"="+t+n+"; path=/",!0;if("object"==typeof e&&"undefined"==typeof t){for(i in e)e.hasOwnProperty(i)&&(document.cookie=i+"="+e[i]+n+"; path=/");return!0}return!1}function ba(e){return localStorage[e]}function ca(e){var t,n,i;for(e+="=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(i=t[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null}function da(e){return delete localStorage[e]}function ea(e){return W(e,"",-1)}function U(e,t){var n=[],i=e.length;if(t>i)return[e];for(var r=0;i>r;r+=t)n.push(e.substring(r,r+t));return n}function X(e){return k("<div>"+k.terminal.strip(e)+"</div>").text().length}function Y(e){var t=e instanceof Array?e:e?[e]:[],n=0;k.extend(this,{left:function(){return 0===n?n=t.length-1:--n,t[n]},right:function(){return n===t.length-1?n=0:++n,t[n]},current:function(){return t[n]},data:function(){return t},length:function(){return t.length},reset:function(){n=0},append:function(e){t.push(e),this.reset()}})}function fa(e){var t=e?[e]:[];k.extend(this,{size:function(){return t.length},pop:function(){if(0===t.length)return null;var e=t[t.length-1];return t=t.slice(0,t.length-1),e},push:function(e){return t=t.concat([e]),e},top:function(){return t.length>0?t[t.length-1]:null}})}function ga(c){var g=!0;"string"==typeof c&&""!==c&&(c+="_");var e=k.Storage.get(c+"commands"),h=new Y(e?eval("("+e+")"):[""]);k.extend(this,{append:function(e){g&&(h.append(e),k.Storage.set(c+"commands",k.json_stringify(h.data())))},data:function(){return h.data()},next:function(){return h.right()},last:function(){h.reset()},previous:function(){return h.left()},clear:function(){h=new Y,k.Storage.remove(c+"commands")},enable:function(){g=!0},disable:function(){g=!1}})}k.omap=function(e,t){var n={};return k.each(e,function(i,r){n[i]=t.call(e,i,r)}),n};var R="undefined"!=typeof window.localStorage;k.extend({Storage:{set:R?aa:W,get:R?ba:ca,remove:R?da:ea}}),jQuery.fn.extend({everyTime:function(e,t,n,i,r){return this.each(function(){jQuery.timer.add(this,e,t,n,i,r)})},oneTime:function(e,t,n){return this.each(function(){jQuery.timer.add(this,e,t,n,1)})},stopTime:function(e,t){return this.each(function(){jQuery.timer.remove(this,e,t)})}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(e){if(e===H||null===e)return null;var t=this.regex.exec(jQuery.trim(e.toString()));return t[2]?parseInt(t[1],10)*(this.powers[t[2]]||1):e},add:function(e,t,n,i,r,o){var s=0;if(jQuery.isFunction(n)&&(r||(r=i),i=n,n=t),t=jQuery.timer.timeParse(t),!("number"!=typeof t||isNaN(t)||0>=t)){r&&r.constructor!==Number&&(o=!!r,r=0),r=r||0,o=o||!1,e.$timers||(e.$timers={}),e.$timers[n]||(e.$timers[n]={}),i.$timerID=i.$timerID||this.guid++;var a=function(){o&&a.inProgress||(a.inProgress=!0,(++s>r&&0!==r||i.call(e,s)===!1)&&jQuery.timer.remove(e,n,i),a.inProgress=!1)};a.$timerID=i.$timerID,e.$timers[n][i.$timerID]||(e.$timers[n][i.$timerID]=window.setInterval(a,t)),this.global[n]||(this.global[n]=[]),this.global[n].push(e)}},remove:function(e,t,n){var i,r=e.$timers;if(r){if(t){if(r[t]){if(n)n.$timerID&&(window.clearInterval(r[t][n.$timerID]),delete r[t][n.$timerID]);else for(var o in r[t])r[t].hasOwnProperty(o)&&(window.clearInterval(r[t][o]),delete r[t][o]);for(i in r[t])if(r[t].hasOwnProperty(i))break;i||(i=null,delete r[t])}}else for(var s in r)r.hasOwnProperty(s)&&this.remove(e,s,n);for(i in r)if(r.hasOwnProperty(i))break;i||(e.$timers=null)}}}}),jQuery.browser.msie&&jQuery(window).one("unload",function(){var e,t=jQuery.timer.global;for(e in t)if(t.hasOwnProperty(e))for(var n=t[e],i=n.length;--i;)jQuery.timer.remove(n[i],e)}),function(e){if(String.prototype.split.toString().match(/\[native/)){var t,n=String.prototype.split,i=/()??/.exec("")[1]===e;return t=function(t,r,o){if("[object RegExp]"!==Object.prototype.toString.call(r))return n.call(t,r,o);var s,a,l,u=[],c=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),d=0;for(r=RegExp(r.source,c+"g"),t+="",i||(s=RegExp("^"+r.source+"$(?!\\s)",c)),o=o===e?4294967295:o>>>0;(a=r.exec(t))&&(c=a.index+a[0].length,!(c>d&&(u.push(t.slice(d,a.index)),!i&&a.length>1&&a[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(a[t]=e)}),a.length>1&&a.index<t.length&&Array.prototype.push.apply(u,a.slice(1)),l=a[0].length,d=c,u.length>=o)));)r.lastIndex===a.index&&r.lastIndex++;return d===t.length?(l||!r.test(""))&&u.push(""):u.push(t.slice(d)),u.length>o?u.slice(0,o):u},String.prototype.split=function(e,n){return t(this,e,n)},t}}(),k.json_stringify=function(e,t){var n,i="";switch(t=t===H?1:t,typeof e){case"function":i+=e;break;case"boolean":i+=e?"true":"false";break;case"object":if(null===e)i+="null";else if(e instanceof Array){i+="[";var r=e.length;for(n=0;r-1>n;++n)i+=k.json_stringify(e[n],t+1);i+=k.json_stringify(e[r-1],t+1)+"]"}else{i+="{";for(r in e)e.hasOwnProperty(r)&&(i+='"'+r+'":'+k.json_stringify(e[r],t+1));i+="}"}break;case"string":r=e;var o={"\\\\":"\\\\",'"':'\\"',"/":"\\/","\\n":"\\n","\\r":"\\r","\\t":"\\t"};for(n in o)o.hasOwnProperty(n)&&(r=r.replace(RegExp(n,"g"),o[n]));i+='"'+r+'"';break;case"number":i+=String(e)}return i+=t>1?",":"",1===t&&(i=i.replace(/,([\]}])/g,"$1")),i.replace(/([\[{]),/g,"$1")},k.fn.cmd=function(e){function t(){x.toggleClass("inverted")}function n(){h="(reverse-i-search)`"+g+"': ",T()}function i(e){var t=f.data(),n=RegExp("^"+g),i=t.length;for(e&&v>0&&(i-=v),e=i;e--;)if(n.test(t[e])){v=t.length-e,w=0,a.set(t[e],!0),C();break}}function r(e){var t=e.substring(0,u-c);return e=e.substring(u-c),[t].concat(U(e,u))}function o(){l.focus(),a.oneTime(1,function(){a.insert(l.val()),l.blur().val("")})}function s(t){if(e.keydown&&e.keydown(t)===!1)return!1;if(_){var r;if(!m||35!==t.which&&36!==t.which&&37!==t.which&&38!==t.which&&39!==t.which&&40!==t.which&&66!==t.which&&13!==t.which&&27!==t.which){if(t.altKey)return 68===t.which?(a.set(y.slice(0,w)+y.slice(w).replace(/[^ ]+ |[^ ]+$/,""),!0),!1):!0;if(13===t.keyCode)f&&y&&(e.historyFilter&&e.historyFilter(y)||!e.historyFilter)&&f.data().slice(-1)[0]!==y&&f.append(y),f.last(),t=y,a.set(""),e.commands&&e.commands(t),"function"==typeof h&&T();else if(32===t.which)m?(g+=" ",n()):a.insert(" ");else if(8===t.which)m?(g=g.slice(0,-1),n()):""!==y&&w>0&&(y=y.slice(0,w-1)+y.slice(w,y.length),--w,C());else if(9!==t.which||t.ctrlKey||t.altKey){if(46===t.which)return""!==y&&w<y.length&&(y=y.slice(0,w)+y.slice(w+1,y.length),C()),!0;if(f&&38===t.which||80===t.which&&t.ctrlKey)a.set(f.previous());else if(f&&40===t.which||78===t.which&&t.ctrlKey)a.set(f.next());else if(37===t.which||66===t.which&&t.ctrlKey)if(t.ctrlKey&&66!==t.which){for(r=w-1,t=0," "===y[r]&&--r;r>0;--r){if(" "===y[r]&&" "!==y[r+1]){t=r+1;break}if("\n"===y[r]&&"\n"!==y[r+1]){t=r;break}}a.position(t)}else w>0&&(--w,C());else if(82===t.which&&t.ctrlKey)m?i(!0):(d=h,n(),y="",C(),m=!0);else if(39===t.which||70===t.which&&t.ctrlKey)t.ctrlKey&&70!==t.which?(" "===y[w]&&++w,t=y.slice(w).match(/\S[\n\s]{2,}|[\n\s]+\S?/),!t||t[0].match(/^\s+$/)?w=y.length:" "!==t[0][0]?w+=t.index+1:(w+=t.index+t[0].length-1," "!==t[0][t[0].length-1]&&--w),C()):w<y.length&&(++w,C());else{if(123===t.which)return!0;if(36===t.which)a.position(0);else if(35===t.which)a.position(y.length);else{if(!t.ctrlKey&&!t.metaKey)return!0;if(t.shiftKey){if(84===t.which)return!0}else if(65===t.which)a.position(0);else if(69===t.which)a.position(y.length);else{if(88===t.which||67===t.which||87===t.which||84===t.which)return!0;if(86===t.which)return o(),!0;if(75===t.which)0===w?a.set(""):w!==y.length&&a.set(y.slice(0,w));else if(85===t.which)a.set(y.slice(w,y.length)),a.position(0);else if(17===t.which)return!0}}}}else a.insert("	")}else h=d,m=!1,v=null,g="",T(),27===t.which&&(y=""),C(),s.call(this,t);return!1}}var a=this;a.addClass("cmd"),a.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');var l=k("<textarea/>").addClass("clipboard").appendTo(a);e.width&&a.width(e.width);var u,c,d,h,p,f,m=!1,g="",v=null,b=e.mask||!1,y="",w=0,_=e.enabled,x=a.find(".cursor"),C=function(e){function t(e,t){if(t===e.length)s.html(k.terminal.encode(e)),x.html("&nbsp;"),a.html("");else if(0===t)s.html(""),x.html(k.terminal.encode(e.slice(0,1))),a.html(k.terminal.encode(e.slice(1)));else{var n=k.terminal.encode(e.slice(0,t));s.html(n),n=e.slice(t,t+1),x.html(" "===n?"&nbsp;":k.terminal.encode(n)),t===e.length-1?a.html(""):a.html(k.terminal.encode(e.slice(t+1)))}}function n(e){return"<div>"+k.terminal.encode(e)+"</div>"}function i(e){var t=a;k.each(e,function(e,i){t=k(n(i)).insertAfter(t).addClass("clear")})}function o(e){k.each(e,function(e,t){s.before(n(t))})}var s=x.prev(),a=x.next();return function(){var l,d,h=b?y.replace(/./g,"*"):y;if(e.find("div").remove(),s.html(""),h.length>u-c-1||h.match(/\n/)){var p,f=h.match(/\t/g),m=f?3*f.length:0;if(f&&(h=h.replace(/\t/g,"\x00\x00\x00\x00")),h.match(/\n/)){var g=h.split("\n");for(d=u-c-1,l=0;l<g.length-1;++l)g[l]+=" ";for(g[0].length>d?(p=[g[0].substring(0,d)],p=p.concat(U(g[0].substring(d),u))):p=[g[0]],l=1;l<g.length;++l)g[l].length>u?p=p.concat(U(g[l],u)):p.push(g[l])}else p=r(h);if(f&&(p=k.map(p,function(e){return e.replace(/\x00\x00\x00\x00/g,"	")})),d=p[0].length,d>w)t(p[0],w),i(p.slice(1));else if(w===d)s.before(n(p[0])),t(p[1],0),i(p.slice(2));else if(l=p.length,d>w)t(p[0],w),i(p.slice(1));else if(w===d)s.before(n(p[0])),t(p[1],0),i(p.slice(2));else{f=p.slice(-1)[0],g=h.length-w;var v=f.length;if(h=0,v>=g)o(p.slice(0,-1)),t(f,(v===g?0:v-g)+m);else if(3===l)s.before("<div>"+k.terminal.encode(p[0])+"</div>"),t(p[1],w-d-1),a.after('<div class="clear">'+k.terminal.encode(p[2])+"</div>");else{for(h=w,l=0;l<p.length&&(d=p[l].length,h>d);++l)h-=d;d=p[l],m=l,h===d.length&&(h=0,d=p[++m]),t(d,h),o(p.slice(0,m)),i(p.slice(m+1))}}}else""===h?(s.html(""),x.html("&nbsp;"),a.html("")):t(h,w)}}(a),T=function(){var e=a.find(".prompt");return function(){"string"==typeof h?(c=X(h),e.html(k.terminal.format(h))):h(function(t){c=X(t),e.html(k.terminal.format(t))})}}();return k.extend(a,{name:function(e){return e===H?p:(p=e,f=new ga(e),void 0)},history:function(){return f},set:function(t,n){t!==H&&(y=t,n||(w=y.length),C(),"function"==typeof e.onCommandChange&&e.onCommandChange(y))},insert:function(t,n){w===y.length?y+=t:y=0===w?t+y:y.slice(0,w)+t+y.slice(w),n||(w+=t.length),C(),"function"==typeof e.onCommandChange&&e.onCommandChange(y)},get:function(){return y},commands:function(t){return t?(e.commands=t,void 0):t},destroy:function(){k(document.documentElement).unbind(".commandline"),a.find(".prompt").remove()},prompt:function(e){if(e===H)return h;if("string"!=typeof e&&"function"!=typeof e)throw"prompt must be a function or string";h=e,T(),C()},position:function(e){return"number"!=typeof e?w:(w=0>e?0:e>y.length?y.length:e,C(),void 0)},visible:function(){var e=a.visible;return function(){e.apply(a,[]),C(),T()}}(),show:function(){var e=a.show;return function(){e.apply(a,[]),C(),T()}}(),resize:function(e){if(e)u=e;else{e=a.width();var t=x.innerWidth();u=Math.floor(e/t)}C()},enable:function(){_||(x.addClass("inverted"),a.everyTime(500,"blink",t),_=!0)},isenabled:function(){return _},disable:function(){_&&(a.stopTime("blink",t),x.removeClass("inverted"),_=!1)},mask:function(e){return"boolean"!=typeof e?b:(b=e,C(),void 0)}}),a.name(e.name||""),h=e.prompt||"> ",T(),(e.enabled===H||e.enabled===!0)&&a.enable(),k(k.browser.msie?document.documentElement:window).keypress(function(t){var r;if(t.ctrlKey&&99===t.which)return!0;if(!m&&e.keypress&&(r=e.keypress(t)),r!==H&&!r)return r;if(_){if(k.inArray(t.which,[38,32,13,0,8])>-1&&123!==t.keyCode&&(38!==t.which||!t.shiftKey))return!1;if(!(t.ctrlKey||t.altKey&&100===t.which))return m?(g+=String.fromCharCode(t.which),n(),i()):a.insert(String.fromCharCode(t.which)),!1;t.altKey&&(m?(g+=String.fromCharCode(t.which),n(),i()):a.insert(String.fromCharCode(t.which)))}}).keydown(s),a};var ha=/(\[\[[gbius]*;[^;]*;[^\]]*\](?:[^\]\[]*|\[*(?!\[)[^\]]*\][^\]]*)\])/g,Z=/\[\[([gbius]*);([^;]*);([^;\]]*;|[^\]]*);?([^\]]*)\]([^\]\[]*|[^\[]*\[(?!\[)*[^\]]*\][^\]]*)\]/g,$=/#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})/,ia=/(https?:((?!&[^;]+;)[^\s:"'<)])+)/g,ja=/((([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g;k.terminal={split_equal:function(e,t){for(var n=e.split(/\n/g),i=/(\[\[[gbius]*;[^;]*;[^\]]*\][^\]\[]*\]?)/g,r=/(\[\[[gbius]*;[^;]*;[^\]]*\])/,o=/\[\[[gbius]*;?[^;]*;?[^\]]*\]?$/,s=!1,a=!1,l="",u=[],c=0,d=n.length;d>c;++c){if(""!==l){if(""===n[c]){u.push(l+"]");continue}n[c]=l+n[c],l=""}else if(""===n[c]){u.push("");continue}for(var h=n[c],p=0,f=0,m=0,g=h.length;g>m;++m)if("["===h[m]&&"["===h[m+1]?s=!0:s&&"]"===h[m]?a=a?s=!1:!0:(s&&a||!s)&&++f,f===t||m===g-1){var v=h.substring(p,m+1);l&&(v=l+v,v.match("]")&&(l="")),p=m+1,f=0;var b=v.match(i);b&&(b=b[b.length-1],"]"!==b[b.length-1]?(l=b.match(r)[1],v+="]"):v.match(o)&&(v=v.replace(o,""),l=b.match(r)[1])),u.push(v)}}return u},encode:function(e){return e.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},format:function(e){if("string"==typeof e){e=k.terminal.encode(k.terminal.from_ansi(e));var t=e.split(ha);return t&&t.length>1&&(e=k.map(t,function(e){return""===e?e:"["===e.substring(0,1)?e.replace(Z,function(e,t,n,i,r,o){if(""===o)return"<span>&nbsp;</span>";e="",-1!==t.indexOf("b")&&(e+="font-weight:bold;");var s="text-decoration:";return-1!==t.indexOf("u")&&(s+="underline "),-1!==t.indexOf("s")&&(s+="line-through"),(-1!==t.indexOf("s")||-1!==t.indexOf("u"))&&(e+=s+";"),-1!==t.indexOf("i")&&(e+="font-style:italic;"),n.match($)&&(e+="color:"+n+";",-1!==t.indexOf("g")&&(e+="text-shadow: 0 0 5px "+n+";")),i.match($)&&(e+="background-color:"+i),'<span style="'+e+'"'+(""!=r?' class="'+r+'"':"")+">"+o+"</span>"}):"<span>"+e+"</span>"}).join("")),e.replace(ia,function(e){var t=e.match(/\.$/);return e=e.replace(/\.$/,""),'<a target="_blank" href="'+e+'">'+e+"</a>"+(t?".":"")}).replace(ja,'<a href="mailto:$1">$1</a>').replace(/<span><br\/?><\/span>/g,"<br/>")}return""},strip:function(e){return e.replace(Z,"$5")},active:function(){return O.front()},ansi_colors:{normal:{black:"#000",red:"#AA0000",green:"#008400",yellow:"#AA5500",blue:"#0000AA",magenta:"#AA00AA",cyan:"#00AAAA",white:"#fff"},bold:{white:"#fff",red:"#FF5555",green:"#44D544",yellow:"#FFFF55",blue:"#5555FF",magenta:"#FF55FF",cyan:"#55FFFF",black:"#000"}},from_ansi:function(){function e(e){var i,r=e.split(";");e=[];var o,s="",a="";for(o in r)i=parseInt(r[o],10),1===i&&e.push("b"),4===i&&e.push("u"),n[i]&&(a=n[i]),t[i]&&(s=t[i]);for(i=r=k.terminal.ansi_colors.normal,o=e.length;o--;)if("b"==e[o]){""==s&&(s="white"),i=k.terminal.ansi_colors.bold;break}return"[["+[e.join(""),i[s],r[a]].join(";")+"]"}var t={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white"},n={40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white"};return function(t){var n=t.split(/(\[[0-9;]*m)/g);if(1==n.length)return t;t=[],n.length>3&&"[0m"==n.slice(0,3).join("")&&(n=n.slice(3));for(var i=!1,r=0;r<n.length;++r){var o=n[r].match(/^\[([0-9;]*)m$/);o?""!=o[1]&&(i?(t.push("]"),"0"==o[1]?i=!1:t.push(e(o[1]))):(i=!0,t.push(e(o[1])))):t.push(n[r])}return i&&t.push("]"),t.join("")}}()},k.fn.visible=function(){return this.css("visibility","visible")},k.fn.hidden=function(){return this.css("visibility","hidden")},k.jrpc=function(e,t,n,i,r,o){return t=k.json_stringify({jsonrpc:"2.0",method:n,params:i,id:t}),k.ajax({url:e,data:t,success:r,error:o,contentType:"application/json",dataType:"json",async:!0,cache:!1,type:"POST"})},R=/ {14}$/;var ka=[["jQuery Terminal","(c) 2011-2012 jcubic"],["jQuery Terminal Emulator v. 0.4.22","Copyright (c) 2011-2012 Jakub Jankiewicz <http://jcubic.pl>".replace(/ *<.*>/,"")],["jQuery Terminal Emulator version version 0.4.22","Copyright (c) 2011-2012 Jakub Jankiewicz <http://jcubic.pl>"],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/ /_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(R,"")+"version 0.4.22","Copyright (c) 2011-2012 Jakub Jankiewicz <http://jcubic.pl>"],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(R,"")+"version 0.4.22","Copyright (c) 2011-2012 Jakub Jankiewicz <http://jcubic.pl>"]],V=[],O=new function(e){var t=e?[e]:[],n=0;k.extend(this,{rotate:function(){return 1===t.length?t[0]:(n===t.length-1?n=0:++n,t[n])},length:function(){return t.length},set:function(e){for(var i=t.length;i--;)if(t[i]===e)return n=i,void 0;this.append(e)},front:function(){return t[n]},append:function(e){t.push(e)}})};k.fn.terminal=function(e,t){function n(){return y.get(0).scrollHeight>y.innerHeight()}function i(){var e=y.find(".cursor").width(),t=Math.floor(y.width()/e);if(n()){var i=y.innerWidth()-y.width();t-=Math.ceil((20-i/2)/(e-1))}return t}function r(e,t){C.displayExceptions&&(y.error("&#91;"+t+"&#93;: "+("string"==typeof e?e:"string"==typeof e.fileName?e.fileName+": "+e.message:e.message)),"string"==typeof e.fileName&&(y.pause(),k.get(e.fileName,function(t){y.resume();var n=e.lineNumber-1;(t=t.split("\n")[n])&&y.error("&#91;"+e.lineNumber+"&#93;: "+t)})),e.stack&&y.error(e.stack))}function o(e,t){try{if("function"==typeof t)t(function(){});else if("string"!=typeof t)throw e+" must be string or function"}catch(n){return r(n,e.toUpperCase()),!1}return!0}function s(){var e=y.prop?y.prop("scrollHeight"):y.attr("scrollHeight");y.scrollTop(e)}function a(e){e="string"==typeof e?e:String(e);var t,n;if(e.length>b){var i=k.terminal.split_equal(e,b);for(e=k("<div></div>"),t=0,n=i.length;n>t;++t)""===i[t]||"\r"===i[t]?e.append("<div>&nbsp;</div>"):k("<div/>").html(k.terminal.format(i[t])).appendTo(e)}else e=k("<div/>").html(k.terminal.format(e));return v.append(e),e.width("100%"),s(),e}function l(){t.greetings===H?y.echo(y.signature):t.greetings&&y.echo(t.greetings)}function u(e,t){var n=1,i=function(i,r){t.pause(),k.jrpc(e,n++,i,r,function(e){if(e.error)t.error("&#91;RPC&#93; "+e.error.message);else if("string"==typeof e.result)t.echo(e.result);else if(e.result instanceof Array)t.echo(e.result.join(" "));else if("object"==typeof e.result){var n,i="";for(n in e.result)e.result.hasOwnProperty(n)&&(i+=n+": "+e.result[n]+"\n");t.echo(i)}t.resume()},function(e,n){t.error("&#91;AJAX&#93; "+n+" - Server reponse is: \n"+e.responseText),t.resume()})};return function(e,t){if(""!==e){var n,r;if(e.match(/[^ ]* /)?(e=e.split(/ +/),n=e[0],r=e.slice(1)):(n=e,r=[]),C.login&&"help"!==n){var o=t.token();o?i(n,[o].concat(r)):t.error("&#91;AUTH&#93; Access denied (no token)")}else i(n,r)}}}function c(e){e=e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;");var t=L.prompt();L.mask()&&(e=e.replace(/./g,"*")),"function"==typeof t?t(function(t){y.echo(t+e)}):y.echo(t+e)}function d(e,t){try{var n=A.top();"exit"===e&&C.exit?1===A.size()?C.login?p():(t||c(e),y.echo("You can exit from main interpeter")):y.pop("exit"):(t||c(e),"clear"===e&&C.clear?y.clear():n.eval(e,y))}catch(i){throw r(i,"USER"),y.resume(),i}}function h(){var e=null;L.prompt("login: "),C.history&&L.history().disable(),L.commands(function(t){try{if(c(t),e){if(L.mask(!1),y.pause(),"function"!=typeof C.login)throw"Value of login property must be a function";C.login(e,t,function(t){if(t){var n=C.name;n=n?"_"+n:"",k.Storage.set("token"+n,t),k.Storage.set("login"+n,e),L.commands(d),m()}else y.error("Wrong password try again"),L.prompt("login: "),e=null;y.resume(),C.history&&L.history().enable()})}else e=t,L.prompt("password: "),L.mask(!0)}catch(n){throw r(n,"LOGIN",y),n}})}function p(){if("function"==typeof C.onBeforelogout)try{if(0==C.onBeforelogout(y))return}catch(e){throw r(e,"onBeforelogout"),e}var t=C.name;if(t=t?"_"+t:"",k.Storage.remove("token"+t,null),k.Storage.remove("login"+t,null),C.history&&L.history().disable(),h(),"function"==typeof C.onAfterlogout)try{C.onAfterlogout(y)}catch(n){throw r(n,"onAfterlogout"),n}}function f(){var e=A.top(),t="";e.name!==H&&""!==e.name&&(t+=e.name+"_"),t+=_,L.name(t),"function"==typeof e.prompt?L.prompt(function(t){e.prompt(t,y)}):L.prompt(e.prompt),C.history&&L.history().enable(),L.set(""),"function"==typeof e.onStart&&e.onStart(y)}function m(){if(f(),l(),"function"==typeof C.onInit)try{C.onInit(y)}catch(e){throw r(e,"OnInit"),e}}function g(e){if(y.oneTime(5,function(){$()}),C.keydown&&C.keydown(e,y)===!1)return!1;if(y.paused()){if(68===e.which&&e.ctrlKey){for(e=V.length;e--;){var t=V[e];if(4!==t.readyState)try{t.abort()}catch(n){y.error("error in aborting ajax")}}return y.resume(),!1}}else{if(9!==e.which&&(M=0),68===e.which&&e.ctrlKey)return""===L.get()?A.size()>1||C.login!==H?y.pop(""):(y.resume(),y.echo("")):y.set_command(""),!1;if(C.tabcompletion&&9===e.which){if(++M,t=L.get(),!t.match(" ")){var i=RegExp("^"+t),r=A.top().command_list,o=[];for(e=r.length;e--;)i.test(r[e])&&o.push(r[e]);1===o.length?y.set_command(o[0]):o.length>1&&M>=2&&(c(t),y.echo(o.join("	")),M=0)}return!1}if(86===e.which&&e.ctrlKey)return y.oneTime(1,function(){s()}),!0;if(9===e.which&&e.ctrlKey)return O.length()>1&&y.focus(!1),!1;34===e.which?y.scroll(y.height()):33===e.which?y.scroll(-y.height()):y.attr({scrollTop:y.attr("scrollHeight")})}}var v,b,y=this,w=[],_=O.length(),x=[],C=k.extend({name:"",prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,displayExceptions:!0,cancelableAjax:!0,login:null,tabcompletion:null,historyFilter:null,onInit:k.noop,onClear:k.noop,onBlur:k.noop,onFocus:k.noop,onTerminalChange:k.noop,onExit:k.noop,keypress:k.noop,keydown:k.noop},t||{});C.width&&y.width(C.width),C.height&&y.height(C.height);var T=!C.enabled;if(0===y.length)throw'Sorry, but terminal said that "'+y.selector+'" is not valid selector!';if(y.ajaxSend(function(e,t){V.push(t)}),y.data("terminal"))return y.data("terminal");v=k("<div>").addClass("terminal-output").appendTo(y),y.addClass("terminal").append("<div/>"),y.click(function(){y.find("textarea").focus()});var S=[];k.extend(y,k.omap({clear:function(){v.html(""),L.set(""),w=[];try{C.onClear(y)}catch(e){throw r(e,"onClear"),e}return y.attr({scrollTop:0}),y},exec:function(e,t){return T?S.push([e,t]):d(e,t),y},commands:function(){return A.top().eval},greetings:function(){return l(),y},paused:function(){return T},pause:function(){return L&&(T=!0,y.disable(),L.hidden()),y},resume:function(){if(L){y.enable();var e=S;for(S=[];e.length;){var t=e.shift();y.exec.apply(y,t)}L.visible(),s()}return y},cols:function(){return b},rows:function(){return w.length},history:function(){return L.history()},next:function(){if(1===O.length())return y;var e=y.offset().top;y.height(),y.scrollTop();var t=y,n=k(window).scrollTop(),i=n+k(window).height(),o=k(t).offset().top;if(o+k(t).height()>=n&&i>=o){O.front().disable(),e=O.rotate().enable(),t=e.offset().top-50,k("html,body").animate({scrollTop:t},500);try{C.onTerminalChange(e)}catch(s){throw r(s,"onTerminalChange"),s}return e}return y.enable(),k("html,body").animate({scrollTop:e-50},500),y},focus:function(e,t){return y.oneTime(1,function(){if(1===O.length())if(e===!1)try{!t&&C.onBlur(y)!==!1&&y.disable()}catch(n){throw r(n,"onBlur"),n}else try{!t&&C.onFocus(y)!==!1&&y.enable()}catch(i){throw r(i,"onFocus"),i}else if(e===!1)y.next();else{var o=O.front();if(o!=y&&(o.disable(),!t))try{C.onTerminalChange(y)}catch(s){throw r(s,"onTerminalChange"),s}O.set(y),y.enable()}}),y},enable:function(){return b===H&&y.resize(),T&&L&&(L.enable(),T=!1),y},disable:function(){return L&&(T=!0,L.disable()),y},enabled:function(){return T},signature:function(){var e=y.cols();return e=15>e?null:35>e?0:55>e?1:64>e?2:75>e?3:4,null!==e?ka[e].join("\n")+"\n":""},version:function(){return"0.4.22"},get_command:function(){return L.get()},insert:function(e){if("string"==typeof e)return L.insert(e),y;throw"insert function argument is not a string"},set_prompt:function(e){return o("prompt",e)&&("function"==typeof e?L.prompt(function(t){e(t,y)}):L.prompt(e),A.top().prompt=e),y},get_prompt:function(){return A.top().prompt},set_command:function(e){return L.set(e),y},set_mask:function(e){return L.mask(e),y},get_output:function(e){return e?w:k.map(w,function(e,t){return"function"==typeof t?t():t}).join("\n")},resize:function(e,t){e&&t&&(y.width(e),y.height(t)),b=i(),L.resize(b);var n=v.detach();return v.html(""),k.each(w,function(e,t){a(t&&"function"==typeof t?t():t)}),y.prepend(n),s(),y},echo:function(e){return w.push(e),a("function"==typeof e?e():e),$(),y},error:function(e){return y.echo("[[;#f00;]"+e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")+"]")},scroll:function(e){var t;return e=Math.round(e),y.prop?(e>y.prop("scrollTop")&&e>0&&y.prop("scrollTop",0),t=y.prop("scrollTop"),y.prop("scrollTop",t+e)):(e>y.attr("scrollTop")&&e>0&&y.attr("scrollTop",0),t=y.attr("scrollTop"),y.attr("scrollTop",t+e)),y},logout:C.login?function(){for(;A.size()>1;)A.pop();return p(),y}:function(){throw"You don't have login function"},token:C.login?function(){var e=C.name;return k.Storage.get("token"+(e?"_"+e:""))}:k.noop,login_name:C.login?function(){var e=C.name;return k.Storage.get("login"+(e?"_"+e:""))}:k.noop,name:function(){return C.name},push:function(e,t){return(t&&(!t.prompt||o("prompt",t.prompt))||!t)&&("string"==typeof e&&(e=u(t.eval,y)),A.push(k.extend({eval:e},t)),f()),y},reset:function(){for(y.clear();A.size()>1;)A.pop();m()},pop:function(e){if(e!==H&&c(e),A.top().name===C.name){if(C.login&&(p(),"function"==typeof C.onExit))try{C.onExit(y)}catch(t){throw r(t,"onExit"),t}}else if(e=A.pop(),f(),"function"==typeof e.onExit)try{e.onExit(y)}catch(n){throw r(n,"onExit"),n}return y}},function(e,t){return function(){try{return t.apply(this,Array.prototype.slice.apply(arguments))}catch(e){r(e,"TERMINAL")}}}));var E,$=function(){var e=n();return function(){e!==n()&&(y.resize(),e=n())}}(),M=0;if(C.login&&"function"==typeof C.onBeforeLogin)try{C.onBeforeLogin(y)}catch(j){throw r(j,"onBeforeLogin"),j}if("string"==typeof e)E=e,e=u(e,y);else{if("object"==typeof e&&e.constructor===Array)throw"You can't use array as eval";if("object"==typeof e){for(var F in e)e.hasOwnProperty(F)&&x.push(F);e=function N(e){return function(t){if(""!==t){t=t.split(/ +/);var n=t[0],i=t.slice(1);t=e[n];var r=typeof t;if("function"===r)t.apply(y,i);else if("object"===r||"string"===r){if(i=[],"object"===r){for(var o in t)t.hasOwnProperty(o)&&i.push(o);t=N(t)}y.push(t,{prompt:n+"> ",name:n,command_list:i})}else y.error("Command '"+n+"' Not Found")}}}(e)}else if("function"!=typeof e)throw'Unknow object "'+String(e)+'" passed as eval'}if(E&&("string"==typeof C.login||C.login)&&(C.login=function(e){var t=1;return function(n,i,r){y.pause(),k.jrpc(E,t++,e,[n,i],function(e){y.resume(),!e.error&&e.result?r(e.result):r(null)},function(e,t){y.resume(),y.error("&#91;AJAX&#92; Response: "+t+"\n"+e.responseText)})}}("boolean"==typeof C.login?"login":C.login)),o("prompt",C.prompt)){var A=new fa({name:C.name,eval:e,prompt:C.prompt,command_list:x,greetings:C.greetings}),L=y.find(".terminal-output").next().cmd({prompt:C.prompt,history:C.history,historyFilter:C.historyFilter,width:"100%",keydown:g,keypress:C.keypress?function(e){return C.keypress(e,y)}:null,onCommandChange:function(e){if("function"==typeof C.onCommandChange)try{C.onCommandChange(e,y)}catch(t){throw r(t,"onCommandChange"),t}s()},commands:d});O.append(y),C.enabled===!0?y.focus(H,!0):y.disable(),k(window).resize(y.resize),y.click(function(){T&&O.length()>1&&y===k.terminal.active()||y.focus()}),t.login&&y.token&&!y.token()&&y.login_name&&!y.login_name()?h():m(),"function"==typeof k.fn.init.prototype.mousewheel&&y.mousewheel(function(e,t){return t>0?y.scroll(-40):y.scroll(40),!1},!0)}return y.data("terminal",y),y}}(jQuery),/*
* In-Field Label jQuery Plugin
* http://fuelyourcoding.com/scripts/infield.html
*
* Copyright (c) 2009 Doug Neiner
* Dual licensed under the MIT and GPL licenses.
* Uses the same license as jQuery, see:
* http://docs.jquery.com/License
*
* @version 0.1
*/
function(e){e.InFieldLabels=function(t,n,i){var r=this;r.$label=e(t),r.label=t,r.$field=e(n),r.field=n,r.$label.data("InFieldLabels",r),r.showing=!0,r.init=function(){r.options=e.extend({},e.InFieldLabels.defaultOptions,i),""!=r.$field.val()&&(r.$label.hide(),r.showing=!1),r.$field.focus(function(){r.fadeOnFocus()}).blur(function(){r.checkForEmpty(!0)}).bind("keydown.infieldlabel",function(e){r.hideOnChange(e)}).change(function(){r.checkForEmpty()}).bind("onPropertyChange",function(){r.checkForEmpty()}),setTimeout(function(){r.checkForEmpty(!0)},500)},r.fadeOnFocus=function(){r.showing&&r.setOpacity(r.options.fadeOpacity)},r.setOpacity=function(e){r.$label.stop().animate({opacity:e},r.options.fadeDuration),r.showing=e>0},r.checkForEmpty=function(e){""==r.$field.val()?(r.prepForShow(),r.setOpacity(e?1:r.options.fadeOpacity)):r.setOpacity(0)},r.prepForShow=function(){r.showing||(r.$label.css({opacity:0}).show(),r.$field.bind("keydown.infieldlabel",function(e){r.hideOnChange(e)}))},r.hideOnChange=function(e){16!=e.keyCode&&9!=e.keyCode&&(r.showing&&(r.$label.hide(),r.showing=!1),r.$field.unbind("keydown.infieldlabel"))},r.init()},e.InFieldLabels.defaultOptions={fadeOpacity:.5,fadeDuration:300},e.fn.inFieldLabels=function(t){return this.each(function(){var n=e(this).attr("for");if(n){var i=e("input#"+n+"[type='text'],"+"input#"+n+"[type='email'],"+"input#"+n+"[type='password'],"+"textarea#"+n);0!=i.length&&new e.InFieldLabels(this,i[0],t)}})}}(jQuery),// Copyright (c) 2011 Harvest http://getharvest.com
function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,r,o,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),o=e.childNodes,s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(this.add_option(n,t,e.disabled));return s},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),e.select_to_array=function(t){var n,i,r,o,s;for(i=new e,s=t.childNodes,r=0,o=s.length;o>r;r++)n=s[r],i.add_node(n);return i.parsed},this.SelectParser=e}.call(this),function(){var e,t;t=this,e=function(){function e(t,n){this.form_field=t,this.options=null!=n?n:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.result_add_option=function(e){var t,n;return e.disabled?"":(e.dom_id=this.container_id+"_o_"+e.array_index,t=e.selected&&this.is_multiple?[]:["active-result"],e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+n+">"+e.html+"</li>")},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,n;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=Math.floor(Math.random()*e.length),t=e.substring(n,n+1)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.browser_is_supported=function(){var e;return"Microsoft Internet Explorer"===window.navigator.appName?null!==(e=document.documentMode)&&e>=8:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),t.AbstractChosen=e}.call(this),function(){var e,t,n,i={}.hasOwnProperty,r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=this,e=jQuery,e.fn.extend({chosen:function(n){return AbstractChosen.browser_is_supported()?this.each(function(){var i;return i=e(this),i.hasClass("chzn-done")?void 0:i.data("chosen",new t(this,n))}):this}}),t=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},i.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},i.prototype.set_up_html=function(){var t,n;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",t=["chzn-container"],t.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chzn-rtl"),n={id:this.container_id,"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=e("<div />",n),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},i.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){e.container_mousedown(t)}),this.container.mouseup(function(t){e.container_mouseup(t)}),this.container.mouseenter(function(t){e.mouse_enter(t)}),this.container.mouseleave(function(t){e.mouse_leave(t)}),this.search_results.mouseup(function(t){e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel DOMMouseScroll",function(t){e.search_results_mousewheel(t)}),this.form_field_jq.bind("liszt:updated",function(t){e.results_update_field(t)}),this.form_field_jq.bind("liszt:activate",function(t){e.activate_field(t)}),this.form_field_jq.bind("liszt:open",function(t){e.container_mousedown(t)}),this.search_field.blur(function(t){e.input_blur(t)}),this.search_field.keyup(function(t){e.keyup_checker(t)}),this.search_field.keydown(function(t){e.keydown_checker(t)}),this.search_field.focus(function(t){e.input_focus(t)}),this.is_multiple?this.search_choices.click(function(t){e.choices_click(t)}):this.container.click(function(e){e.preventDefault()})},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},i.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?!this.is_multiple&&t&&(e(t.target)[0]===this.selected_item[0]||e(t.target).parents("a.chzn-single").length)&&(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},i.prototype.search_results_mousewheel=function(e){var t,n,i;return t=-(null!=(n=e.originalEvent)?n.wheelDelta:void 0)||(null!=(i=e.originialEvent)?i.detail:void 0),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){var e,t,i,r,o;for(this.parsing=!0,this.results_data=n.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",o=this.results_data,i=0,r=o.length;r>i;i++)t=o[i],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},i.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>")},i.prototype.result_do_highlight=function(e){var t,n,i,r,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),r=i+o,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight(),t>=r)return this.search_results.scrollTop(t-i>0?t-i:0);if(o>n)return this.search_results.scrollTop(n)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){if(null!=this.result_single_selected)this.result_do_highlight(this.result_single_selected);else if(this.is_multiple&&this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1;return this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},i.prototype.results_hide=function(){return this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.results_showing=!1},i.prototype.set_tab_index=function(){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",e)):void 0},i.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for="+this.form_field.id+"]")),this.form_field_label.length>0?this.form_field_label.click(function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(t),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},i.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(t){var n,i,r,o=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(n=this.container_id+"_c_"+t.array_index,this.choices+=1,i=t.disabled?'<li class="search-choice search-choice-disabled" id="'+n+'"><span>'+t.html+"</span></li>":'<li class="search-choice" id="'+n+'"><span>'+t.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"></a></li>',this.search_container.before(i),r=e("#"+n).find("a").first(),r.click(function(e){return o.choice_destroy_link_click(e)}))},i.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},i.prototype.choice_destroy=function(e){return this.result_deselect(e.attr("rel"))?(this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(e){var t,n,i,r;return this.result_highlight?(t=this.result_highlight,n=t.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(t):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),r=n.substr(n.lastIndexOf("_")+1),i=this.results_data[r],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.is_multiple?this.choice_build(i):(this.selected_item.find("span").first().text(i.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!e.metaKey&&!e.ctrlKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale()):void 0},i.prototype.result_activate=function(e){return e.addClass("active-result")},i.prototype.result_deactivate=function(e){return e.removeClass("active-result")},i.prototype.result_deselect=function(t){var n,i;return i=this.results_data[t],this.form_field.options[i.options_index].disabled?!1:(i.selected=!1,this.form_field.options[i.options_index].selected=!1,n=e("#"+this.container_id+"_o_"+t),n.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[i.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},i.prototype.winnow_results=function(){var t,n,i,r,o,s,a,l,u,c,d,h,p,f,m,g,v,b;for(this.no_results_clear(),u=0,c=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),s=this.search_contains?"":"^",o=new RegExp(s+c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=new RegExp(c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),b=this.results_data,f=0,g=b.length;g>f;f++)if(n=b[f],!n.disabled&&!n.empty)if(n.group)e("#"+n.dom_id).css("display","none");else if(!this.is_multiple||!n.selected){if(t=!1,l=n.dom_id,a=e("#"+l),o.test(n.html))t=!0,u+=1;else if(this.enable_split_word_search&&(n.html.indexOf(" ")>=0||0===n.html.indexOf("["))&&(r=n.html.replace(/\[|\]/g,"").split(" "),r.length))for(m=0,v=r.length;v>m;m++)i=r[m],o.test(i)&&(t=!0,u+=1);t?(c.length?(d=n.html.search(p),h=n.html.substr(0,d+c.length)+"</em>"+n.html.substr(d+c.length),h=h.substr(0,d)+"<em>"+h.substr(d)):h=n.html,a.html(h),this.result_activate(a),null!=n.group_array_index&&e("#"+this.results_data[n.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>u&&c.length?this.no_results(c):this.winnow_results_set_highlight()},i.prototype.winnow_results_clear=function(){var t,n,i,r,o;for(this.search_field.val(""),n=this.search_results.find("li"),o=[],i=0,r=n.length;r>i;i++)t=n[i],t=e(t),t.hasClass("group-result")?o.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?o.push(void 0):o.push(this.result_activate(t));return o},i.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},i.prototype.no_results=function(t){var n;return n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(t),this.search_results.append(n)},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t,n;return this.result_highlight?this.results_showing&&(n=this.result_highlight.nextAll("li.active-result").first(),n&&this.result_do_highlight(n)):(t=this.search_results.find("li.active-result").first(),t&&this.result_do_highlight(e(t))),this.results_showing?void 0:this.results_show()},i.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},i.prototype.search_field_scale=function(){var t,n,i,r,o,s,a,l;if(this.is_multiple){for(n=0,s=0,r="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=o.length;l>a;a++)i=o[a],r+=i+":"+this.search_field.css(i)+";";return t=e("<div />",{style:r}),t.text(this.search_field.val()),e("body").append(t),s=t.width()+25,t.remove(),this.f_width||(this.f_width=this.container.outerWidth()),s>this.f_width-10&&(s=this.f_width-10),this.search_field.css({width:s+"px"})}},i.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},i}(AbstractChosen),n.Chosen=t}.call(this),/**
 * jQuery Cookie plugin
 *
 * Copyright (c) 2010 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie=function(e,t,n){if(arguments.length>1&&"[object Object]"!==String(t)){if(n=jQuery.extend({},n),(null===t||void 0===t)&&(n.expires=-1),"number"==typeof n.expires){var i=n.expires,r=n.expires=new Date;r.setDate(r.getDate()+i)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=t||{};var o,s=n.raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?s(o[1]):null},function(){!function(e,t){var n,i,r;return r="shapeshift",i={selector:"*",enableDrag:!0,enableCrossDrop:!0,enableResize:!0,enableTrash:!1,align:"center",colWidth:null,columns:null,minColumns:1,autoHeight:!0,maxHeight:null,minHeight:100,gutterX:10,gutterY:10,paddingX:10,paddingY:10,animated:!0,animateOnInit:!1,animationSpeed:225,animationThreshold:100,dragClone:!1,deleteClone:!0,dragRate:100,dragWhitelist:"*",crossDropWhitelist:"*",cutoffStart:null,cutoffEnd:null,handle:!1,cloneClass:"ss-cloned-child",activeClass:"ss-active-child",draggedClass:"ss-dragged-child",placeholderClass:"ss-placeholder-child",originalContainerClass:"ss-original-container",currentContainerClass:"ss-current-container",previousContainerClass:"ss-previous-container"},n=function(){function n(t,n){this.element=t,this.options=e.extend({},i,n),this.globals={},this.$container=e(t),this.errorCheck()&&this.init()}return n.prototype.errorCheck=function(){var e,t,n,i;return i=this.options,n=!1,t="Shapeshift ERROR:",null===i.colWidth&&(e=this.$container.children(i.selector),0===e.length&&(n=!0,console.error(""+t+" option colWidth must be specified if Shapeshift is initialized with no active children."))),!n},n.prototype.init=function(){return this.createEvents(),this.setGlobals(),this.setIdentifier(),this.setActiveChildren(),this.enableFeatures(),this.gridInit(),this.render(),this.afterInit()},n.prototype.createEvents=function(){var e,t,n=this;return t=this.options,e=this.$container,e.off("ss-arrange").on("ss-arrange",function(e,t){return null==t&&(t=!1),n.render(!1,t)}),e.off("ss-rearrange").on("ss-rearrange",function(){return n.render(!0)}),e.off("ss-setTargetPosition").on("ss-setTargetPosition",function(){return n.setTargetPosition()}),e.off("ss-destroy").on("ss-destroy",function(){return n.destroy()}),e.off("ss-shuffle").on("ss-shuffle",function(){return n.shuffle()})},n.prototype.setGlobals=function(){return this.globals.animated=this.options.animateOnInit,this.globals.dragging=!1},n.prototype.afterInit=function(){return this.globals.animated=this.options.animated},n.prototype.setIdentifier=function(){return this.identifier="shapeshifted_container_"+Math.random().toString(36).substring(7),this.$container.addClass(this.identifier)},n.prototype.enableFeatures=function(){return this.options.enableResize&&this.enableResize(),this.options.enableDrag||this.options.enableCrossDrop?this.enableDragNDrop():void 0},n.prototype.setActiveChildren=function(){var t,n,i,r,o,s,a,l,u,c,d,h;for(a=this.options,t=this.$container.children(a.selector),n=a.activeClass,l=t.length,o=u=0;l>=0?l>u:u>l;o=l>=0?++u:--u)e(t[o]).addClass(n);for(this.setParsedChildren(),r=a.columns,h=[],o=c=0,d=this.parsedChildren.length;d>=0?d>c:c>d;o=d>=0?++c:--c)i=this.parsedChildren[o].colspan,s=a.minColumns,i>r&&i>s?(a.minColumns=i,h.push(console.error("Shapeshift ERROR: There are child elements that have a larger colspan than the minimum columns set through options.\noptions.minColumns has been set to "+i))):h.push(void 0);return h},n.prototype.setParsedChildren=function(){var t,n,i,r,o,s,a;for(n=this.$container.find("."+this.options.activeClass).filter(":visible"),s=n.length,o=[],r=a=0;s>=0?s>a:a>s;r=s>=0?++a:--a)t=e(n[r]),i={i:r,el:t,colspan:parseInt(t.attr("data-ss-colspan"))||1,height:t.outerHeight()},o.push(i);return this.parsedChildren=o},n.prototype.gridInit=function(){var e,t,n,i,r;return i=this.options.gutterX,this.options.colWidth>=1?this.globals.col_width=this.options.colWidth+i:(n=this.parsedChildren[0],t=n.el.outerWidth(),e=n.colspan,r=(t-(e-1)*i)/e,this.globals.col_width=r+i)},n.prototype.render=function(e,t){return null==e&&(e=!1),this.setGridColumns(),this.arrange(e,t)},n.prototype.setGridColumns=function(){var e,t,n,i,r,o,s,a,l,u,c,d,h,p,f;if(o=this.globals,d=this.options,n=o.col_width,a=d.gutterX,h=d.paddingX,u=this.$container.innerWidth()-2*h,c=d.minColumns,r=d.columns||Math.floor((u+a)/n),c&&c>r&&(r=c),o.columns=r,t=this.parsedChildren.length,r>t){for(e=0,l=p=0,f=this.parsedChildren.length;f>=0?f>p:p>f;l=f>=0?++p:--p)i=this.parsedChildren[l].colspan,r>=i+e&&(e+=i);r=e}switch(o.child_offset=h,d.align){case"center":return s=r*n-a,o.child_offset+=(u-s)/2;case"right":return s=r*n-a,o.child_offset+=u-s}},n.prototype.arrange=function(e,t){var n,i,r,o,s,a,l,u,c,d,h,p,f,m,g,v,b,y;for(e&&this.setParsedChildren(),c=this.globals,m=this.options,i=this.$container,a=this.getPositions(),g=this.parsedChildren,b=g.length,r=c.animated&&b<=m.animationThreshold,o=m.animationSpeed,u=m.draggedClass,d=y=0;b>=0?b>y:y>b;d=b>=0?++y:--y)n=g[d].el,s=a[d],h=n.hasClass(u),h&&(v=m.placeholderClass,n=n.siblings("."+v)),r&&!h?n.stop(!0,!1).animate(s,o,function(){}):n.css(s);return t&&(r?setTimeout(function(){return i.trigger("ss-drop-complete")},o):i.trigger("ss-drop-complete")),i.trigger("ss-arranged"),m.autoHeight?(l=c.container_height,p=m.maxHeight,f=m.minHeight,f&&f>l?l=f:p&&l>p&&(l=p),i.height(l)):void 0},n.prototype.getPositions=function(e){var t,n,i,r,o,s,a,l,u,c,d,h,p,f,m,g,v,b,y=this;for(null==e&&(e=!0),o=this.globals,u=this.options,a=u.gutterY,c=u.paddingY,r=u.draggedClass,d=this.parsedChildren,g=d.length,t=[],l=v=0,b=o.columns;b>=0?b>v:v>b;l=b>=0?++v:--v)t.push(c);return f=function(e){var n,i,r,s,l,u,c;if(n=e.col,i=e.colspan,s=e.col*o.col_width+o.child_offset,l=t[n],h[e.i]={left:s,top:l},t[n]+=e.height+a,i>=1){for(c=[],r=u=1;i>=1?i>u:u>i;r=i>=1?++u:--u)c.push(t[n+r]=t[n]);return c}},n=function(e){var n,i,r,o,s,a,l,u,c,d,h,p;for(c=t.length-e.colspan+1,u=t.slice(0).splice(0,c),n=void 0,l=h=0;c>=0?c>h:h>c;l=c>=0?++h:--h){for(i=y.lowestCol(u,l),r=e.colspan,o=t[i],s=!0,d=p=1;r>=1?r>p:p>r;d=r>=1?++p:--p)if(a=t[i+d],a>o){s=!1;break}if(s){n=i;break}}return n},m=[],p=function(){var e,t,i,r,o,s,a,l,u,c;for(o=[],r=s=0,l=m.length;l>=0?l>s:s>l;r=l>=0?++s:--s)i=m[r],i.col=n(i),i.col>=0&&(f(i),o.push(r));for(c=[],t=a=u=o.length-1;a>=0;t=a+=-1)e=o[t],c.push(m.splice(e,1));return c},h=[],(i=function(){var i,o,s;for(s=[],l=o=0;g>=0?g>o:o>g;l=g>=0?++o:--o)i=d[l],e||!i.el.hasClass(r)?(i.col=i.colspan>1?n(i):y.lowestCol(t),void 0===i.col?m.push(i):f(i),s.push(p())):s.push(void 0);return s})(),u.autoHeight&&(s=t[this.highestCol(t)]-a,o.container_height=s+c),h},n.prototype.enableDragNDrop=function(){var n,i,r,o,s,a,l,u,c,d,h,p,f,m,g,v,b,y,w=this;return f=this.options,i=this.$container,s=f.activeClass,p=f.draggedClass,g=f.placeholderClass,m=f.originalContainerClass,l=f.currentContainerClass,v=f.previousContainerClass,u=f.deleteClone,d=f.dragRate,c=f.dragClone,a=f.cloneClass,o=r=n=y=b=null,h=!1,f.enableDrag&&i.children("."+s).filter(f.dragWhitelist).draggable({addClasses:!1,containment:"document",handle:f.handle,zIndex:9999,start:function(t){var i;return w.globals.dragging=!0,o=e(t.target),c&&(n=o.clone(!1,!1).insertBefore(o).addClass(a)),o.addClass(p),i=o.prop("tagName"),r=e("<"+i+" class='"+g+"' style='height: "+o.height()+"px; width: "+o.width()+"px'></"+i+">"),o.parent().addClass(m).addClass(l),y=o.outerHeight()/2,b=o.outerWidth()/2},drag:function(n,i){return h||c&&u&&e("."+l)[0]===e("."+m)[0]||(r.remove().appendTo("."+l),e("."+l).trigger("ss-setTargetPosition"),h=!0,t.setTimeout(function(){return h=!1},d)),i.position.left=n.pageX-o.parent().offset().left-b,i.position.top=n.pageY-o.parent().offset().top-y},stop:function(){var t,i,s;return w.globals.dragging=!1,i=e("."+m),t=e("."+l),s=e("."+v),o.removeClass(p),e("."+g).remove(),c&&(u&&e("."+l)[0]===e("."+m)[0]?(n.remove(),e("."+l).trigger("ss-rearrange")):n.removeClass(a)),i[0]===t[0]?t.trigger("ss-rearranged",o):(i.trigger("ss-removed",o),t.trigger("ss-added",o)),i.trigger("ss-arrange").removeClass(m),t.trigger("ss-arrange",!0).removeClass(l),s.trigger("ss-arrange").removeClass(v),o=r=null}}),f.enableCrossDrop?i.droppable({accept:f.crossDropWhitelist,tolerance:"intersect",over:function(t){return e("."+v).removeClass(v),e("."+l).removeClass(l).addClass(v),e(t.target).addClass(l)},drop:function(t,n){var i,r,s;return w.options.enableTrash?(r=e("."+m),i=e("."+l),s=e("."+v),o=e(n.helper),i.trigger("ss-trashed",o),o.remove(),r.trigger("ss-rearrange").removeClass(m),i.trigger("ss-rearrange").removeClass(l),s.trigger("ss-arrange").removeClass(v)):void 0}}):void 0},n.prototype.setTargetPosition=function(){var t,n,i,r,o,s,a,l,u,c,d,h,p,f,m,g,v,b,y,w,_,k;if(c=this.options,c.enableTrash)return h=this.options.placeholderClass,e("."+h).remove();if(u=c.draggedClass,t=e("."+u),n=t.parent(),d=this.parsedChildren,o=this.getPositions(!1),y=o.length,m=t.offset().left-n.offset().left+this.globals.col_width/2,g=t.offset().top-n.offset().top+t.height()/2,v=9999999,b=0,y>1){for(a=c.cutoffStart+1||0,s=c.cutoffEnd||y,p=k=a;s>=a?s>k:k>s;p=s>=a?++k:--k)r=o[p],r&&(_=m-r.left,w=g-r.top,_>0&&w>0&&(l=Math.sqrt(w*w+_*_),v>l&&(v=l,b=p,p===y-1&&_>d[p].height/2&&b++)));b===d.length?(i=d[b-1].el,t.insertAfter(i)):(i=d[b].el,t.insertBefore(i))}else 1===y?(r=o[0],r.left<m?this.$container.append(t):this.$container.prepend(t)):this.$container.append(t);return this.arrange(!0),n[0]!==t.parent()[0]?(f=c.previousContainerClass,e("."+f).trigger("ss-rearrange")):void 0},n.prototype.enableResize=function(){var n,i,r,o=this;return n=this.options.animationSpeed,r=!1,i="resize."+this.identifier,e(t).on(i,function(){return r?void 0:(r=!0,setTimeout(function(){return o.render()},n/3),setTimeout(function(){return o.render()},n/3),setTimeout(function(){return r=!1,o.render()},n/3))})},n.prototype.shuffle=function(){var e;return e=function(e,t){var n;return n=function(e){var t,n,i;for(n=void 0,i=void 0,t=e.length;t;)n=parseInt(Math.random()*t),i=e[--t],e[t]=e[n],e[n]=i;return e},e.each(function(){var i;return i=e.find("."+t).filter(":visible"),i.length?e.html(n(i)):this})},this.globals.dragging?void 0:(e(this.$container,this.options.activeClass),this.enableFeatures(),this.$container.trigger("ss-rearrange"))},n.prototype.lowestCol=function(e,t){var n,i,r,o;for(null==t&&(t=0),r=e.length,n=[],i=o=0;r>=0?r>o:o>r;i=r>=0?++o:--o)n.push([e[i],i]);return n.sort(function(e,t){var n;return n=e[0]-t[0],0===n&&(n=e[1]-t[1]),n}),n[t][1]},n.prototype.highestCol=function(n){return e.inArray(Math.max.apply(t,n),n)},n.prototype.destroy=function(){var e,t,n;return t=this.$container,t.off("ss-arrange"),t.off("ss-rearrange"),t.off("ss-setTargetPosition"),t.off("ss-destroy"),n=this.options.activeClass,e=t.find("."+n),this.options.enableDrag&&e.draggable("destroy"),this.options.enableCrossDrop&&t.droppable("destroy"),e.removeClass(n),t.removeClass(this.identifier)},n}(),e.fn[r]=function(i){return this.each(function(){var o,s,a,l;return s=null!=(a=e(this).attr("class"))?null!=(l=a.match(/shapeshifted_container_\w+/))?l[0]:void 0:void 0,s&&(o="resize."+s,e(t).off(o),e(this).removeClass(s)),e.data(this,"plugin_"+r,new n(this,i))})}}(jQuery,window,document)}.call(this),/*

	jQuery Tags Input Plugin 1.3.3

	Copyright (c) 2011 XOXCO, Inc

	Documentation for this plugin lives here:
	http://xoxco.com/clickable/jquery-tags-input

	Licensed under the MIT license:
	http://www.opensource.org/licenses/mit-license.php

	ben@xoxco.com

*/
function(e){var t=new Array,n=new Array;e.fn.doAutosize=function(t){var n=e(this).data("minwidth"),i=e(this).data("maxwidth"),r="",o=e(this),s=e("#"+e(this).data("tester_id"));if(r!==(r=o.val())){var a=r.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");s.html(a);var l=s.width(),u=l+t.comfortZone>=n?l+t.comfortZone:n,c=o.width(),d=c>u&&u>=n||u>n&&i>u;d&&o.width(u)}},e.fn.resetAutosize=function(t){var n=e(this).data("minwidth")||t.minInputWidth||e(this).width(),i=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,r=e(this),o=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:r.css("fontSize"),fontFamily:r.css("fontFamily"),fontWeight:r.css("fontWeight"),letterSpacing:r.css("letterSpacing"),whiteSpace:"nowrap"}),s=e(this).attr("id")+"_autosize_tester";!e("#"+s).length>0&&(o.attr("id",s),o.appendTo("body")),r.data("minwidth",n),r.data("maxwidth",i),r.data("tester_id",s),r.css("width",n)},e.fn.addTag=function(i,r){return r=jQuery.extend({focus:!1,callback:!0},r),this.each(function(){var o=e(this).attr("id"),s=e(this).val().split(t[o]);if(""==s[0]&&(s=new Array),i=jQuery.trim(i),r.unique){var a=e(this).tagExist(i);1==a&&e("#"+o+"_tag").addClass("not_valid")}else var a=!1;if(""!=i&&1!=a){if(e("<span>").addClass("tag").append(e("<span>").text(i).append("&nbsp;&nbsp;"),e('<a class="icon icon-close">',{href:"#",title:"Removing tag",text:""}).click(function(){return e("#"+o).removeTag(escape(i))})).insertBefore("#"+o+"_addTag"),s.push(i),e("#"+o+"_tag").val(""),r.focus?e("#"+o+"_tag").focus():e("#"+o+"_tag").blur(),e.fn.tagsInput.updateTagsField(this,s),r.callback&&n[o]&&n[o].onAddTag){var l=n[o].onAddTag;l.call(this,i)}if(n[o]&&n[o].onChange){var u=s.length,l=n[o].onChange;l.call(this,e(this),s[u-1])}}}),!1},e.fn.removeTag=function(r){return r=unescape(r),this.each(function(){var o=e(this).attr("id"),s=e(this).val().split(t[o]);for(e("#"+o+"_tagsinput .tag").remove(),str="",i=0;i<s.length;i++)s[i]!=r&&(str=str+t[o]+s[i]);if(e.fn.tagsInput.importTags(this,str),n[o]&&n[o].onRemoveTag){var a=n[o].onRemoveTag;a.call(this,r)}}),!1},e.fn.tagExist=function(n){var i=e(this).attr("id"),r=e(this).val().split(t[i]);return jQuery.inArray(n,r)>=0},e.fn.importTags=function(t){id=e(this).attr("id"),e("#"+id+"_tagsinput .tag").remove(),e.fn.tagsInput.importTags(this,t)},e.fn.tagsInput=function(i){var r=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){r.hide&&e(this).hide();var i=e(this).attr("id");(!i||t[e(this).attr("id")])&&(i=e(this).attr("id","tags"+(new Date).getTime()).attr("id"));var o=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},r);t[i]=o.delimiter,(r.onAddTag||r.onRemoveTag||r.onChange)&&(n[i]=new Array,n[i].onAddTag=r.onAddTag,n[i].onRemoveTag=r.onRemoveTag,n[i].onChange=r.onChange);var s='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(r.interactive&&(s=s+'<input id="'+i+'_tag" value="" data-default="'+r.defaultText+'" />'),s+='</div><div class="tags_clear"></div></div>',e(s).insertAfter(this),e(o.holder).css("width",r.width),e(o.holder).css("min-height",r.height),e(o.holder).css("height","100%"),""!=e(o.real_input).val()&&e.fn.tagsInput.importTags(e(o.real_input),e(o.real_input).val()),r.interactive){if(e(o.fake_input).val(e(o.fake_input).attr("data-default")),e(o.fake_input).css("color",r.placeholderColor),e(o.fake_input).resetAutosize(r),e(o.holder).bind("click",o,function(t){e(t.data.fake_input).focus()}),e(o.fake_input).bind("focus",o,function(t){e(t.data.fake_input).val()==e(t.data.fake_input).attr("data-default")&&e(t.data.fake_input).val(""),e(t.data.fake_input).css("color","#7E8D9A")}),void 0!=r.autocomplete_url){autocomplete_options={source:r.autocomplete_url};for(attrname in r.autocomplete)autocomplete_options[attrname]=r.autocomplete[attrname];void 0!==jQuery.Autocompleter?(e(o.fake_input).autocomplete(r.autocomplete_url,r.autocomplete),e(o.fake_input).bind("result",o,function(t,n){n&&e("#"+i).addTag(n[0]+"",{focus:!0,unique:r.unique})})):void 0!==jQuery.ui.autocomplete&&(e(o.fake_input).autocomplete(autocomplete_options),e(o.fake_input).bind("autocompleteselect",o,function(t,n){return e(t.data.real_input).addTag(n.item.value,{focus:!0,unique:r.unique}),!1}))}else e(o.fake_input).bind("blur",o,function(t){var n=e(this).attr("data-default");return""!=e(t.data.fake_input).val()&&e(t.data.fake_input).val()!=n?t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}):(e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default")),e(t.data.fake_input).css("color",r.placeholderColor)),!1});e(o.fake_input).bind("keypress",o,function(t){return t.which==t.data.delimiter.charCodeAt(0)||13==t.which?(t.preventDefault(),t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}),e(t.data.fake_input).resetAutosize(r),!1):(t.data.autosize&&e(t.data.fake_input).doAutosize(r),void 0)}),o.removeWithBackspace&&e(o.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==e(this).val()){t.preventDefault();var n=e(this).closest(".tagsinput").find(".tag:last").text(),i=e(this).attr("id").replace(/_tag$/,"");n=n.replace(/[\s]+x$/,""),e("#"+i).removeTag(escape(n)),e(this).trigger("focus")}}),e(o.fake_input).blur(),o.unique&&e(o.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,/]+/))&&e(this).removeClass("not_valid")})}}),this},e.fn.tagsInput.updateTagsField=function(n,i){var r=e(n).attr("id");e(n).val(i.join(t[r]))},e.fn.tagsInput.importTags=function(r,o){e(r).val("");var s=e(r).attr("id"),a=o.split(t[s]);for(i=0;i<a.length;i++)e(r).addTag(a[i],{focus:!1,callback:!1});if(n[s]&&n[s].onChange){var l=n[s].onChange;l.call(r,r,a[i])}}}(jQuery),function(e,t){var n={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35},i={triggerChar:"@",onDataRequest:e.noop,minChars:2,showAvatars:!0,elastic:!0,insertSpaceAfterMention:!0,classes:{autoCompleteItemActive:"active"},templates:{wrapper:t.template('<div class="mentions-input-box"></div>'),autocompleteList:t.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:t.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:t.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:t.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:t.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:t.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:t.template("<strong><span><%= value %></span></strong>")}},r={htmlEncode:function(e){return t.escape(e)},highlightTerm:function(e,t){return t||t.length?e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):e},setCaratPosition:function(e,t){if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()},rtrim:function(e){return e.replace(/\s+$/,"")}},o=function(o){function s(){S=e(T),"true"!=S.attr("data-mentions-input")&&(E=S.parent(),M=e(o.templates.wrapper()),S.wrapAll(M),M=E.find("> div"),S.attr("data-mentions-input","true"),S.bind("keydown",y),S.bind("keypress",b),S.bind("input",v),S.bind("click",m),S.bind("blur",g),o.elastic&&S.elastic())}function a(){$=e(o.templates.autocompleteList()),$.appendTo(M),$.delegate("li","mousedown",f)}function l(){j=e(o.templates.mentionsOverlay()),j.prependTo(M)}function u(){var e=p();t.each(L,function(t){var n=o.templates.mentionItemSyntax(t);e=e.replace(t.value,n)});var n=r.htmlEncode(e);t.each(L,function(e){var i=t.extend({},e,{value:r.htmlEncode(e.value)}),s=o.templates.mentionItemSyntax(i),a=o.templates.mentionItemHighlight(i);n=n.replace(s,a)}),n=n.replace(/\n/g,"<br />"),n=n.replace(/ {2}/g,"&nbsp; "),S.data("messageText",e),j.find("div").html(n)}function c(){P=[]}function d(){var e=p();L=t.reject(L,function(t){return!t.value||-1==e.indexOf(t.value)}),L=t.compact(L)}function h(e){var t=p(),n=new RegExp("\\"+o.triggerChar+A,"gi");if(match=n.exec(t)){var i=n.lastIndex-A.length-1,s=n.lastIndex,a=t.substr(0,i),l=t.substr(s,t.length),d=(a+e.value).length;o.insertSpaceAfterMention&&(d+=1),L.push(e),c(),A="",w();var h=a+e.value;o.insertSpaceAfterMention&&(h+=" "),h+=l,S.val(h),u(),S.focus(),r.setCaratPosition(S[0],d)}}function p(){return e.trim(S.val())}function f(){var t=e(this),n=N[t.attr("data-uid")];return h(n),!1}function m(){c()}function g(){w()}function v(){u(),d();var e=t.lastIndexOf(P,o.triggerChar);e>-1&&(A=P.slice(e+1).join(""),A=r.rtrim(A),t.defer(t.bind(x,this,A)))}function b(e){if(e.keyCode!==n.BACKSPACE){var t=String.fromCharCode(e.which||e.keyCode);P.push(t)}}function y(i){if(i.keyCode==n.LEFT||i.keyCode==n.RIGHT||i.keyCode==n.HOME||i.keyCode==n.END)return t.defer(c),navigator.userAgent.indexOf("MSIE 9")>-1&&t.defer(u),void 0;if(i.keyCode==n.BACKSPACE)return P=P.slice(0,-1+P.length),void 0;if(!$.is(":visible"))return!0;switch(i.keyCode){case n.UP:case n.DOWN:var r=null;return r=i.keyCode==n.DOWN?F&&F.length?F.next():$.find("li").first():e(F).prev(),r.length&&_(r),!1;case n.RETURN:case n.TAB:return F&&F.length?(F.trigger("mousedown"),!1):!0}return!0}function w(){F=null,$.empty().hide()}function _(e){e.addClass(o.classes.autoCompleteItemActive),e.siblings().removeClass(o.classes.autoCompleteItemActive),F=e}function k(n,i){$.show();var s=t.pluck(L,"value");if(i=t.reject(i,function(e){return t.include(s,e.name)}),!i.length)return w(),void 0;$.empty();var a=e("<ul>").appendTo($).hide();t.each(i,function(i,s){var l=t.uniqueId("mention_");N[l]=t.extend({},i,{value:i.name});var u=e(o.templates.autocompleteListItem({id:r.htmlEncode(i.id),display:r.htmlEncode(i.name),type:r.htmlEncode(i.type),username:r.highlightTerm(r.htmlEncode(i.username),n),content:r.highlightTerm(r.htmlEncode(i.name),n)})).attr("data-uid",l);if(0===s&&_(u),o.showAvatars){var c;c=i.avatar?e(o.templates.autocompleteListItemAvatar({avatar:i.avatar,type:i.type})):e(o.templates.autocompleteListItemIcon({icon:i.icon})),c.prependTo(u.find("a"))}u=u.appendTo(a)}),$.show(),a.show()}function x(e){e&&e.length&&e.length>=o.minChars?o.onDataRequest.call(this,"search",e,function(t){k(e,t)}):w()}function C(){S.val(""),L=[],u()}var T,S,E,$,M,j,F,A,L=[],N={},P=[];return o=e.extend(!0,{},i,o),{init:function(e){T=e,s(),a(),l(),C(),o.prefillMention&&h(o.prefillMention)},val:function(e){if(t.isFunction(e)){var n=L.length?S.data("messageText"):p();e.call(this,n)}},reset:function(){C()},getMentions:function(e){t.isFunction(e)&&e.call(this,L)},setMentions:function(e,n){S.val(e),insertSpace=o.insertSpaceAfterMention,o.insertSpaceAfterMention=!1,t.each(n,function(e){e.value=e.name,A=e.value,h(e)}),o.insertSpaceAfterMention=insertSpace}}};e.fn.mentionsInput=function(n,i){var r=arguments;return"object"!=typeof n&&n||(i=n),this.each(function(){var s=e.data(this,"mentionsInput")||e.data(this,"mentionsInput",new o(i));return t.isFunction(s[n])?s[n].apply(this,Array.prototype.slice.call(r,1)):"object"!=typeof n&&n?(e.error("Method "+n+" does not exist"),void 0):s.init.call(this,this)})}}(jQuery,_),// copyright chris wanstrath
function(e){function t(t,i,r){var o=this;return this.on("click.pjax",t,function(t){var s=e.extend({},h(i,r));s.container||(s.container=e(this).attr("data-pjax")||o),n(t,s)})}function n(t,n,i){i=h(n,i);var o=t.currentTarget;if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==o.protocol||location.host!==o.host||o.hash&&o.href.replace(o.hash,"")===location.href.replace(location.hash,"")||o.href===location.href+"#")){var s={url:o.href,container:e(o).attr("data-pjax"),target:o,fragment:null};r(e.extend({},s,i)),t.preventDefault()}}function i(t,n,i){i=h(n,i);var o=t.currentTarget;if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:o.method,url:o.action,data:e(o).serializeArray(),container:e(o).attr("data-pjax"),target:o,fragment:null,timeout:0};r(e.extend({},s,i)),t.preventDefault()}function r(t){function n(t,n){var r=e.Event(t,{relatedTarget:i});return a.trigger(r,n),!r.isDefaultPrevented()}t=e.extend(!0,{},e.ajaxSettings,r.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var i=t.target,o=d(t.url).hash,a=t.context=p(t.container);t.data||(t.data={}),t.data._pjax=a.selector;var l;t.beforeSend=function(e,i){return"GET"!==i.type&&(i.timeout=0),i.timeout>0&&(l=setTimeout(function(){n("pjax:timeout",[e,t])&&e.abort("timeout")},i.timeout),i.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",a.selector),n("pjax:beforeSend",[e,i])?(t.requestUrl=d(i.url).href,void 0):!1},t.complete=function(e,i){l&&clearTimeout(l),n("pjax:complete",[e,i,t]),n("pjax:end",[e,t])},t.error=function(e,i,r){var o=m("",e,t),a=n("pjax:error",[e,i,r,t]);"GET"==t.type&&"abort"!==i&&a&&s(o.url)},t.success=function(i,l,c){var h=m(i,c,t);if(!h.contents)return s(h.url),void 0;if(r.state={id:t.id||u(),url:h.url,title:h.title,container:a.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(r.state,h.title,h.url),h.title&&(document.title=h.title),a.html(h.contents),"number"==typeof t.scrollTo&&e(window).scrollTop(t.scrollTo),(t.replace||t.push)&&window._gaq&&_gaq.push(["_trackPageview"]),""!==o){var p=d(h.url);p.hash=o,r.state.url=p.href,window.history.replaceState(r.state,h.title,p.href);var f=e(p.hash);f.length&&e(window).scrollTop(f.offset().top)}n("pjax:success",[i,l,c,t])},r.state||(r.state={id:u(),url:window.location.href,title:document.title,container:a.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(r.state,document.title));var h=r.xhr;h&&h.readyState<4&&(h.onreadystatechange=e.noop,h.abort()),r.options=t;var h=r.xhr=e.ajax(t);return h.readyState>0&&(t.push&&!t.replace&&(g(r.state.id,a.clone().contents()),window.history.pushState(null,"",c(t.requestUrl))),n("pjax:start",[h,t]),n("pjax:send",[h,t])),r.xhr}function o(t,n){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(e.extend(i,h(t,n)))}function s(e){window.history.replaceState(null,"","#"),window.location.replace(e)}function a(t){var n=t.state;if(n&&n.container){var i=e(n.container);if(i.length){var o=w[n.id];if(r.state){var a=r.state.id<n.id?"forward":"back";v(a,r.state.id,i.clone().contents())}var l=e.Event("pjax:popstate",{state:n,direction:a});i.trigger(l);var u={id:n.id,url:n.url,container:i,push:!1,fragment:n.fragment,timeout:n.timeout,scrollTo:!1};o?(i.trigger("pjax:start",[null,u]),n.title&&(document.title=n.title),i.html(o),r.state=n,i.trigger("pjax:end",[null,u])):r(u),i[0].offsetHeight}else s(location.href)}}function l(t){var n=e.isFunction(t.url)?t.url():t.url,i=t.type?t.type.toUpperCase():"GET",r=e("<form>",{method:"GET"===i?"GET":"POST",action:n,style:"display:none"});"GET"!==i&&"POST"!==i&&r.append(e("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var o=t.data;if("string"==typeof o)e.each(o.split("&"),function(t,n){var i=n.split("=");r.append(e("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if("object"==typeof o)for(key in o)r.append(e("<input>",{type:"hidden",name:key,value:o[key]}));e(document.body).append(r),r.submit()}function u(){return(new Date).getTime()}function c(e){return e.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function d(e){var t=document.createElement("a");return t.href=e,t}function h(t,n){return t&&n?n.container=t:n=e.isPlainObject(t)?t:{container:t},n.container&&(n.container=p(n.container)),n}function p(t){if(t=e(t),t.length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function f(e,t){return e.filter(t).add(e.find(t))}function m(t,n,i){var r={};if(r.url=c(n.getResponseHeader("X-PJAX-URL")||i.requestUrl),/<html/i.test(t))var o=e(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]),s=e(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]);else var o=s=e(t);if(0===s.length)return r;if(r.title=f(o,"title").last().text(),i.fragment){if("body"===i.fragment)var a=s;else var a=f(s,i.fragment).first();a.length&&(r.contents=a.contents(),r.title||(r.title=a.attr("title")||a.data("title")))}else/<html/i.test(t)||(r.contents=s);return r.contents&&(r.contents=r.contents.not("title"),r.contents.find("title").remove()),r.title&&(r.title=e.trim(r.title)),r}function g(e,t){for(w[e]=t,k.push(e);_.length;)delete w[_.shift()];for(;k.length>r.defaults.maxCacheLength;)delete w[k.shift()]}function v(e,t,n){var i,r;w[t]=n,"forward"===e?(i=k,r=_):(i=_,r=k),i.push(t),(t=r.pop())&&delete w[t]}function b(){e.fn.pjax=t,e.pjax=r,e.pjax.enable=e.noop,e.pjax.disable=y,e.pjax.click=n,e.pjax.submit=i,e.pjax.reload=o,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20},e(window).bind("popstate.pjax",a)}function y(){e.fn.pjax=function(){return this},e.pjax=l,e.pjax.enable=b,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).unbind("popstate.pjax",a)}var w={},_=[],k=[];e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),e.support.pjax?b():y()}(jQuery),function(){var e,t,n,i,r,o,s,a,l,u,c,d,h,p,f,m,g,v,b,y=[].slice,w=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=jQuery,e.payment={},e.payment.fn={},e.fn.payment=function(){var t,n;return n=arguments[0],t=2<=arguments.length?y.call(arguments,1):[],e.payment.fn[n].apply(this,t)},r=/(\d{1,4})/g,i=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:r,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:r,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:r,length:[13,14,15,16],cvcLength:[3],luhn:!0}],t=function(e){var t,n,r;for(e=(e+"").replace(/\D/g,""),n=0,r=i.length;r>n;n++)if(t=i[n],t.pattern.test(e))return t},n=function(e){var t,n,r;for(n=0,r=i.length;r>n;n++)if(t=i[n],t.type===e)return t},h=function(e){var t,n,i,r,o,s;for(i=!0,r=0,n=(e+"").split("").reverse(),o=0,s=n.length;s>o;o++)t=n[o],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),r+=t;return 0===r%10},d=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document?null!=(t=document.selection)?"function"==typeof t.createRange?t.createRange().text:void 0:void 0:void 0)?!0:!1},p=function(t){return setTimeout(function(){var n,i;return n=e(t.currentTarget),i=n.val(),i=e.payment.formatCardNumber(i),n.val(i)})},a=function(n){var i,r,o,s,a,l,u;return o=String.fromCharCode(n.which),!/^\d+$/.test(o)||(i=e(n.currentTarget),u=i.val(),r=t(u+o),s=(u.replace(/\D/g,"")+o).length,l=16,r&&(l=r.length[r.length.length-1]),s>=l||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==u.length)?void 0:(a=r&&"amex"===r.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,a.test(u)?(n.preventDefault(),i.val(u+" "+o)):a.test(u+o)?(n.preventDefault(),i.val(u+o+" ")):void 0)},o=function(t){var n,i;return n=e(t.currentTarget),i=n.val(),t.meta||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==i.length?void 0:8===t.which&&/\s\d?$/.test(i)?(t.preventDefault(),n.val(i.replace(/\s\d?$/,""))):void 0},l=function(t){var n,i,r;return i=String.fromCharCode(t.which),/^\d+$/.test(i)?(n=e(t.currentTarget),r=n.val()+i,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(t.preventDefault(),n.val("0"+r+" / ")):/^\d\d$/.test(r)?(t.preventDefault(),n.val(""+r+" / ")):void 0):void 0},u=function(t){var n,i,r;return i=String.fromCharCode(t.which),/^\d+$/.test(i)?(n=e(t.currentTarget),r=n.val(),/^\d\d$/.test(r)?n.val(""+r+" / "):void 0):void 0},c=function(t){var n,i,r;return i=String.fromCharCode(t.which),"/"===i?(n=e(t.currentTarget),r=n.val(),/^\d$/.test(r)&&"0"!==r?n.val("0"+r+" / "):void 0):void 0},s=function(t){var n,i;if(!t.meta&&(n=e(t.currentTarget),i=n.val(),8===t.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\s\/\s?\d?$/.test(i)?(t.preventDefault(),n.val(i.replace(/\s\/\s?\d?$/,""))):void 0},v=function(e){var t;return e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))},m=function(n){var i,r,o,s;return i=e(n.currentTarget),o=String.fromCharCode(n.which),/^\d+$/.test(o)&&!d(i)?(s=(i.val()+o).replace(/\D/g,""),r=t(s),r?s.length<=r.length[r.length.length-1]:s.length<=16):void 0},g=function(t){var n,i,r;return n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!d(n)?(r=n.val()+i,r=r.replace(/\D/g,""),r.length>6?!1:void 0):void 0},f=function(t){var n,i,r;return n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)?(r=n.val()+i,r.length<=4):void 0},b=function(t){var n,r,o,s,a;return n=e(t.currentTarget),a=n.val(),s=e.payment.cardType(a)||"unknown",n.hasClass(s)?void 0:(r=function(){var e,t,n;for(n=[],e=0,t=i.length;t>e;e++)o=i[e],n.push(o.type);return n}(),n.removeClass("unknown"),n.removeClass(r.join(" ")),n.addClass(s),n.toggleClass("identified","unknown"!==s),n.trigger("payment.cardType",s))},e.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",f),this},e.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",g),this.on("keypress",l),this.on("keypress",c),this.on("keypress",u),this.on("keydown",s),this},e.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",m),this.on("keypress",a),this.on("keydown",o),this.on("keyup",b),this.on("paste",p),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this},e.payment.fn.cardExpiryVal=function(){return e.payment.cardExpiryVal(e(this).val())},e.payment.cardExpiryVal=function(e){var t,n,i,r;return e=e.replace(/\s/g,""),r=e.split("/",2),t=r[0],i=r[1],2===(null!=i?i.length:void 0)&&/^\d+$/.test(i)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),i=n+i),t=parseInt(t,10),i=parseInt(i,10),{month:t,year:i}},e.payment.validateCardNumber=function(e){var n,i;return e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)?(n=t(e),n?(i=e.length,w.call(n.length,i)>=0&&(n.luhn===!1||h(e))):!1):!1},e.payment.validateCardExpiry=function(t,n){var i,r,o,s;return"object"==typeof t&&"month"in t&&(s=t,t=s.month,n=s.year),t&&n?(t=e.trim(t),n=e.trim(n),/^\d+$/.test(t)?/^\d+$/.test(n)?parseInt(t,10)<=12?(2===n.length&&(o=(new Date).getFullYear(),o=o.toString().slice(0,2),n=o+n),r=new Date(n,t),i=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>i):!1:!1:!1):!1},e.payment.validateCardCVC=function(t,i){var r,o;return t=e.trim(t),/^\d+$/.test(t)?i?(r=t.length,w.call(null!=(o=n(i))?o.cvcLength:void 0,r)>=0):t.length>=3&&t.length<=4:!1},e.payment.cardType=function(e){var n;return e?(null!=(n=t(e))?n.type:void 0)||null:null},e.payment.formatCardNumber=function(e){var n,i,r,o;return(n=t(e))?(r=n.length[n.length.length-1],e=e.replace(/\D/g,""),e=e.slice(0,+r+1||9e9),n.format.global?null!=(o=e.match(n.format))?o.join(" "):void 0:(i=n.format.exec(e),null!=i&&i.shift(),null!=i?i.join(" "):void 0)):e}}.call(this),function(e,t,n){function i(e){var t={},i=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!i.test(n.name)&&(t[n.name]=n.value)}),t}function r(e,t){var i=this,r=n(i);if(i.value==r.attr("placeholder")&&r.hasClass("placeholder"))if(r.data("placeholder-password")){if(r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id")),e===!0)return r[0].value=t;r.focus()}else i.value="",r.removeClass("placeholder"),i==s()&&i.select()}function o(){var e,t=this,o=n(t),s=this.id;if(""==t.value){if("password"==t.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(a){e=n("<input>").attr(n.extend(i(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":o,"placeholder-id":s}).bind("focus.placeholder",r),o.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",s).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function s(){try{return t.activeElement}catch(e){}}var a,l,u="placeholder"in t.createElement("input"),c="placeholder"in t.createElement("textarea"),d=n.fn,h=n.valHooks,p=n.propHooks;u&&c?(l=d.placeholder=function(){return this},l.input=l.textarea=!0):(l=d.placeholder=function(){var e=this;return e.filter((u?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},l.input=u,l.textarea=c,a={get:function(e){var t=n(e),i=t.data("placeholder-password");return i?i[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var i=n(e),a=i.data("placeholder-password");return a?a[0].value=t:i.data("placeholder-enabled")?(""==t?(e.value=t,e!=s()&&o.call(e)):i.hasClass("placeholder")?r.call(e,!0,t)||(e.value=t):e.value=t,i):e.value=t}},u||(h.input=a,p.value=a),c||(h.textarea=a,p.value=a),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(r);setTimeout(function(){e.each(o)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),/*
 * jQuery Hotkeys Plugin
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Based upon the plugin by Tzury Bar Yochay:
 * http://github.com/tzuryby/hotkeys
 *
 * Original idea by:
 * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/
*/
function(e){function t(t){if("string"==typeof t.data){var n=t.handler,i=t.data.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!/textarea|select/i.test(t.target.nodeName)&&"text"!==t.target.type){var r="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],o=String.fromCharCode(t.which).toLowerCase(),s="",a={};t.altKey&&"alt"!==r&&(s+="alt+"),t.ctrlKey&&"ctrl"!==r&&(s+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==r&&(s+="meta+"),t.shiftKey&&"shift"!==r&&(s+="shift+"),r?a[s+r]=!0:(a[s+o]=!0,a[s+e.hotkeys.shiftNums[o]]=!0,"shift+"===s&&(a[e.hotkeys.shiftNums[o]]=!0));for(var l=0,u=i.length;u>l;l++)if(a[i[l]])return n.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(jQuery),/*!
 * Tinycon - A small library for manipulating the Favicon
 * Tom Moor, http://tommoor.com
 * Copyright (c) 2012 Tom Moor
 * MIT Licensed
 * @version 0.5
*/
function(){var e={},t=null,n=null,i=document.title,r=null,o=null,s={},a={width:7,height:9,font:"10px arial",colour:"#ffffff",background:"#F03D25",fallback:!0,abbreviate:!0},l=function(){var e=navigator.userAgent.toLowerCase();return function(t){return-1!==e.indexOf(t)}}(),u={ie:l("msie"),chrome:l("chrome"),webkit:l("chrome")||l("safari"),safari:l("safari")&&!l("chrome"),mozilla:l("mozilla")&&!l("chrome")&&!l("safari")},c=function(){for(var e=document.getElementsByTagName("link"),t=0,n=e.length;n>t;t++)if((e[t].getAttribute("rel")||"").match(/\bicon\b/))return e[t];return!1},d=function(){for(var e=document.getElementsByTagName("link"),t=document.getElementsByTagName("head")[0],n=0,i=e.length;i>n;n++){var r="undefined"!=typeof e[n];r&&(e[n].getAttribute("rel")||"").match(/\bicon\b/)&&t.removeChild(e[n])}},h=function(){if(!n||!t){var e=c();n=t=e?e.getAttribute("href"):"/favicon.ico"}return t},p=function(){return o||(o=document.createElement("canvas"),o.width=16,o.height=16),o},f=function(e){d();var t=document.createElement("link");t.type="image/x-icon",t.rel="icon",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},m=function(e,t){if(!p().getContext||u.ie||u.safari||"force"===s.fallback)return g(e);var n=p().getContext("2d"),t=t||"#000000",i=h();r=new Image,r.onload=function(){n.clearRect(0,0,16,16),n.drawImage(r,0,0,r.width,r.height,0,0,16,16),(e+"").length>0&&v(n,e,t),b()},i.match(/^data/)||(r.crossOrigin="anonymous"),r.src=i},g=function(e){s.fallback&&(document.title=(e+"").length>0?"("+e+") "+i:i)},v=function(e,t){"number"==typeof t&&t>99&&s.abbreviate&&(t=y(t));var n=(t+"").length-1,i=s.width+6*n,r=16-i,o=16-s.height;e.font=(u.webkit?"bold ":"")+s.font,e.fillStyle=s.background,e.strokeStyle=s.background,e.lineWidth=1,e.fillRect(r,o,i-1,s.height),e.beginPath(),e.moveTo(r-.5,o+1),e.lineTo(r-.5,15),e.stroke(),e.beginPath(),e.moveTo(15.5,o+1),e.lineTo(15.5,15),e.stroke(),e.beginPath(),e.strokeStyle="rgba(0,0,0,0.3)",e.moveTo(r,16),e.lineTo(15,16),e.stroke(),e.fillStyle=s.colour,e.textAlign="right",e.textBaseline="top",e.fillText(t,15,u.mozilla?7:6)},b=function(){p().getContext&&f(p().toDataURL())},y=function(e){for(var t=[["G",1e9],["M",1e6],["k",1e3]],n=0;n<t.length;++n)if(e>=t[n][1]){e=w(e/t[n][1])+t[n][0];break}return e},w=function(e,t){var n=new Number(e);return n.toFixed(t)};e.setOptions=function(e){s={};for(var t in a)s[t]=e.hasOwnProperty(t)?e[t]:a[t];return this},e.setImage=function(e){return t=e,b(),this},e.setBubble=function(e,t){return e=e||"",m(e,t),this},e.reset=function(){f(n)},e.setOptions(a),window.Tinycon=e}();var Chart=function(e){function t(e,t,n){return e=o((e-t.graphMin)/(t.steps*t.stepValue),1,0),n*t.steps*e}function n(e,t,n,i){function r(){l+=s;var u=e.animation?o(a(l),null,0):1;i.clearRect(0,0,c,d),e.scaleOverlay?(n(u),t()):(t(),n(u)),1>=l?b(r):"function"==typeof e.onAnimationComplete&&e.onAnimationComplete()}var s=e.animation?1/o(e.animationSteps,Number.MAX_VALUE,1):1,a=u[e.animationEasing],l=e.animation?0:1;"function"!=typeof t&&(t=function(){}),b(r)}function i(e,t,n,i,o,s){var a;for(e=Math.floor(Math.log(i-o)/Math.LN10),o=Math.floor(o/(1*Math.pow(10,e)))*Math.pow(10,e),i=Math.ceil(i/(1*Math.pow(10,e)))*Math.pow(10,e)-o,e=Math.pow(10,e),a=Math.round(i/e);n>a||a>t;)e=n>a?e/2:2*e,a=Math.round(i/e);return t=[],r(s,t,a,o,e),{steps:a,stepValue:e,graphMin:o,labels:t}}function r(e,t,n,i,r){if(e)for(var o=1;n+1>o;o++)t.push(a(e,{value:(i+r*o).toFixed(0!=r%1?r.toString().split(".")[1].length:0)}))}function o(e,t,n){return!isNaN(parseFloat(t))&&isFinite(t)&&e>t?t:!isNaN(parseFloat(n))&&isFinite(n)&&n>e?n:e}function s(e,t){var n,i={};for(n in e)i[n]=e[n];for(n in t)i[n]=t[n];return i}function a(e,t){var n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):y[e]=y[e]||a(document.getElementById(e).innerHTML);return t?n(t):n}var l=this,u={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return 1>(e/=.5)?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return 1>(e/=.5)?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return 1>(e/=.5)?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return 1>(e/=.5)?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0==e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1==e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0==e?0:1==e?1:1>(e/=.5)?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return 1>(e/=.5)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0==e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0==e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0==e?0:2==(e/=.5)?1:(n||(n=.3*1.5),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n):.5*i*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInBack:function(e){return 1*(e/=1)*e*(2.70158*e-1.70158)},easeOutBack:function(e){return 1*((e=e/1-1)*e*(2.70158*e+1.70158)+1)},easeInOutBack:function(e){var t=1.70158;return 1>(e/=.5)?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-u.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*u.easeInBounce(2*e):.5*u.easeOutBounce(2*e-1)+.5}},c=e.canvas.width,d=e.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=c+"px",e.canvas.style.height=d+"px",e.canvas.height=d*window.devicePixelRatio,e.canvas.width=c*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(t,n){l.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?s(l.PolarArea.defaults,n):l.PolarArea.defaults;return new h(t,i,e)},this.Radar=function(t,n){l.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?s(l.Radar.defaults,n):l.Radar.defaults;return new p(t,i,e)},this.Pie=function(t,n){l.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?s(l.Pie.defaults,n):l.Pie.defaults;return new f(t,i,e)},this.Doughnut=function(t,n){l.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?s(l.Doughnut.defaults,n):l.Doughnut.defaults;return new m(t,i,e)},this.Line=function(t,n){l.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?s(l.Line.defaults,n):l.Line.defaults;return new g(t,i,e)},this.Bar=function(t,n){l.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?s(l.Bar.defaults,n):l.Bar.defaults;return new v(t,i,e)};var h=function(e,o,s){var a,l,u,h,p,f,m,g,v;for(p=Math.min.apply(Math,[c,d])/2,p-=Math.max.apply(Math,[.5*o.scaleFontSize,.5*o.scaleLineWidth]),h=2*o.scaleFontSize,o.scaleShowLabelBackdrop&&(h+=2*o.scaleBackdropPaddingY,p-=1.5*o.scaleBackdropPaddingY),g=p,h=h?h:5,a=Number.MIN_VALUE,l=Number.MAX_VALUE,u=0;u<e.length;u++)e[u].value>a&&(a=e[u].value),e[u].value<l&&(l=e[u].value);u=Math.floor(g/(.66*h)),h=Math.floor(.5*(g/h)),v=o.scaleShowLabels?o.scaleLabel:null,o.scaleOverride?(m={steps:o.scaleSteps,stepValue:o.scaleStepWidth,graphMin:o.scaleStartValue,labels:[]},r(v,m.labels,m.steps,o.scaleStartValue,o.scaleStepWidth)):m=i(g,u,h,a,l,v),f=p/m.steps,n(o,function(){for(var e=0;e<m.steps;e++)if(o.scaleShowLine&&(s.beginPath(),s.arc(c/2,d/2,f*(e+1),0,2*Math.PI,!0),s.strokeStyle=o.scaleLineColor,s.lineWidth=o.scaleLineWidth,s.stroke()),o.scaleShowLabels){s.textAlign="center",s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily;var t=m.labels[e];if(o.scaleShowLabelBackdrop){var n=s.measureText(t).width;s.fillStyle=o.scaleBackdropColor,s.beginPath(),s.rect(Math.round(c/2-n/2-o.scaleBackdropPaddingX),Math.round(d/2-f*(e+1)-.5*o.scaleFontSize-o.scaleBackdropPaddingY),Math.round(n+2*o.scaleBackdropPaddingX),Math.round(o.scaleFontSize+2*o.scaleBackdropPaddingY)),s.fill()}s.textBaseline="middle",s.fillStyle=o.scaleFontColor,s.fillText(t,c/2,d/2-f*(e+1))}},function(n){var i=-Math.PI/2,r=2*Math.PI/e.length,a=1,l=1;for(o.animation&&(o.animateScale&&(a=n),o.animateRotate&&(l=n)),n=0;n<e.length;n++)s.beginPath(),s.arc(c/2,d/2,a*t(e[n].value,m,f),i,i+l*r,!1),s.lineTo(c/2,d/2),s.closePath(),s.fillStyle=e[n].color,s.fill(),o.segmentShowStroke&&(s.strokeStyle=o.segmentStrokeColor,s.lineWidth=o.segmentStrokeWidth,s.stroke()),i+=l*r},s)},p=function(e,s,a){var l,u,h,p,f,m,g,v,b;for(e.labels||(e.labels=[]),f=Math.min.apply(Math,[c,d])/2,p=2*s.scaleFontSize,l=v=0;l<e.labels.length;l++)a.font=s.pointLabelFontStyle+" "+s.pointLabelFontSize+"px "+s.pointLabelFontFamily,u=a.measureText(e.labels[l]).width,u>v&&(v=u);for(f-=Math.max.apply(Math,[v,1.5*(s.pointLabelFontSize/2)]),f-=s.pointLabelFontSize,v=f=o(f,null,0),p=p?p:5,l=Number.MIN_VALUE,u=Number.MAX_VALUE,h=0;h<e.datasets.length;h++)for(b=0;b<e.datasets[h].data.length;b++)e.datasets[h].data[b]>l&&(l=e.datasets[h].data[b]),e.datasets[h].data[b]<u&&(u=e.datasets[h].data[b]);h=Math.floor(v/(.66*p)),p=Math.floor(.5*(v/p)),b=s.scaleShowLabels?s.scaleLabel:null,s.scaleOverride?(g={steps:s.scaleSteps,stepValue:s.scaleStepWidth,graphMin:s.scaleStartValue,labels:[]},r(b,g.labels,g.steps,s.scaleStartValue,s.scaleStepWidth)):g=i(v,h,p,l,u,b),m=f/g.steps,n(s,function(){var t=2*Math.PI/e.datasets[0].data.length;if(a.save(),a.translate(c/2,d/2),s.angleShowLineOut){a.strokeStyle=s.angleLineColor,a.lineWidth=s.angleLineWidth;for(var n=0;n<e.datasets[0].data.length;n++)a.rotate(t),a.beginPath(),a.moveTo(0,0),a.lineTo(0,-f),a.stroke()}for(n=0;n<g.steps;n++){if(a.beginPath(),s.scaleShowLine){a.strokeStyle=s.scaleLineColor,a.lineWidth=s.scaleLineWidth,a.moveTo(0,-m*(n+1));for(var i=0;i<e.datasets[0].data.length;i++)a.rotate(t),a.lineTo(0,-m*(n+1));a.closePath(),a.stroke()}s.scaleShowLabels&&(a.textAlign="center",a.font=s.scaleFontStyle+" "+s.scaleFontSize+"px "+s.scaleFontFamily,a.textBaseline="middle",s.scaleShowLabelBackdrop&&(i=a.measureText(g.labels[n]).width,a.fillStyle=s.scaleBackdropColor,a.beginPath(),a.rect(Math.round(-i/2-s.scaleBackdropPaddingX),Math.round(-m*(n+1)-.5*s.scaleFontSize-s.scaleBackdropPaddingY),Math.round(i+2*s.scaleBackdropPaddingX),Math.round(s.scaleFontSize+2*s.scaleBackdropPaddingY)),a.fill()),a.fillStyle=s.scaleFontColor,a.fillText(g.labels[n],0,-m*(n+1)))}for(n=0;n<e.labels.length;n++){a.font=s.pointLabelFontStyle+" "+s.pointLabelFontSize+"px "+s.pointLabelFontFamily,a.fillStyle=s.pointLabelFontColor;var i=Math.sin(t*n)*(f+s.pointLabelFontSize),r=Math.cos(t*n)*(f+s.pointLabelFontSize);a.textAlign=t*n==Math.PI||0==t*n?"center":t*n>Math.PI?"right":"left",a.textBaseline="middle",a.fillText(e.labels[n],i,-r)}a.restore()},function(n){var i=2*Math.PI/e.datasets[0].data.length;a.save(),a.translate(c/2,d/2);for(var r=0;r<e.datasets.length;r++){a.beginPath(),a.moveTo(0,-1*n*t(e.datasets[r].data[0],g,m));for(var o=1;o<e.datasets[r].data.length;o++)a.rotate(i),a.lineTo(0,-1*n*t(e.datasets[r].data[o],g,m));if(a.closePath(),a.fillStyle=e.datasets[r].fillColor,a.strokeStyle=e.datasets[r].strokeColor,a.lineWidth=s.datasetStrokeWidth,a.fill(),a.stroke(),s.pointDot)for(a.fillStyle=e.datasets[r].pointColor,a.strokeStyle=e.datasets[r].pointStrokeColor,a.lineWidth=s.pointDotStrokeWidth,o=0;o<e.datasets[r].data.length;o++)a.rotate(i),a.beginPath(),a.arc(0,-1*n*t(e.datasets[r].data[o],g,m),s.pointDotRadius,2*Math.PI,!1),a.fill(),a.stroke();a.rotate(i)}a.restore()},a)},f=function(e,t,i){for(var r=0,o=Math.min.apply(Math,[d/2,c/2])-5,s=0;s<e.length;s++)r+=e[s].value;n(t,null,function(n){var s=-Math.PI/2,a=1,l=1;for(t.animation&&(t.animateScale&&(a=n),t.animateRotate&&(l=n)),n=0;n<e.length;n++){var u=2*(l*e[n].value/r)*Math.PI;i.beginPath(),i.arc(c/2,d/2,a*o,s,s+u),i.lineTo(c/2,d/2),i.closePath(),i.fillStyle=e[n].color,i.fill(),t.segmentShowStroke&&(i.lineWidth=t.segmentStrokeWidth,i.strokeStyle=t.segmentStrokeColor,i.stroke()),s+=u}},i)},m=function(e,t,i){for(var r=0,o=Math.min.apply(Math,[d/2,c/2])-5,s=o*(t.percentageInnerCutout/100),a=0;a<e.length;a++)r+=e[a].value;n(t,null,function(n){var a=-Math.PI/2,l=1,u=1;for(t.animation&&(t.animateScale&&(l=n),t.animateRotate&&(u=n)),n=0;n<e.length;n++){var h=2*(u*e[n].value/r)*Math.PI;i.beginPath(),i.arc(c/2,d/2,l*o,a,a+h,!1),i.arc(c/2,d/2,l*s,a+h,a,!0),i.closePath(),i.fillStyle=e[n].color,i.fill(),t.segmentShowStroke&&(i.lineWidth=t.segmentStrokeWidth,i.strokeStyle=t.segmentStrokeColor,i.stroke()),a+=h}},i)},g=function(e,o,s){var a,l,u,h,p,f,m,g,v,b,y,w,_,k=0;for(p=d,s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily,b=1,h=0;h<e.labels.length;h++)a=s.measureText(e.labels[h]).width,b=a>b?a:b;for(c/e.labels.length<b?(k=45,c/e.labels.length<Math.cos(k)*b?(k=90,p-=b):p-=Math.sin(k)*b):p-=o.scaleFontSize,h=o.scaleFontSize,p=p-5-h,a=Number.MIN_VALUE,l=Number.MAX_VALUE,u=0;u<e.datasets.length;u++)for(g=0;g<e.datasets[u].data.length;g++)e.datasets[u].data[g]>a&&(a=e.datasets[u].data[g]),e.datasets[u].data[g]<l&&(l=e.datasets[u].data[g]);if(u=Math.floor(p/(.66*h)),h=Math.floor(.5*(p/h)),g=o.scaleShowLabels?o.scaleLabel:"",o.scaleOverride?(m={steps:o.scaleSteps,stepValue:o.scaleStepWidth,graphMin:o.scaleStartValue,labels:[]},r(g,m.labels,m.steps,o.scaleStartValue,o.scaleStepWidth)):m=i(p,u,h,a,l,g),f=Math.floor(p/m.steps),h=1,o.scaleShowLabels){for(s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily,a=0;a<m.labels.length;a++)l=s.measureText(m.labels[a]).width,h=l>h?l:h;h+=10}y=c-h-b,v=Math.floor(y/(e.labels.length-1)),w=c-b/2-y,_=p+o.scaleFontSize/2,n(o,function(){s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(c-b/2+5,_),s.lineTo(c-b/2-y-5,_),s.stroke(),k>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=o.scaleFontColor;for(var t=0;t<e.labels.length;t++)s.save(),k>0?(s.translate(w+t*v,_+o.scaleFontSize),s.rotate(-(k*(Math.PI/180))),s.fillText(e.labels[t],0,0),s.restore()):s.fillText(e.labels[t],w+t*v,_+o.scaleFontSize+3),s.beginPath(),s.moveTo(w+t*v,_+3),o.scaleShowGridLines&&t>0?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(w+t*v,5)):s.lineTo(w+t*v,_+3),s.stroke();for(s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(w,_+5),s.lineTo(w,5),s.stroke(),s.textAlign="right",s.textBaseline="middle",t=0;t<m.steps;t++)s.beginPath(),s.moveTo(w-3,_-(t+1)*f),o.scaleShowGridLines?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(w+y+5,_-(t+1)*f)):s.lineTo(w-.5,_-(t+1)*f),s.stroke(),o.scaleShowLabels&&s.fillText(m.labels[t],w-8,_-(t+1)*f)},function(n){function i(i,r){return _-n*t(e.datasets[i].data[r],m,f)}for(var r=0;r<e.datasets.length;r++){s.strokeStyle=e.datasets[r].strokeColor,s.lineWidth=o.datasetStrokeWidth,s.beginPath(),s.moveTo(w,_-n*t(e.datasets[r].data[0],m,f));for(var a=1;a<e.datasets[r].data.length;a++)o.bezierCurve?s.bezierCurveTo(w+v*(a-.5),i(r,a-1),w+v*(a-.5),i(r,a),w+v*a,i(r,a)):s.lineTo(w+v*a,i(r,a));if(s.stroke(),o.datasetFill?(s.lineTo(w+v*(e.datasets[r].data.length-1),_),s.lineTo(w,_),s.closePath(),s.fillStyle=e.datasets[r].fillColor,s.fill()):s.closePath(),o.pointDot)for(s.fillStyle=e.datasets[r].pointColor,s.strokeStyle=e.datasets[r].pointStrokeColor,s.lineWidth=o.pointDotStrokeWidth,a=0;a<e.datasets[r].data.length;a++)s.beginPath(),s.arc(w+v*a,_-n*t(e.datasets[r].data[a],m,f),o.pointDotRadius,0,2*Math.PI,!0),s.fill(),s.stroke()}},s)},v=function(e,o,s){var a,l,u,h,p,f,m,g,v,b,y,w,_,k,x=0;for(p=d,s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily,b=1,h=0;h<e.labels.length;h++)a=s.measureText(e.labels[h]).width,b=a>b?a:b;for(c/e.labels.length<b?(x=45,c/e.labels.length<Math.cos(x)*b?(x=90,p-=b):p-=Math.sin(x)*b):p-=o.scaleFontSize,h=o.scaleFontSize,p=p-5-h,a=Number.MIN_VALUE,l=Number.MAX_VALUE,u=0;u<e.datasets.length;u++)for(g=0;g<e.datasets[u].data.length;g++)e.datasets[u].data[g]>a&&(a=e.datasets[u].data[g]),e.datasets[u].data[g]<l&&(l=e.datasets[u].data[g]);if(u=Math.floor(p/(.66*h)),h=Math.floor(.5*(p/h)),g=o.scaleShowLabels?o.scaleLabel:"",o.scaleOverride?(m={steps:o.scaleSteps,stepValue:o.scaleStepWidth,graphMin:o.scaleStartValue,labels:[]},r(g,m.labels,m.steps,o.scaleStartValue,o.scaleStepWidth)):m=i(p,u,h,a,l,g),f=Math.floor(p/m.steps),h=1,o.scaleShowLabels){for(s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily,a=0;a<m.labels.length;a++)l=s.measureText(m.labels[a]).width,h=l>h?l:h;h+=10}y=c-h-b,v=Math.floor(y/e.labels.length),k=(v-2*o.scaleGridLineWidth-2*o.barValueSpacing-(o.barDatasetSpacing*e.datasets.length-1)-(o.barStrokeWidth/2*e.datasets.length-1))/e.datasets.length,w=c-b/2-y,_=p+o.scaleFontSize/2,n(o,function(){s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(c-b/2+5,_),s.lineTo(c-b/2-y-5,_),s.stroke(),x>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=o.scaleFontColor;for(var t=0;t<e.labels.length;t++)s.save(),x>0?(s.translate(w+t*v,_+o.scaleFontSize),s.rotate(-(x*(Math.PI/180))),s.fillText(e.labels[t],0,0),s.restore()):s.fillText(e.labels[t],w+t*v+v/2,_+o.scaleFontSize+3),s.beginPath(),s.moveTo(w+(t+1)*v,_+3),s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(w+(t+1)*v,5),s.stroke();for(s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(w,_+5),s.lineTo(w,5),s.stroke(),s.textAlign="right",s.textBaseline="middle",t=0;t<m.steps;t++)s.beginPath(),s.moveTo(w-3,_-(t+1)*f),o.scaleShowGridLines?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(w+y+5,_-(t+1)*f)):s.lineTo(w-.5,_-(t+1)*f),s.stroke(),o.scaleShowLabels&&s.fillText(m.labels[t],w-8,_-(t+1)*f)},function(n){s.lineWidth=o.barStrokeWidth;for(var i=0;i<e.datasets.length;i++){s.fillStyle=e.datasets[i].fillColor,s.strokeStyle=e.datasets[i].strokeColor;for(var r=0;r<e.datasets[i].data.length;r++){var a=w+o.barValueSpacing+v*r+k*i+o.barDatasetSpacing*i+o.barStrokeWidth*i;s.beginPath(),s.moveTo(a,_),s.lineTo(a,_-n*t(e.datasets[i].data[r],m,f)+o.barStrokeWidth/2),s.lineTo(a+k,_-n*t(e.datasets[i].data[r],m,f)+o.barStrokeWidth/2),s.lineTo(a+k,_),o.barShowStroke&&s.stroke(),s.closePath(),s.fill()}}},s)},b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},y={}};window.CodeMirror=function(){"use strict";function e(r,o){if(!(this instanceof e))return new e(r,o);this.options=o=o||{};for(var a in sr)!o.hasOwnProperty(a)&&sr.hasOwnProperty(a)&&(o[a]=sr[a]);d(o);var u=this.display=t(r);u.wrapper.CodeMirror=this,l(this),o.autofocus&&!qi&&et(this),this.view=n(new In([new Pn([kn("",null,q(u))])])),this.nextOpId=0,i(this),s(this),o.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),this.setValue(o.value||""),Fi&&setTimeout(hi(J,this,!0),20),this.view.history=qn(),nt(this);var c;try{c=document.activeElement==u.input}catch(h){}c||o.autofocus&&!qi?setTimeout(hi(bt,this),20):yt(this),K(this,function(){for(var e in or)or.propertyIsEnumerable(e)&&or[e](this,o[e],ar);for(var t=0;t<dr.length;++t)dr[t](this)})()}function t(e){var t={},n=t.input=mi("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");Ni?n.style.width="1000px":n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),t.inputDiv=mi("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),t.scrollbarH=mi("div",[mi("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),t.scrollbarV=mi("div",[mi("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),t.scrollbarFiller=mi("div",null,"CodeMirror-scrollbar-filler"),t.lineDiv=mi("div"),t.selectionDiv=mi("div",null,null,"position: relative; z-index: 1"),t.cursor=mi("div"," ","CodeMirror-cursor"),t.otherCursor=mi("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),t.measure=mi("div",null,"CodeMirror-measure"),t.lineSpace=mi("div",[t.measure,t.selectionDiv,t.lineDiv,t.cursor,t.otherCursor],null,"position: relative; outline: none"),t.mover=mi("div",[mi("div",[t.lineSpace],"CodeMirror-lines")],null,"position: relative"),t.sizer=mi("div",[t.mover],"CodeMirror-sizer"),t.heightForcer=mi("div"," ",null,"position: absolute; height: "+vr+"px"),t.gutters=mi("div",null,"CodeMirror-gutters"),t.lineGutter=null;var i=mi("div",[t.sizer,t.heightForcer,t.gutters],null,"position: relative; min-height: 100%");return t.scroller=mi("div",[i],"CodeMirror-scroll"),t.scroller.setAttribute("tabIndex","-1"),t.wrapper=mi("div",[t.inputDiv,t.scrollbarH,t.scrollbarV,t.scrollbarFiller,t.scroller],"CodeMirror"),Ai&&(t.gutters.style.zIndex=-1,t.scroller.style.paddingRight=0),e.appendChild?e.appendChild(t.wrapper):e(t.wrapper),Ri&&(n.style.width="0px"),Ni||(t.scroller.draggable=!0),Oi?(t.inputDiv.style.height="1px",t.inputDiv.style.position="absolute"):Ai&&(t.scrollbarH.style.minWidth=t.scrollbarV.style.minWidth="18px"),t.viewOffset=t.showingFrom=t.showingTo=t.lastSizeC=0,t.lineNumWidth=t.lineNumInnerWidth=t.lineNumChars=null,t.prevInput="",t.alignWidgets=!1,t.pollingFast=!1,t.poll=new oi,t.draggingText=!1,t.cachedCharWidth=t.cachedTextHeight=null,t.measureLineCache=[],t.measureLineCachePos=0,t.inaccurateSelection=!1,t.pasteIncoming=!1,t.wheelDX=t.wheelDY=t.wheelStartX=t.wheelStartY=null,t}function n(e){var t={line:0,ch:0};return{doc:e,frontier:0,highlight:new oi,sel:{from:t,to:t,head:t,anchor:t,shift:!1,extend:!1},scrollTop:0,scrollLeft:0,overwrite:!1,focused:!1,maxLine:Dn(e,0),maxLineLength:0,maxLineChanged:!1,suppressEdits:!1,goalColumn:null,cantEdit:!1,keyMaps:[],overlays:[],modeGen:0}}function i(t){var n=t.view.doc;t.view.mode=e.getMode(t.options,t.options.mode),n.iter(0,n.size,function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.view.frontier=0,M(t,100),t.view.modeGen++,t.curOp&&Q(t,0,n.size)}function r(e){var t=e.view.doc,n=q(e.display);if(e.options.lineWrapping){e.display.wrapper.className+=" CodeMirror-wrap";var i=e.display.scroller.clientWidth/V(e.display)-3;t.iter(0,t.size,function(e){if(0!=e.height){var t=Math.ceil(e.text.length/i)||1;1!=t&&zn(e,t*n)}}),e.display.sizer.style.minWidth=""}else e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-wrap",""),c(e.view),t.iter(0,t.size,function(e){0!=e.height&&zn(e,n)});Q(e,0,t.size),z(e),setTimeout(function(){h(e.display,e.view.doc.height)},100)}function o(e){var t=pr[e.options.keyMap].style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),z(e)}function a(e){l(e),b(e,!0)}function l(e){var t=e.display.gutters,n=e.options.gutters;gi(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(mi("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none"}function u(e,t){if(0==t.height)return 0;for(var n,i=t.text.length,r=t;n=un(r);){var o=n.find();r=Dn(e,o.from.line),i+=o.from.ch-o.to.ch}for(r=t;n=cn(r);){var o=n.find();i-=r.text.length-o.from.ch,r=Dn(e,o.to.line),i+=r.text.length-o.to.ch}return i}function c(e){e.maxLine=Dn(e.doc,0),e.maxLineLength=u(e.doc,e.maxLine),e.maxLineChanged=!0,e.doc.iter(1,e.doc.size,function(t){var n=u(e.doc,t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function d(e){for(var t=!1,n=0;n<e.gutters.length;++n)"CodeMirror-linenumbers"==e.gutters[n]&&(e.lineNumbers?t=!0:e.gutters.splice(n--,1));!t&&e.lineNumbers&&e.gutters.push("CodeMirror-linenumbers")}function h(e,t){var n=t+2*L(e);e.sizer.style.minHeight=e.heightForcer.style.top=n+"px";var i=Math.max(n,e.scroller.scrollHeight),r=e.scroller.scrollWidth>e.scroller.clientWidth,o=i>e.scroller.clientHeight;o?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=r?yi(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=i-e.scroller.clientHeight+e.scrollbarV.clientHeight+"px"):e.scrollbarV.style.display="",r?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=o?yi(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):e.scrollbarH.style.display="",r&&o?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=yi(e.measure)+"px"):e.scrollbarFiller.style.display="",Wi&&0===yi(e.measure)&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=Hi?"18px":"12px")}function p(e,t,n){var i=e.scroller.scrollTop,r=e.wrapper.clientHeight;"number"==typeof n?i=n:n&&(i=n.top,r=n.bottom-n.top),i=Math.floor(i-L(e));var o=Math.ceil(i+r);return{from:Hn(t,i),to:Hn(t,o)}}function f(e){var t=e.display;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=v(t)-t.scroller.scrollLeft+e.view.scrollLeft,i=t.gutters.offsetWidth,r=n+"px",o=t.lineDiv.firstChild;o;o=o.nextSibling)if(o.alignable)for(var s=0,a=o.alignable;s<a.length;++s)a[s].style.left=r;e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function m(e){if(!e.options.lineNumbers)return!1;var t=e.view.doc,n=g(e.options,t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(mi("div",[mi("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s),i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",!0}return!1}function g(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function v(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function b(e,t,n){var i=e.display.showingFrom,r=e.display.showingTo,o=y(e,t,n);return o&&(ii(e,e,"update",e),(e.display.showingFrom!=i||e.display.showingTo!=r)&&ii(e,e,"viewportChange",e,e.display.showingFrom,e.display.showingTo)),T(e),h(e.display,e.view.doc.height),o}function y(e,t,n){var i=e.display,r=e.view.doc;if(!i.wrapper.clientWidth)return i.showingFrom=i.showingTo=i.viewOffset=0,void 0;var o=p(i,r,n);if(!(t!==!0&&0==t.length&&o.from>i.showingFrom&&o.to<i.showingTo)){t&&m(e)&&(t=!0);var s=i.sizer.style.marginLeft=i.gutters.offsetWidth+"px";if(i.scrollbarH.style.left=e.options.fixedGutter?s:"0",t!==!0&&Ji)for(var a=0;a<t.length;++a)for(var l,u=t[a];l=un(Dn(r,u.from));){var c=l.find().from.line;u.diff&&(u.diff-=u.from-c),u.from=c}var d=t===!0?0:1/0;if(e.options.lineNumbers&&t&&t!==!0)for(var a=0;a<t.length;++a)if(t[a].diff){d=t[a].from;break}var c=Math.max(o.from-e.options.viewportMargin,0),h=Math.min(r.size,o.to+e.options.viewportMargin);if(i.showingFrom<c&&c-i.showingFrom<20&&(c=i.showingFrom),i.showingTo>h&&i.showingTo-h<20&&(h=Math.min(r.size,i.showingTo)),Ji)for(c=On(dn(r,Dn(r,c)));h<r.size&&hn(Dn(r,h));)++h;for(var f=t===!0?[]:w([{from:i.showingFrom,to:i.showingTo}],t),g=0,a=0;a<f.length;++a){var v=f[a];v.from<c&&(v.from=c),v.to>h&&(v.to=h),v.from>=v.to?f.splice(a--,1):g+=v.to-v.from}if(g!=h-c||c!=i.showingFrom||h!=i.showingTo){f.sort(function(e,t){return e.from-t.from});var b=document.activeElement;.7*(h-c)>g&&(i.lineDiv.style.display="none"),k(e,c,h,f,d),i.lineDiv.style.display="",document.activeElement!=b&&b.offsetHeight&&b.focus();var _=c!=i.showingFrom||h!=i.showingTo||i.lastSizeC!=i.wrapper.clientHeight;_&&(i.lastSizeC=i.wrapper.clientHeight),i.showingFrom=c,i.showingTo=h,M(e,100);for(var x,C=i.lineDiv.offsetTop,T=i.lineDiv.firstChild;T;T=T.nextSibling)if(T.lineObj){if(Ai){var S=T.offsetTop+T.offsetHeight;x=S-C,C=S}else{var E=T.getBoundingClientRect();x=E.bottom-E.top}var $=T.lineObj.height-x;if(2>x&&(x=q(i)),$>.001||-.001>$){zn(T.lineObj,x);var j=T.lineObj.widgets;if(j)for(var a=0;a<j.length;++a)j[a].height=j[a].node.offsetHeight}}return i.viewOffset=Bn(e,Dn(r,c)),i.mover.style.top=i.viewOffset+"px",p(i,r,n).to>=h&&y(e,[],n),!0}}}function w(e,t){for(var n=0,i=t.length||0;i>n;++n){for(var r=t[n],o=[],s=r.diff||0,a=0,l=e.length;l>a;++a){var u=e[a];r.to<=u.from&&r.diff?o.push({from:u.from+s,to:u.to+s}):r.to<=u.from||r.from>=u.to?o.push(u):(r.from>u.from&&o.push({from:u.from,to:r.from}),r.to<u.to&&o.push({from:r.to+s,to:u.to+s}))}e=o}return e}function _(e){for(var t=e.display,n={},i={},r=t.gutters.firstChild,o=0;r;r=r.nextSibling,++o)n[e.options.gutters[o]]=r.offsetLeft,i[e.options.gutters[o]]=r.offsetWidth;return{fixedPos:v(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function k(e,t,n,i,r){function o(t){var n=t.nextSibling;return Ni&&Vi&&e.display.currentWheelTarget==t?(t.style.display="none",t.lineObj=null):t.parentNode.removeChild(t),n}var s=_(e),a=e.display,l=e.options.lineNumbers;i.length||Ni&&e.display.currentWheelTarget||gi(a.lineDiv);var u=a.lineDiv,c=u.firstChild,d=i.shift(),h=t;for(e.view.doc.iter(t,n,function(t){if(d&&d.to==h&&(d=i.shift()),hn(t)){if(0!=t.height&&zn(t,0),t.widgets&&c.previousSibling)for(var n=0;n<t.widgets.length;++n)if(t.widgets[n].showIfHidden){var a=c.previousSibling;
if("pre"==a.nodeType){var p=mi("div",null,null,"position: relative");a.parentNode.replaceChild(p,a),p.appendChild(a),a=p}a.appendChild(C(t.widgets[n],a,s))}}else if(d&&d.from<=h&&d.to>h){for(;c.lineObj!=t;)c=o(c);l&&h>=r&&c.lineNumber&&bi(c.lineNumber,g(e.options,h)),c=c.nextSibling}else{var f=x(e,t,h,s);u.insertBefore(f,c),f.lineObj=t}++h});c;)c=o(c)}function x(e,t,n,i){var r=jn(e,t),o=t.gutterMarkers,s=e.display;if(!(e.options.lineNumbers||o||t.bgClass||t.wrapClass||t.widgets&&t.widgets.length))return r;var a=mi("div",null,t.wrapClass,"position: relative");if(e.options.lineNumbers||o){var l=a.appendChild(mi("div",null,null,"position: absolute; left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px"));if(e.options.fixedGutter&&(a.alignable=[l]),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(a.lineNumber=l.appendChild(mi("div",g(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.lineNumInnerWidth+"px"))),o)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],d=o.hasOwnProperty(c)&&o[c];d&&l.appendChild(mi("div",[d],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}if(t.bgClass&&a.appendChild(mi("div"," ",t.bgClass+" CodeMirror-linebackground")),a.appendChild(r),t.widgets)for(var h=0,p=t.widgets;h<p.length;++h){var f=p[h],m=C(f,a,i);f.above?a.insertBefore(m,e.options.lineNumbers&&0!=t.height?l:r):a.appendChild(m)}return Ai&&(a.style.zIndex=2),a}function C(e,t,n){var i=mi("div",[e.node],"CodeMirror-linewidget");if(i.widget=e,e.noHScroll){(t.alignable||(t.alignable=[])).push(i);var r=n.wrapperWidth;i.style.left=n.fixedPos+"px",e.coverGutter||(r-=n.gutterTotalWidth,i.style.paddingLeft=n.gutterTotalWidth+"px"),i.style.width=r+"px"}return e.coverGutter&&(i.style.zIndex=5,i.style.position="relative",e.noHScroll||(i.style.marginLeft=-n.gutterTotalWidth+"px")),i}function T(e){var t=e.display,n=St(e.view.sel.from,e.view.sel.to);n||e.options.showCursorWhenSelecting?S(e):t.cursor.style.display=t.otherCursor.style.display="none",n?t.selectionDiv.style.display="none":E(e);var i=H(e,e.view.sel.head,"div"),r=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();t.inputDiv.style.top=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+o.top-r.top))+"px",t.inputDiv.style.left=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+o.left-r.left))+"px"}function S(e){var t=e.display,n=H(e,e.view.sel.head,"div");t.cursor.style.left=n.left+"px",t.cursor.style.top=n.top+"px",t.cursor.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",t.cursor.style.display="",n.other?(t.otherCursor.style.display="",t.otherCursor.style.left=n.other.left+"px",t.otherCursor.style.top=n.other.top+"px",t.otherCursor.style.height=.85*(n.other.bottom-n.other.top)+"px"):t.otherCursor.style.display="none"}function E(e){function t(e,t,n,i){0>t&&(t=0),s.appendChild(mi("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?a-e:n)+"px; height: "+(i-t)+"px"))}function n(n,i,o,s){function u(t){return W(e,{line:n,ch:t},"div",c)}var c=Dn(r,n),d=c.text.length,h=s?1/0:-1/0;return _i(Rn(c),i||0,null==o?d:o,function(e,n,r){var c=u("rtl"==r?n-1:e),p=u("rtl"==r?e:n-1),f=c.left,m=p.right;p.top-c.top>3&&(t(f,c.top,null,c.bottom),f=l,c.bottom<p.top&&t(f,c.bottom,null,p.top)),null==o&&n==d&&(m=a),null==i&&0==e&&(f=l),h=s?Math.min(p.top,h):Math.max(p.bottom,h),l+1>f&&(f=l),t(f,p.top,m-f,p.bottom)}),h}var i=e.display,r=e.view.doc,o=e.view.sel,s=document.createDocumentFragment(),a=i.lineSpace.offsetWidth,l=N(e.display);if(o.from.line==o.to.line)n(o.from.line,o.from.ch,o.to.ch);else{for(var u,c,d=Dn(r,o.from.line),h=d,p=[o.from.line,o.from.ch];u=cn(h);){var f=u.find();if(p.push(f.from.ch,f.to.line,f.to.ch),f.to.line==o.to.line){p.push(o.to.ch),c=!0;break}h=Dn(r,f.to.line)}if(c)for(var m=0;m<p.length;m+=3)n(p[m],p[m+1],p[m+2]);else{var g,v,b=Dn(r,o.to.line);g=o.from.ch?n(o.from.line,o.from.ch,null,!1):Bn(e,d)-i.viewOffset,v=o.to.ch?n(o.to.line,un(b)?null:0,o.to.ch,!0):Bn(e,b)-i.viewOffset,v>g&&t(l,g,null,v)}}vi(i.selectionDiv,s),i.selectionDiv.style.display=""}function $(e){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursor.style.visibility=t.otherCursor.style.visibility="",t.blinker=setInterval(function(){t.cursor.offsetHeight&&(t.cursor.style.visibility=t.otherCursor.style.visibility=(n=!n)?"":"hidden")},e.options.cursorBlinkRate)}function M(e,t){e.view.mode.startState&&e.view.frontier<e.display.showingTo&&e.view.highlight.set(t,hi(j,e))}function j(e){var t=e.view,n=t.doc;if(!(t.frontier>=e.display.showingTo)){var i,r=+new Date+e.options.workTime,o=Ut(t.mode,A(e,t.frontier)),s=[];n.iter(t.frontier,Math.min(n.size,e.display.showingTo+500),function(n){if(t.frontier>=e.display.showingFrom){var a=n.styles;n.styles=Sn(e,n,o);for(var l=!a||a.length!=n.styles.length,u=0;!l&&u<a.length;++u)l=a[u]!=n.styles[u];l&&(i&&i.end==t.frontier?i.end++:s.push(i={start:t.frontier,end:t.frontier+1})),n.stateAfter=Ut(t.mode,o)}else $n(e,n,o),n.stateAfter=0==t.frontier%5?Ut(t.mode,o):null;return++t.frontier,+new Date>r?(M(e,e.options.workDelay),!0):void 0}),s.length&&K(e,function(){for(var e=0;e<s.length;++e)Q(this,s[e].start,s[e].end)})()}}function F(e,t){for(var n,i,r=e.view.doc,o=t,s=t-100;o>s;--o){if(0==o)return 0;var a=Dn(r,o-1);if(a.stateAfter)return o;var l=si(a.text,null,e.options.tabSize);(null==i||n>l)&&(i=o-1,n=l)}return i}function A(e,t){var n=e.view;if(!n.mode.startState)return!0;var i=F(e,t),r=i&&Dn(n.doc,i-1).stateAfter;return r=r?Ut(n.mode,r):Gt(n.mode),n.doc.iter(i,t,function(o){$n(e,o,r);var s=i==t-1||0==i%5||i>=n.showingFrom&&i<n.showingTo;o.stateAfter=s?Ut(n.mode,r):null,++i}),r}function L(e){return e.lineSpace.offsetTop}function N(e){var t=vi(e.measure,mi("pre")).appendChild(mi("span","x"));return t.offsetLeft}function P(e,t,n,i){var r=-1;i=i||I(e,t);for(var o=n;;o+=r){var s=i[o];if(s)break;0>r&&0==o&&(r=1)}return{left:n>o?s.right:s.left,right:o>n?s.left:s.right,top:s.top,bottom:s.bottom}}function I(e,t){for(var n=e.display,i=e.display.measureLineCache,r=0;r<i.length;++r){var o=i[r];if(o.text==t.text&&o.markedSpans==t.markedSpans&&n.scroller.clientWidth==o.width)return o.measure}var s=D(e,t),o={text:t.text,width:n.scroller.clientWidth,markedSpans:t.markedSpans,measure:s};return 16==i.length?i[++n.measureLineCachePos%16]=o:i.push(o),s}function D(e,t){var n=e.display,i=di(t.text.length),r=jn(e,t,i);if(Fi&&!Ai&&!e.options.lineWrapping&&r.childNodes.length>100){for(var o=document.createDocumentFragment(),s=10,a=r.childNodes.length,l=0,u=Math.ceil(a/s);u>l;++l){for(var c=mi("div",null,null,"display: inline-block"),d=0;s>d&&a;++d)c.appendChild(r.firstChild),--a;o.appendChild(c)}r.appendChild(o)}vi(n.measure,r);for(var h,p=n.lineDiv.getBoundingClientRect(),f=[],m=di(t.text.length),g=r.offsetHeight,l=0;l<i.length;++l)if(h=i[l]){for(var v=h.getBoundingClientRect(),b=Math.max(0,v.top-p.top),y=Math.min(v.bottom-p.top,g),d=0;d<f.length;d+=2){var w=f[d],_=f[d+1];if(!(w>y||b>_)&&(b>=w&&_>=y||w>=b&&y>=_||Math.min(y,_)-Math.max(b,w)>=y-b>>1)){f[d]=Math.min(b,w),f[d+1]=Math.max(y,_);break}}d==f.length&&f.push(b,y),m[l]={left:v.left-p.left,right:v.right-p.left,top:d}}for(var h,l=0;l<m.length;++l)if(h=m[l]){var k=h.top;h.top=f[k],h.bottom=f[k+1]}return m}function z(e){e.display.measureLineCache.length=e.display.measureLineCachePos=0,e.display.cachedCharWidth=e.display.cachedTextHeight=null,e.view.maxLineChanged=!0}function O(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var o=wn(t.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=Bn(e,t);if("local"!=i&&(s-=e.display.viewOffset),"page"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var l=a.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function W(e,t,n,i){return i||(i=Dn(e.view.doc,t.line)),O(e,i,P(e,i,t.ch),n)}function H(e,t,n,i,r){function o(t,o){var s=P(e,i,t,r);return o?s.left=s.right:s.right=s.left,O(e,i,s,n)}i=i||Dn(e.view.doc,t.line),r||(r=I(e,i));var s=Rn(i),a=t.ch;if(!s)return o(a);for(var l,u,c=s[0].level,d=0;d<s.length;++d){var h,p,f=s[d],m=f.level%2;if(f.from<a&&f.to>a)return o(a,m);var g=m?f.to:f.from,v=m?f.from:f.to;if(g==a)p=d&&f.level<(h=s[d-1]).level?o(h.level%2?h.from:h.to-1,!0):o(m&&f.from!=f.to?a-1:a),m==c?l=p:u=p;else if(v==a){var h=d<s.length-1&&s[d+1];if(!m&&h&&h.from==h.to)continue;p=h&&f.level<h.level?o(h.level%2?h.to-1:h.from):o(m?a:a-1,!0),m==c?l=p:u=p}}return c&&!a&&(u=o(s[0].to-1)),l?(u&&(l.other=u),l):u}function B(e,t,n){var i=e.view.doc;if(n+=e.display.viewOffset,0>n)return{line:0,ch:0,outside:!0};var r=Hn(i,n);if(r>=i.size)return{line:i.size-1,ch:Dn(i,i.size-1).text.length};for(0>t&&(t=0);;){var o=Dn(i,r),s=R(e,o,r,t,n),a=cn(o),l=a&&a.find();if(!(a&&s.ch>=l.from.ch))return s;r=l.to.line}}function R(e,t,n,i,r){function o(i){var r=H(e,{line:n,ch:i},"line",t,u);return a=!0,s>r.bottom?Math.max(0,r.left-l):s<r.top?r.left+l:(a=!1,r.left)}var s=r-Bn(e,t),a=!1,l=e.display.wrapper.clientWidth,u=I(e,t),c=Rn(t),d=t.text.length,h=Ci(t),p=Ti(t),f=N(e.display),m=o(p);if(i>m)return{line:n,ch:p,outside:a};for(;;){if(c?p==h||p==$i(t,h,1):1>=p-h){for(var g=m-i>i-f,v=g?h:p;_r.test(t.text.charAt(v));)++v;return{line:n,ch:v,after:g,outside:a}}var b=Math.ceil(d/2),y=h+b;if(c){y=h;for(var w=0;b>w;++w)y=$i(t,y,1)}var _=o(y);_>i?(p=y,m=_,a&&(m+=1e3),d-=b):(h=y,f=_,d=b)}}function q(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ki){Ki=mi("pre");for(var t=0;49>t;++t)Ki.appendChild(document.createTextNode("x")),Ki.appendChild(mi("br"));Ki.appendChild(document.createTextNode("x"))}vi(e.measure,Ki);var n=Ki.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),gi(e.measure),n||1}function V(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=mi("span","x"),n=mi("pre",[t]);vi(e.measure,n);var i=t.offsetWidth;return i>2&&(e.cachedCharWidth=i),i||10}function U(e){e.curOp?++e.curOp.depth:e.curOp={depth:1,changes:[],delayedCallbacks:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,updateMaxLine:!1,id:++e.nextOpId}}function G(e){var t=e.curOp;if(!--t.depth){e.curOp=null;var n=e.view,i=e.display;if(t.updateMaxLine&&c(n),n.maxLineChanged&&!e.options.lineWrapping){var r=P(e,n.maxLine,n.maxLine.text.length).right;i.sizer.style.minWidth=r+3+vr+"px",n.maxLineChanged=!1;var o=Math.max(0,i.sizer.offsetLeft+i.sizer.offsetWidth-i.scroller.clientWidth);o<n.scrollLeft&&ct(e,Math.min(i.scroller.scrollLeft,o),!0)}var s,a;if(t.selectionChanged){var l=H(e,n.sel.head);s=Ot(e,l.left,l.top,l.left,l.bottom)}(t.changes.length||s&&null!=s.scrollTop)&&(a=b(e,t.changes,s&&s.scrollTop)),!a&&t.selectionChanged&&T(e),s&&It(e),t.selectionChanged&&$(e),n.focused&&t.updateInput&&J(e,t.userSelChange),t.textChanged&&ni(e,"change",e,t.textChanged),t.selectionChanged&&ni(e,"cursorActivity",e);for(var u=0;u<t.delayedCallbacks.length;++u)t.delayedCallbacks[u](e)}}function K(e,t){return function(){var n=e||this;U(n);try{var i=t.apply(n,arguments)}finally{G(n)}return i}}function Q(e,t,n,i){e.curOp.changes.push({from:t,to:n,diff:i})}function X(e){e.view.pollingFast||e.display.poll.set(e.options.pollInterval,function(){Z(e),e.view.focused&&X(e)})}function Y(e){function t(){var i=Z(e);i||n?(e.display.pollingFast=!1,X(e)):(n=!0,e.display.poll.set(60,t))}var n=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function Z(e){var t=e.display.input,n=e.display.prevInput,i=e.view,r=i.sel;if(!i.focused||Er(t)||tt(e))return!1;var o=t.value;if(o==n&&St(r.from,r.to))return!1;U(e),i.sel.shift=!1;for(var s=0,a=Math.min(n.length,o.length);a>s&&n[s]==o[s];)++s;var l=r.from,u=r.to;s<n.length?l={line:l.line,ch:l.ch-(n.length-s)}:i.overwrite&&St(l,u)&&!e.display.pasteIncoming&&(u={line:u.line,ch:Math.min(Dn(e.view.doc,u.line).text.length,u.ch+(o.length-s))});var c=e.curOp.updateInput;return _t(e,l,u,Sr(o.slice(s)),"end",e.display.pasteIncoming?"paste":"input",{from:l,to:u}),e.curOp.updateInput=c,o.length>1e3?t.value=e.display.prevInput="":e.display.prevInput=o,G(e),e.display.pasteIncoming=!1,!0}function J(e,t){var n,i,r=e.view;St(r.sel.from,r.sel.to)?t&&(e.display.prevInput=e.display.input.value=""):(e.display.prevInput="",n=$r&&(r.sel.to.line-r.sel.from.line>100||(i=e.getSelection()).length>1e3),e.display.input.value=n?"-":i||e.getSelection(),r.focused&&ui(e.display.input)),e.display.inaccurateSelection=n}function et(e){"nocursor"==e.options.readOnly||!Fi&&document.activeElement==e.display.input||e.display.input.focus()}function tt(e){return e.options.readOnly||e.view.cantEdit}function nt(e){function t(){e.view.focused&&setTimeout(hi(et,e),0)}function n(){o.cachedCharWidth=o.cachedTextHeight=null,z(e),b(e,!0)}function i(t){e.options.onDragEvent&&e.options.onDragEvent(e,Gn(t))||Xn(t)}function r(){o.inaccurateSelection&&(o.prevInput="",o.inaccurateSelection=!1,o.input.value=e.getSelection(),ui(o.input))}var o=e.display;ei(o.scroller,"mousedown",K(e,ot)),ei(o.scroller,"dblclick",K(e,Kn)),ei(o.lineSpace,"selectstart",function(e){it(o,e)||Kn(e)}),ji||ei(o.scroller,"contextmenu",function(t){wt(e,t)}),ei(o.scroller,"scroll",function(){ut(e,o.scroller.scrollTop),ct(e,o.scroller.scrollLeft,!0),ni(e,"scroll",e)}),ei(o.scrollbarV,"scroll",function(){ut(e,o.scrollbarV.scrollTop)}),ei(o.scrollbarH,"scroll",function(){ct(e,o.scrollbarH.scrollLeft)}),ei(o.scroller,"mousewheel",function(t){dt(e,t)}),ei(o.scroller,"DOMMouseScroll",function(t){dt(e,t)}),ei(o.scrollbarH,"mousedown",t),ei(o.scrollbarV,"mousedown",t),ei(o.wrapper,"scroll",function(){o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),window.registered||(window.registered=0),++window.registered,ei(window,"resize",n),setTimeout(function s(){for(var e=o.wrapper.parentNode;e&&e!=document.body;e=e.parentNode);e?setTimeout(s,5e3):(--window.registered,ti(window,"resize",n))},5e3),ei(o.input,"keyup",K(e,function(t){e.options.onKeyEvent&&e.options.onKeyEvent(e,Gn(t))||16==Jn(t,"keyCode")&&(e.view.sel.shift=!1)})),ei(o.input,"input",hi(Y,e)),ei(o.input,"keydown",K(e,gt)),ei(o.input,"keypress",K(e,vt)),ei(o.input,"focus",hi(bt,e)),ei(o.input,"blur",hi(yt,e)),e.options.dragDrop&&(ei(o.scroller,"dragstart",function(t){lt(e,t)}),ei(o.scroller,"dragenter",i),ei(o.scroller,"dragover",i),ei(o.scroller,"drop",K(e,st))),ei(o.scroller,"paste",function(t){it(o,t)||(et(e),Y(e))}),ei(o.input,"paste",function(){o.pasteIncoming=!0,Y(e)}),ei(o.input,"cut",r),ei(o.input,"copy",r),Oi&&ei(o.sizer,"mouseup",function(){document.activeElement==o.input&&o.input.blur(),et(e)})}function it(e,t){for(var n=Yn(t);n!=e.wrapper;n=n.parentNode){if(!n)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(n.className)||n.parentNode==e.sizer&&n!=e.mover)return!0}}function rt(e,t,n){var i=e.display;if(!n){var r=Yn(t);if(r==i.scrollbarH||r==i.scrollbarH.firstChild||r==i.scrollbarV||r==i.scrollbarV.firstChild||r==i.scrollbarFiller)return null}var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX,s=t.clientY}catch(t){return null}return B(e,o-a.left,s-a.top)}function ot(e){function t(e){if("single"==d)return At(r,jt(l,u),e),void 0;if(g=jt(l,g),v=jt(l,v),"double"==d){var t=Rt(Dn(l,e.line).text,e);Et(e,g)?At(r,t.from,v):At(r,g,t.to)}else"triple"==d&&(Et(e,g)?At(r,v,jt(l,{line:e.line,ch:0})):At(r,g,jt(l,{line:e.line+1,ch:0})))}function n(e){var i=++y,a=rt(r,e,!0);if(a)if(St(a,f)){var u=e.clientY<b.top?-20:e.clientY>b.bottom?20:0;u&&setTimeout(K(r,function(){y==i&&(o.scroller.scrollTop+=u,n(e))}),50)}else{s.focused||bt(r),f=a,t(a);var c=p(o,l);(a.line>=c.to||a.line<c.from)&&setTimeout(K(r,function(){y==i&&n(e)}),150)}}function i(e){y=1/0;var n=rt(r,e);n&&t(n),Kn(e),et(r),ti(document,"mousemove",w),ti(document,"mouseup",_)}var r=this,o=r.display,s=r.view,a=s.sel,l=s.doc;if(a.shift=Jn(e,"shiftKey"),it(o,e))return Ni||(o.scroller.draggable=!1,setTimeout(function(){o.scroller.draggable=!0},100)),void 0;if(!at(r,e)){var u=rt(r,e);switch(Zn(e)){case 3:return ji&&wt.call(r,r,e),void 0;case 2:return u&&At(r,u),setTimeout(hi(et,r),20),Kn(e),void 0}if(!u)return Yn(e)==o.scroller&&Kn(e),void 0;s.focused||bt(r);var c=+new Date,d="single";if(Xi&&Xi.time>c-400&&St(Xi.pos,u))d="triple",Kn(e),setTimeout(hi(et,r),20),qt(r,u.line);else if(Qi&&Qi.time>c-400&&St(Qi.pos,u)){d="double",Xi={time:c,pos:u},Kn(e);var h=Rt(Dn(l,u.line).text,u);At(r,h.from,h.to)}else Qi={time:c,pos:u};var f=u;if(r.options.dragDrop&&kr&&!tt(r)&&!St(a.from,a.to)&&!Et(u,a.from)&&!Et(a.to,u)&&"single"==d){var m=K(r,function(t){Ni&&(o.scroller.draggable=!1),s.draggingText=!1,ti(document,"mouseup",m),ti(o.scroller,"drop",m),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(Kn(t),At(r,u),et(r))});return Ni&&(o.scroller.draggable=!0),s.draggingText=m,o.scroller.dragDrop&&o.scroller.dragDrop(),ei(document,"mouseup",m),ei(o.scroller,"drop",m),void 0}Kn(e),"single"==d&&At(r,jt(l,u));var g=a.from,v=a.to,b=o.wrapper.getBoundingClientRect(),y=0,w=K(r,function(e){Fi||Zn(e)?n(e):i(e)}),_=K(r,i);ei(document,"mousemove",w),ei(document,"mouseup",_)}}function st(e){var t=this;if(!(it(t.display,e)||t.options.onDragEvent&&t.options.onDragEvent(t,Gn(e)))){Kn(e);var n=rt(t,e,!0),i=e.dataTransfer.files;if(n&&!tt(t))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(e,i){var a=new FileReader;a.onload=function(){o[i]=a.result,++s==r&&(n=jt(t.view.doc,n),K(t,function(){var e=Tt(t,o.join(""),n,n,"paste");Lt(t,n,e)})())},a.readAsText(e)},l=0;r>l;++l)a(i[l],l);else{if(t.view.draggingText&&!Et(n,t.view.sel.from)&&!Et(t.view.sel.to,n))return t.view.draggingText(e),setTimeout(hi(et,t),20),void 0;try{var o=e.dataTransfer.getData("Text");if(o){var u=t.view.sel.from,c=t.view.sel.to;Lt(t,n,n),t.view.draggingText&&Tt(t,"",u,c,"paste"),t.replaceSelection(o,null,"paste"),et(t),bt(t)}}catch(e){}}}}function at(e,t){var n=e.display;try{var i=t.clientX,r=t.clientY}catch(t){return!1}if(i>=Math.floor(n.gutters.getBoundingClientRect().right))return!1;if(Kn(t),!ri(e,"gutterClick"))return!0;var o=n.lineDiv.getBoundingClientRect();if(r>o.bottom)return!0;r-=o.top-n.viewOffset;for(var s=0;s<e.options.gutters.length;++s){var a=n.gutters.childNodes[s];if(a&&a.getBoundingClientRect().right>=i){var l=Hn(e.view.doc,r),u=e.options.gutters[s];ii(e,e,"gutterClick",e,l,u,t);break}}return!0}function lt(e,t){if(!it(e.display,t)){var n=e.getSelection();if(t.dataTransfer.setData("Text",n),t.dataTransfer.setDragImage&&!zi){var i=mi("img",null,null,"position: fixed; left: 0; top: 0;");Di&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),Di&&i.parentNode.removeChild(i)}}}function ut(e,t){Math.abs(e.view.scrollTop-t)<2||(e.view.scrollTop=t,ji||b(e,[],t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),ji&&b(e,[]))}function ct(e,t,n){(n?t==e.view.scrollLeft:Math.abs(e.view.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.view.scrollLeft=t,f(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function dt(e,t){var n=t.wheelDeltaX,i=t.wheelDeltaY;if(null==n&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(n=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta),i&&Vi&&Ni)for(var r=t.target;r!=s;r=r.parentNode)if(r.lineObj){e.display.currentWheelTarget=r;break}var o=e.display,s=o.scroller;if(n&&!ji&&!Di&&null!=tr)return i&&ut(e,Math.max(0,Math.min(s.scrollTop+i*tr,s.scrollHeight-s.clientHeight))),ct(e,Math.max(0,Math.min(s.scrollLeft+n*tr,s.scrollWidth-s.clientWidth))),Kn(t),o.wheelStartX=null,void 0;if(i&&null!=tr){var a=i*tr,l=e.view.scrollTop,u=l+o.wrapper.clientHeight;0>a?l=Math.max(0,l+a-50):u=Math.min(e.view.doc.height,u+a+50),b(e,[],{top:l,bottom:u})}20>er&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(tr=(tr*er+n)/(er+1),++er)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}function ht(e,t,n){if("string"==typeof t&&(t=hr[t],!t))return!1;e.display.pollingFast&&Z(e)&&(e.display.pollingFast=!1);var i=e.view,r=i.sel.shift;try{tt(e)&&(i.suppressEdits=!0),n&&(i.sel.shift=!1),t(e)}catch(o){if(o!=br)throw o;return!1}finally{i.sel.shift=r,i.suppressEdits=!1}return!0}function pt(e){var t=e.view.keyMaps.slice(0);return t.push(e.options.keyMap),e.options.extraKeys&&t.unshift(e.options.extraKeys),t}function ft(e,t){function n(){a=!0}var i=Kt(e.options.keyMap),r=i.auto;clearTimeout(nr),r&&!Xt(t)&&(nr=setTimeout(function(){Kt(e.options.keyMap)==i&&(e.options.keyMap=r.call?r.call(null,e):r)},50));var o=Mr[Jn(t,"keyCode")],s=!1;if(null==o||t.altGraphKey)return!1;Jn(t,"altKey")&&(o="Alt-"+o),Jn(t,Yi?"metaKey":"ctrlKey")&&(o="Ctrl-"+o),Jn(t,Yi?"ctrlKey":"metaKey")&&(o="Cmd-"+o);var a=!1,l=pt(e);return s=Jn(t,"shiftKey")?Qt("Shift-"+o,l,function(t){return ht(e,t,!0)},n)||Qt(o,l,function(t){return"string"==typeof t&&/^go[A-Z]/.test(t)?ht(e,t):void 0},n):Qt(o,l,function(t){return ht(e,t)},n),a&&(s=!1),s&&(Kn(t),$(e),Li&&(t.oldKeyCode=t.keyCode,t.keyCode=0)),s}function mt(e,t,n){var i=Qt("'"+n+"'",pt(e),function(t){return ht(e,t,!0)});return i&&(Kn(t),$(e)),i}function gt(e){var t=this;if(t.view.focused||bt(t),Fi&&27==e.keyCode&&(e.returnValue=!1),!t.options.onKeyEvent||!t.options.onKeyEvent(t,Gn(e))){var n=Jn(e,"keyCode");t.view.sel.shift=16==n||Jn(e,"shiftKey");var i=ft(t,e);Di&&(rr=i?n:null,i||88!=n||$r||!Jn(e,Vi?"metaKey":"ctrlKey")||t.replaceSelection(""))}}function vt(e){var t=this;if(!t.options.onKeyEvent||!t.options.onKeyEvent(t,Gn(e))){var n=Jn(e,"keyCode"),i=Jn(e,"charCode");if(Di&&n==rr)return rr=null,Kn(e),void 0;if(!(Di&&(!e.which||e.which<10)||Oi)||!ft(t,e)){var r=String.fromCharCode(null==i?n:i);this.options.electricChars&&this.view.mode.electricChars&&this.options.smartIndent&&!tt(this)&&this.view.mode.electricChars.indexOf(r)>-1&&setTimeout(K(t,function(){Wt(t,t.view.sel.to.line,"smart")}),75),mt(t,e,r)||Y(t)}}}function bt(e){"nocursor"!=e.options.readOnly&&(e.view.focused||(ni(e,"focus",e),e.view.focused=!0,-1==e.display.scroller.className.search(/\bCodeMirror-focused\b/)&&(e.display.scroller.className+=" CodeMirror-focused"),J(e,!0)),X(e),$(e))}function yt(e){e.view.focused&&(ni(e,"blur",e),e.view.focused=!1,e.display.scroller.className=e.display.scroller.className.replace(" CodeMirror-focused","")),clearInterval(e.display.blinker),setTimeout(function(){e.view.focused||(e.view.sel.shift=!1)},150)}function wt(e,t){function n(){if(i.inputDiv.style.position="relative",i.input.style.cssText=a,Li&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=s),X(e),null!=i.input.selectionStart){clearTimeout(ir);var t=i.input.value=" "+(St(r.from,r.to)?"":i.input.value),n=0;i.prevInput=" ",i.input.selectionStart=1,i.input.selectionEnd=t.length,ir=setTimeout(function o(){" "==i.prevInput&&0==i.input.selectionStart?K(e,hr.selectAll)(e):n++<10?ir=setTimeout(o,500):J(e)},200)}}var i=e.display;if(!it(i,t)){var r=e.view.sel,o=rt(e,t),s=i.scroller.scrollTop;if(o&&!Di){(St(r.from,r.to)||Et(o,r.from)||!Et(o,r.to))&&K(e,Lt)(e,o,o);var a=i.input.style.cssText;i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; outline: none;"+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",et(e),J(e,!0),St(r.from,r.to)&&(i.input.value=i.prevInput=" "),ji?(Xn(t),ei(window,"mouseup",function l(){ti(window,"mouseup",l),setTimeout(n,20)})):setTimeout(n,50)}}}function _t(e,t,n,i,r,o){var s=Zi&&an(e.view.doc,t,n);if(!s)return kt(e,t,n,i,r,o);for(var a=s.length-1;a>=1;--a)kt(e,s[a].from,s[a].to,[""],o);return s.length?kt(e,s[0].from,s[0].to,i,r,o):void 0}function kt(e,t,n,i,r,o){if(!e.view.suppressEdits){var s=e.view,a=s.doc,l=[];a.iter(t.line,n.line+1,function(e){l.push(gn(e.text,e.markedSpans))});var u=s.sel.from,c=s.sel.to,d=sn(mn(l[0]),mn(li(l)),t.ch,n.ch,i),h=Ct(e,t,n,d,r,o);return s.history&&Vn(e,t.line,i.length,l,o,u,c,s.sel.from,s.sel.to),h}}function xt(e,t){var n=e.view.doc,i=e.view.history,r=("undo"==t?i.done:i.undone).pop();if(r){for(var o={events:[],fromBefore:r.fromAfter,toBefore:r.toAfter,fromAfter:r.fromBefore,toAfter:r.toBefore},s=r.events.length-1;s>=0;s-=1){i.dirtyCounter+="undo"==t?-1:1;var a=r.events[s],l=[],u=a.start+a.added;n.iter(a.start,u,function(e){l.push(gn(e.text,e.markedSpans))}),o.events.push({start:a.start,added:a.old.length,old:l});var c=s?null:{from:r.fromBefore,to:r.toBefore};Ct(e,{line:a.start,ch:0},{line:u-1,ch:Dn(n,u-1).text.length},a.old,c,t)}("undo"==t?i.undone:i.done).push(o)}}function Ct(e,t,n,i,r,o){var s=e.view,a=s.doc,l=e.display;if(!s.suppressEdits){var c=n.line-t.line,d=Dn(a,t.line),h=Dn(a,n.line),p=!1,f=t.line;e.options.lineWrapping||(f=On(dn(a,d)),a.iter(f,n.line+1,function(e){return e==s.maxLine?(p=!0,!0):void 0}));var m=li(i),g=q(l);if(0==t.ch&&0==n.ch&&""==fn(m)){for(var v=[],b=0,y=i.length-1;y>b;++b)v.push(kn(fn(i[b]),mn(i[b]),g));xn(e,h,h.text,mn(m)),c&&a.remove(t.line,c,e),v.length&&a.insert(t.line,v)}else if(d==h)if(1==i.length)xn(e,d,d.text.slice(0,t.ch)+fn(i[0])+d.text.slice(n.ch),mn(i[0]));else{for(var v=[],b=1,y=i.length-1;y>b;++b)v.push(kn(fn(i[b]),mn(i[b]),g));v.push(kn(fn(m)+d.text.slice(n.ch),mn(m),g)),xn(e,d,d.text.slice(0,t.ch)+fn(i[0]),mn(i[0])),a.insert(t.line+1,v)}else if(1==i.length)xn(e,d,d.text.slice(0,t.ch)+fn(i[0])+h.text.slice(n.ch),mn(i[0])),a.remove(t.line+1,c,e);else{var v=[];xn(e,d,d.text.slice(0,t.ch)+fn(i[0]),mn(i[0])),xn(e,h,fn(m)+h.text.slice(n.ch),mn(m));for(var b=1,y=i.length-1;y>b;++b)v.push(kn(fn(i[b]),mn(i[b]),g));c>1&&a.remove(t.line+1,c-1,e),a.insert(t.line+1,v)}if(e.options.lineWrapping){var w=Math.max(5,l.scroller.clientWidth/V(l)-3);a.iter(t.line,t.line+i.length,function(e){if(0!=e.height){var t=(Math.ceil(e.text.length/w)||1)*g;t!=e.height&&zn(e,t)}})}else a.iter(f,t.line+i.length,function(e){var t=u(a,e);t>s.maxLineLength&&(s.maxLine=e,s.maxLineLength=t,s.maxLineChanged=!0,p=!1)}),p&&(e.curOp.updateMaxLine=!0);s.frontier=Math.min(s.frontier,t.line),M(e,400);var _=i.length-c-1;if(Q(e,t.line,n.line+1,_),ri(e,"change")){for(var b=0;b<i.length;++b)"string"!=typeof i[b]&&(i[b]=i[b].text);var k={from:t,to:n,text:i,origin:o};if(e.curOp.textChanged){for(var x=e.curOp.textChanged;x.next;x=x.next);x.next=k}else e.curOp.textChanged=k}var C,T,S={line:t.line+i.length-1,ch:fn(m).length+(1==i.length?t.ch:0)};if(r&&"string"!=typeof r)r.from?(C=r.from,T=r.to):C=T=r;else if("end"==r)C=T=S;else if("start"==r)C=T=t;else if("around"==r)C=t,T=S;else{var E=function(e){if(Et(e,t))return e;if(!Et(n,e))return S;var i=e.line+_,r=e.ch;return e.line==n.line&&(r+=fn(m).length-(n.ch-(n.line==t.line?t.ch:0))),{line:i,ch:r}};C=E(s.sel.from),T=E(s.sel.to)}return Lt(e,C,T,null,!0),S}}function Tt(e,t,n,i,r){if(i||(i=n),Et(i,n)){var o=i;i=n,n=o}return _t(e,n,i,Sr(t),null,r)}function St(e,t){return e.line==t.line&&e.ch==t.ch}function Et(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function $t(e){return{line:e.line,ch:e.ch}}function Mt(e,t){return Math.max(0,Math.min(t,e.size-1))}function jt(e,t){if(t.line<0)return{line:0,ch:0};if(t.line>=e.size)return{line:e.size-1,ch:Dn(e,e.size-1).text.length};var n=t.ch,i=Dn(e,t.line).text.length;return null==n||n>i?{line:t.line,ch:i}:0>n?{line:t.line,ch:0}:t}function Ft(e,t){return t>=0&&t<e.size}function At(e,t,n,i){var r=e.view.sel;if(r.shift||r.extend){var o=r.anchor;if(n){var s=Et(t,o);s!=Et(n,o)?(o=t,t=n):s!=Et(t,n)&&(t=n)}Lt(e,o,t,i)}else Lt(e,t,n||t,i);e.curOp.userSelChange=!0}function Lt(e,t,n,i,r){e.view.goalColumn=null;var o=e.view.sel;if((r||!St(t,o.anchor))&&(t=Pt(e,t,i,"push"!=r)),(r||!St(n,o.head))&&(n=Pt(e,n,i,"push"!=r)),!St(o.anchor,t)||!St(o.head,n)){o.anchor=t,o.head=n;var s=Et(n,t);o.from=s?n:t,o.to=s?t:n,e.curOp.updateInput=!0,e.curOp.selectionChanged=!0}}function Nt(e){Lt(e,e.view.sel.from,e.view.sel.to,null,"push")}function Pt(e,t,n,i){var r=e.view.doc,o=!1,s=t,a=n||1;e.view.cantEdit=!1;e:for(;;){var l,u=Dn(r,s.line);if(u.markedSpans){for(var c=0;c<u.markedSpans.length;++c){var d=u.markedSpans[c],h=d.marker;if((null==d.from||(h.inclusiveLeft?d.from<=s.ch:d.from<s.ch))&&(null==d.to||(h.inclusiveRight?d.to>=s.ch:d.to>s.ch))){if(i&&h.clearOnEnter){(l||(l=[])).push(h);continue}if(!h.atomic)continue;var p=h.find()[0>a?"from":"to"];if(St(p,s)&&(p.ch+=a,p.ch<0?p=p.line?jt(r,{line:p.line-1}):null:p.ch>u.text.length&&(p=p.line<r.size-1?{line:p.line+1,ch:0}:null),!p)){if(o)return i?(e.view.cantEdit=!0,{line:0,ch:0}):Pt(e,t,n,!0);o=!0,p=t,a=-a}s=p;continue e}}if(l)for(var c=0;c<l.length;++c)l[c].clear()}return s}}function It(e){var t=e.view,n=Dt(e,t.sel.head);if(t.focused){var i=e.display,r=i.sizer.getBoundingClientRect(),o=null;if(n.top+r.top<0?o=!0:n.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Bi){var s="none"==i.cursor.style.display;s&&(i.cursor.style.display="",i.cursor.style.left=n.left+"px",i.cursor.style.top=n.top-i.viewOffset+"px"),i.cursor.scrollIntoView(o),s&&(i.cursor.style.display="none")}}}function Dt(e,t){for(;;){var n=!1,i=H(e,t),r=Ot(e,i.left,i.top,i.left,i.bottom),o=e.view.scrollTop,s=e.view.scrollLeft;if(null!=r.scrollTop&&(ut(e,r.scrollTop),Math.abs(e.view.scrollTop-o)>1&&(n=!0)),null!=r.scrollLeft&&(ct(e,r.scrollLeft),Math.abs(e.view.scrollLeft-s)>1&&(n=!0)),!n)return i}}function zt(e,t,n,i,r){var o=Ot(e,t,n,i,r);null!=o.scrollTop&&ut(e,o.scrollTop),null!=o.scrollLeft&&ct(e,o.scrollLeft)}function Ot(e,t,n,i,r){var o=e.display,s=L(o);n+=s,r+=s;var a=o.scroller.clientHeight-vr,l=o.scroller.scrollTop,u={},c=e.view.doc.height+2*s,d=s+10>n,h=r+s>c-10;l>n?u.scrollTop=d?0:Math.max(0,n):r>l+a&&(u.scrollTop=(h?c:r)-a);var p=o.scroller.clientWidth-vr,f=o.scroller.scrollLeft;t+=o.gutters.offsetWidth,i+=o.gutters.offsetWidth;var m=o.gutters.offsetWidth,g=m+10>t;return f+m>t||g?(g&&(t=0),u.scrollLeft=Math.max(0,t-10-m)):i>p+f-3&&(u.scrollLeft=i+10-p),u}function Wt(e,t,n,i){var r=e.view.doc;if(n||(n="add"),"smart"==n)if(e.view.mode.indent)var o=A(e,t);else n="prev";var s,a=e.options.tabSize,l=Dn(r,t),u=si(l.text,null,a),c=l.text.match(/^\s*/)[0];if("smart"==n&&(s=e.view.mode.indent(o,l.text.slice(c.length),l.text),s==br)){if(!i)return;n="prev"}"prev"==n?s=t?si(Dn(r,t-1).text,null,a):0:"add"==n?s=u+e.options.indentUnit:"subtract"==n&&(s=u-e.options.indentUnit),s=Math.max(0,s);var d="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(s/a);p;--p)h+=a,d+="	";s>h&&(d+=ai(s-h)),d!=c&&Tt(e,d,{line:t,ch:0},{line:t,ch:c.length},"input"),l.stateAfter=null}function Ht(e,t,n){var i=t,r=t,o=e.view.doc;return"number"==typeof t?r=Dn(o,Mt(o,t)):i=On(t),null==i?null:n(r,i)?(Q(e,i,i+1),r):null}function Bt(e,t,n,i){function r(){var e=l+t;return 0>e||e==s.size?!1:(l=e,c=Dn(s,e))}function o(e){var n=(i?$i:Mi)(c,u,t,!0);if(null==n){if(e||!r())return!1;u=i?(0>t?Ti:Ci)(c):0>t?c.text.length:0}else u=n;return!0}var s=e.view.doc,a=e.view.sel.head,l=a.line,u=a.ch,c=Dn(s,l);if("char"==n)o();else if("column"==n)o(!0);else if("word"==n)for(var d=!1;!(0>t)||o();){if(pi(c.text.charAt(u)))d=!0;else if(d){0>t&&(t=1,o());break}if(t>0&&!o())break}return Pt(e,{line:l,ch:u},t,!0)}function Rt(e,t){var n=t.ch,i=t.ch;if(e){t.after===!1||i==e.length?--n:++i;for(var r=e.charAt(n),o=pi(r)?pi:/\s/.test(r)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!pi(e)};n>0&&o(e.charAt(n-1));)--n;for(;i<e.length&&o(e.charAt(i));)++i}return{from:{line:t.line,ch:n},to:{line:t.line,ch:i}}}function qt(e,t){At(e,{line:t,ch:0},jt(e.view.doc,{line:t+1,ch:0}))}function Vt(t,n,i,r){e.defaults[t]=n,i&&(or[t]=r?function(e,t,n){n!=ar&&i(e,t,n)}:i)}function Ut(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function Gt(e,t,n){return e.startState?e.startState(t,n):!0}function Kt(e){return"string"==typeof e?pr[e]:e}function Qt(e,t,n,i){function r(t){t=Kt(t);var o=t[e];if(o===!1)return i&&i(),!0;if(null!=o&&n(o))return!0;if(t.nofallthrough)return i&&i(),!0;var s=t.fallthrough;if(null==s)return!1;if("[object Array]"!=Object.prototype.toString.call(s))return r(s);for(var a=0,l=s.length;l>a;++a)if(r(s[a]))return!0;return!1}for(var o=0;o<t.length;++o)if(r(t[o]))return!0}function Xt(e){var t=Mr[Jn(e,"keyCode")];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Yt(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8
}function Zt(e,t){this.lines=[],this.type=t,this.cm=e}function Jt(e,t,n,i,r){var o=e.view.doc,s=new Zt(e,r);if("range"==r&&!Et(t,n))return s;if(i)for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a]);s.replacedWith&&(s.collapsed=!0,s.replacedWith=mi("span",[s.replacedWith],"CodeMirror-widget")),s.collapsed&&(Ji=!0);var l,u,c=t.line,d=0;if(o.iter(c,n.line+1,function(i){s.collapsed&&!e.options.lineWrapping&&dn(o,i)==e.view.maxLine&&(e.curOp.updateMaxLine=!0);var r={from:null,to:null,marker:s};d+=i.text.length,c==t.line&&(r.from=t.ch,d-=t.ch),c==n.line&&(r.to=n.ch,d-=i.text.length-n.ch),s.collapsed&&(c==n.line&&(u=ln(i,n.ch)),c==t.line?l=ln(i,t.ch):zn(i,0)),nn(i,r),++c}),s.collapsed&&o.iter(t.line,n.line+1,function(e){hn(e)&&zn(e,0)}),s.readOnly&&(Zi=!0,(e.view.history.done.length||e.view.history.undone.length)&&e.clearHistory()),s.collapsed){if(l!=u)throw new Error("Inserting collapsed marker overlapping an existing one");s.size=d,s.atomic=!0}return(s.className||s.startStyle||s.endStyle||s.collapsed)&&Q(e,t.line,n.line+1),s.atomic&&Nt(e),s}function en(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function tn(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function nn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.lines.push(e)}function rn(e,t){if(e)for(var n,i=0;i<e.length;++i){var r=e[i],o=r.marker,s=null==r.from||(o.inclusiveLeft?r.from<=t:r.from<t);if(s||"bookmark"==o.type&&r.from==t){var a=null==r.to||(o.inclusiveRight?r.to>=t:r.to>t);(n||(n=[])).push({from:r.from,to:a?null:r.to,marker:o})}}return n}function on(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=n:o.to>n);if(a||"bookmark"==s.type&&o.from==n&&o.from!=t){var l=null==o.from||(s.inclusiveLeft?o.from<=n:o.from<n);(i||(i=[])).push({from:l?null:o.from-n,to:null==o.to?null:o.to-n,marker:s})}}return i}function sn(e,t,n,i,r){if(!e&&!t)return r;var o=rn(e,n),s=on(t,n,i),a=1==r.length,l=li(r).length+(a?n:0);if(o)for(var u=0;u<o.length;++u){var c=o[u];if(null==c.to){var d=en(s,c.marker);d?a&&(c.to=null==d.to?null:d.to+l):c.to=n}}if(s)for(var u=0;u<s.length;++u){var c=s[u];if(null!=c.to&&(c.to+=l),null==c.from){var d=en(o,c.marker);d||(c.from=l,a&&(o||(o=[])).push(c))}else c.from+=l,a&&(o||(o=[])).push(c)}var h=[gn(r[0],o)];if(!a){var p,f=r.length-2;if(f>0&&o)for(var u=0;u<o.length;++u)null==o[u].to&&(p||(p=[])).push({from:null,to:null,marker:o[u].marker});for(var u=0;f>u;++u)h.push(gn(r[u+1],p));h.push(gn(li(r),s))}return h}function an(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=ci(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var s=i[o].find(),a=0;a<r.length;++a){var l=r[a];if(Et(s.from,l.to)&&!Et(s.to,l.from)){var u=[a,1];Et(l.from,s.from)&&u.push({from:l.from,to:s.from}),Et(s.to,l.to)&&u.push({from:s.to,to:l.to}),r.splice.apply(r,u),a+=u.length-1}}return r}function ln(e,t){var n,i=Ji&&e.markedSpans;if(i)for(var r,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&(null==r.from||r.from<t)&&(null==r.to||r.to>t)&&(!n||n.width<r.marker.width)&&(n=r.marker);return n}function un(e){return ln(e,-1)}function cn(e){return ln(e,e.text.length+1)}function dn(e,t){for(var n;n=un(t);)t=Dn(e,n.find().from.line);return t}function hn(e){var t=Ji&&e.markedSpans;if(t)for(var n,i=0;i<t.length;++i)if(n=t[i],n.marker.collapsed){if(null==n.from)return!0;if(0==n.from&&n.marker.inclusiveLeft&&pn(e,n))return!0}}function pn(e,t){if(null==t.to){var n=t.marker.find().to,i=Dn(Wn(e),n.line);return pn(i,en(i.markedSpans,t.marker))}if(t.marker.inclusiveRight&&t.to==e.text.length)return!0;for(var r,o=0;o<e.markedSpans.length;++o)if(r=e.markedSpans[o],r.marker.collapsed&&r.from==t.to&&(r.marker.inclusiveLeft||t.marker.inclusiveRight)&&pn(e,r))return!0}function fn(e){return"string"==typeof e?e:e.text}function mn(e){if("string"==typeof e)return null;for(var t=e.markedSpans,n=null,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?n||(n=t.slice(0,i)):n&&n.push(t[i]);return n?n.length?n:null:t}function gn(e,t){return t?{text:e,markedSpans:t}:e}function vn(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n){var i=t[n].marker.lines,r=ci(i,e);i.splice(r,1)}e.markedSpans=null}}function bn(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.lines.push(e);e.markedSpans=t}}function yn(e){return function(){U(this.cm);try{var t=e.apply(this,arguments)}finally{G(this.cm)}return t}}function wn(e){return null!=e.height?e.height:(e.node.parentNode&&1==e.node.parentNode.nodeType||vi(e.cm.display.measure,mi("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function _n(e,t,n,i){var r=new fr(e,n,i);return r.noHScroll&&(e.display.alignWidgets=!0),Ht(e,t,function(t){if((t.widgets||(t.widgets=[])).push(r),r.line=t,!hn(t)||r.showIfHidden){var n=Bn(e,t)<e.display.scroller.scrollTop;zn(t,t.height+wn(r)),n&&setTimeout(function(){e.display.scroller.scrollTop+=r.height})}return!0}),r}function kn(e,t,n){var i={text:e,height:n};return bn(i,t),hn(i)&&(i.height=0),i}function xn(e,t,n,i){t.text=n,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),vn(t),bn(t,i),hn(t)?t.height=0:t.height||(t.height=q(e.display)),ii(e,t,"change")}function Cn(e){e.parent=null,vn(e)}function Tn(e,t,n,i,r){var o=e.options.flattenSpans,s="",a=null,l=new Yt(t,e.options.tabSize);for(""==t&&n.blankLine&&n.blankLine(i);!l.eol();){var u=n.token(l,i);l.pos>5e3&&(o=!1,l.pos=Math.min(t.length,l.start+5e4),u=null);var c=l.current();l.start=l.pos,o&&a==u?s+=c:(s&&r(s,a),s=c,a=u)}s&&r(s,a)}function Sn(e,t,n){var i=[e.view.modeGen];Tn(e,t.text,e.view.mode,n,function(e,t){i.push(e,t)});for(var r=0;r<e.view.overlays.length;++r){var o=e.view.overlays[r],s=1;Tn(e,t.text,o.mode,!0,function(e,t){for(var n=s,r=e.length;r;){var a=i[s],l=a.length;r>=l?r-=l:(i.splice(s,1,a.slice(0,r),i[s+1],a.slice(r)),r=0),s+=2}if(t)if(o.opaque)i.splice(n,s-n,e,t),s=n+2;else for(;s>n;n+=2){var a=i[n+1];i[n+1]=a?a+" "+t:t}})}return i}function En(e,t){return t.styles&&t.styles[0]==e.view.modeGen||(t.styles=Sn(e,t,t.stateAfter=A(e,On(t)))),t.styles}function $n(e,t,n){var i=e.view.mode,r=new Yt(t.text,e.options.tabSize);for(""==t.text&&i.blankLine&&i.blankLine(n);!r.eol()&&r.pos<=5e3;)i.token(r,n),r.start=r.pos}function Mn(e){return e?mr[e]||(mr[e]="cm-"+e.replace(/ +/g," cm-")):null}function jn(e,t,n){for(var i,r,o,s=t,a=!0;i=un(s);)a=!1,s=Dn(e.view.doc,i.find().from.line),r||(r=s);var l={pre:mi("pre"),col:0,pos:0,display:!n,measure:null,addedOne:!1,cm:e};s.textClass&&(l.pre.className=s.textClass);do{l.measure=s==t&&n,l.pos=0,l.addToken=l.measure?An:Fn,n&&o&&s!=t&&!l.addedOne&&(n[0]=l.pre.appendChild(wi(e.display.measure)),l.addedOne=!0);var u=Nn(s,l,En(e,s));o=s==r,u&&(s=Dn(e.view.doc,u.to.line),a=!1)}while(u);return n&&!l.addedOne&&(n[0]=l.pre.appendChild(a?mi("span"," "):wi(e.display.measure))),l.pre.firstChild||hn(t)||l.pre.appendChild(document.createTextNode(" ")),l.pre}function Fn(e,t,n,i,r){if(t){if(gr.test(t))for(var o=document.createDocumentFragment(),s=0;;){gr.lastIndex=s;var a=gr.exec(t),l=a?a.index-s:t.length-s;if(l&&(o.appendChild(document.createTextNode(t.slice(s,s+l))),e.col+=l),!a)break;if(s+=l+1,"	"==a[0]){var u=e.cm.options.tabSize,c=u-e.col%u;o.appendChild(mi("span",ai(c),"cm-tab")),e.col+=c}else{var d=mi("span","•","cm-invalidchar");d.title="\\u"+a[0].charCodeAt(0).toString(16),o.appendChild(d),e.col+=1}}else{e.col+=t.length;var o=document.createTextNode(t)}if(n||i||r||e.measure){var h=n||"";return i&&(h+=i),r&&(h+=r),e.pre.appendChild(mi("span",[o],h))}e.pre.appendChild(o)}}function An(e,t,n,i,r){for(var o=0;o<t.length;++o)o&&o<t.length&&e.cm.options.lineWrapping&&xr.test(t.slice(o-1,o+1))&&e.pre.appendChild(mi("wbr")),e.measure[e.pos++]=Fn(e,t.charAt(o),n,0==o&&i,o==t.length-1&&r);t.length&&(e.addedOne=!0)}function Ln(e,t,n){n&&(e.display||(n=n.cloneNode(!0)),e.pre.appendChild(n),e.measure&&t&&(e.measure[e.pos]=n,e.addedOne=!0)),e.pos+=t}function Nn(e,t,n){var i=e.markedSpans;if(i)for(var r,o,s,a,l,u=e.text,c=u.length,d=0,h=1,p="",f=0;;){if(f==d){o=s=a="",l=null,f=1/0;for(var m=null,g=0;g<i.length;++g){var v=i[g],b=v.marker;v.from<=d&&(null==v.to||v.to>d)?(null!=v.to&&f>v.to&&(f=v.to,s=""),b.className&&(o+=" "+b.className),b.startStyle&&v.from==d&&(a+=" "+b.startStyle),b.endStyle&&v.to==f&&(s+=" "+b.endStyle),b.collapsed&&(!l||l.marker.width<b.width)&&(l=v)):v.from>d&&f>v.from&&(f=v.from),"bookmark"==b.type&&v.from==d&&b.replacedWith&&(m=b.replacedWith)}if(l&&(l.from||0)==d&&(Ln(t,(null==l.to?c:l.to)-d,null!=l.from&&l.marker.replacedWith),null==l.to))return l.marker.find();m&&!l&&Ln(t,0,m)}if(d>=c)break;for(var y=Math.min(c,f);;){if(p){var w=d+p.length;if(!l){var _=w>y?p.slice(0,y-d):p;t.addToken(t,_,r+o,a,d+_.length==f?s:"")}if(w>=y){p=p.slice(y-d),d=y;break}d=w,a=""}p=n[h++],r=Mn(n[h++])}}else for(var h=1;h<n.length;h+=2)t.addToken(t,n[h],Mn(n[h+1]))}function Pn(e){this.lines=e,this.parent=null;for(var t=0,n=e.length,i=0;n>t;++t)e[t].parent=this,i+=e[t].height;this.height=i}function In(e){this.children=e;for(var t=0,n=0,i=0,r=e.length;r>i;++i){var o=e[i];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}function Dn(e,t){for(;!e.lines;)for(var n=0;;++n){var i=e.children[n],r=i.chunkSize();if(r>t){e=i;break}t-=r}return e.lines[t]}function zn(e,t){for(var n=t-e.height,i=e;i;i=i.parent)i.height+=n}function On(e){if(null==e.parent)return null;for(var t=e.parent,n=ci(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n}function Wn(e){for(var t=e.parent;t.parent;t=t.parent);return t}function Hn(e,t){var n=0;e:do{for(var i=0,r=e.children.length;r>i;++i){var o=e.children[i],s=o.height;if(s>t){e=o;continue e}t-=s,n+=o.chunkSize()}return n}while(!e.lines);for(var i=0,r=e.lines.length;r>i;++i){var a=e.lines[i],l=a.height;if(l>t)break;t-=l}return n+i}function Bn(e,t){t=dn(e.view.doc,t);for(var n=0,i=t.parent,r=0;r<i.lines.length;++r){var o=i.lines[r];if(o==t)break;n+=o.height}for(var s=i.parent;s;i=s,s=i.parent)for(var r=0;r<s.children.length;++r){var a=s.children[r];if(a==i)break;n+=a.height}return n}function Rn(e){var t=e.order;return null==t&&(t=e.order=jr(e.text)),t}function qn(){return{done:[],undone:[],lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function Vn(e,t,n,i,r,o,s,a,l){var u=e.view.history;u.undone.length=0;var c=+new Date,d=li(u.done);if(d&&(u.lastOp==e.curOp.id||u.lastOrigin==r&&("input"==r||"delete"==r)&&u.lastTime>c-600)){var h=li(d.events);if(h.start>t+i.length||h.start+h.added<t)d.events.push({start:t,added:n,old:i});else{for(var p=Math.max(0,h.start-t),f=Math.max(0,t+i.length-(h.start+h.added)),m=p;m>0;--m)h.old.unshift(i[m-1]);for(var m=f;m>0;--m)h.old.push(i[i.length-m]);p&&(h.start=t),h.added+=n-(i.length-p-f)}d.fromAfter=a,d.toAfter=l}else{for(d={events:[{start:t,added:n,old:i}],fromBefore:o,toBefore:s,fromAfter:a,toAfter:l},u.done.push(d);u.done.length>e.options.undoDepth;)u.done.shift();u.dirtyCounter<0?u.dirtyCounter=0/0:u.dirtyCounter++}u.lastTime=c,u.lastOp=e.curOp.id,u.lastOrigin=r}function Un(){Xn(this)}function Gn(e){return e.stop||(e.stop=Un),e}function Kn(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Qn(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Xn(e){Kn(e),Qn(e)}function Yn(e){return e.target||e.srcElement}function Zn(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Vi&&e.ctrlKey&&1==t&&(t=3),t}function Jn(e,t){var n=e.override&&e.override.hasOwnProperty(t);return n?e.override[t]:e[t]}function ei(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={}),r=i[t]||(i[t]=[]);r.push(n)}}function ti(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers&&e._handlers[t];if(!i)return;for(var r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}}}function ni(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function ii(e,t,n){function i(e){return function(){e.apply(null,o)}}var r=t._handlers&&t._handlers[n];if(r)for(var o=Array.prototype.slice.call(arguments,3),s=e.curOp&&e.curOp.delayedCallbacks,a=0;a<r.length;++a)s?s.push(i(r[a])):r[a].apply(null,o)}function ri(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function oi(){this.id=null}function si(e,t,n){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var i=0,r=0;t>i;++i)"	"==e.charAt(i)?r+=n-r%n:++r;return r}function ai(e){for(;yr.length<=e;)yr.push(li(yr)+" ");return yr[e]}function li(e){return e[e.length-1]}function ui(e){Ri?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function ci(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;i>n;++n)if(e[n]==t)return n;return-1}function di(e){for(var t=[],n=0;e>n;++n)t.push(void 0);return t}function hi(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function pi(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||wr.test(e))}function fi(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&e[n]&&++t;return!t}function mi(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)bi(r,t);else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function gi(e){if(Fi)for(;e.firstChild;)e.removeChild(e.firstChild);else e.innerHTML="";return e}function vi(e,t){return gi(e).appendChild(t)}function bi(e,t){Li?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function yi(e){if(null!=Cr)return Cr;var t=mi("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return vi(e,t),t.offsetWidth&&(Cr=t.offsetHeight-t.clientHeight),Cr||0}function wi(e){if(null==Tr){var t=mi("span","​");vi(e,mi("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Tr=t.offsetWidth<=1&&t.offsetHeight>2&&!Ai)}return Tr?mi("span","​"):mi("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function _i(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=0;r<e.length;++r){var o=e[r];(o.from<n&&o.to>t||t==n&&o.to==t)&&i(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr")}}function ki(e){return e.level%2?e.to:e.from}function xi(e){return e.level%2?e.from:e.to}function Ci(e){var t=Rn(e);return t?ki(t[0]):0}function Ti(e){var t=Rn(e);return t?xi(li(t)):e.text.length}function Si(e,t){var n=Dn(e.view.doc,t),i=dn(e.view.doc,n);i!=n&&(t=On(i));var r=Rn(i),o=r?r[0].level%2?Ti(i):Ci(i):0;return{line:t,ch:o}}function Ei(e,t){for(var n,i;n=cn(i=Dn(e.view.doc,t));)t=n.find().to.line;var r=Rn(i),o=r?r[0].level%2?Ci(i):Ti(i):i.text.length;return{line:t,ch:o}}function $i(e,t,n,i){var r=Rn(e);if(!r)return Mi(e,t,n,i);for(var o=i?function(t,n){do t+=n;while(t>0&&_r.test(e.text.charAt(t)));return t}:function(e,t){return e+t},s=r[0].level,a=0;a<r.length;++a){var l=r[a],u=l.level%2==s;if(l.from<t&&l.to>t||u&&(l.from==t||l.to==t))break}for(var c=o(t,l.level%2?-n:n);null!=c;)if(l.level%2==s){if(!(c<l.from||c>l.to))break;l=r[a+=n],c=l&&(n>0==l.level%2?o(l.to,-1):o(l.from,1))}else if(c==ki(l))l=r[--a],c=l&&xi(l);else{if(c!=xi(l))break;l=r[++a],c=l&&ki(l)}return 0>c||c>e.text.length?null:c}function Mi(e,t,n,i){var r=t+n;if(i)for(;r>0&&_r.test(e.text.charAt(r));)r+=n;return 0>r||r>e.text.length?null:r}var ji=/gecko\/\d/i.test(navigator.userAgent),Fi=/MSIE \d/.test(navigator.userAgent),Ai=Fi&&(null==document.documentMode||document.documentMode<8),Li=Fi&&(null==document.documentMode||document.documentMode<9),Ni=/WebKit\//.test(navigator.userAgent),Pi=Ni&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Ii=/Chrome\//.test(navigator.userAgent),Di=/Opera\//.test(navigator.userAgent),zi=/Apple Computer/.test(navigator.vendor),Oi=/KHTML\//.test(navigator.userAgent),Wi=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Hi=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Bi=/PhantomJS/.test(navigator.userAgent),Ri=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),qi=Ri||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Vi=Ri||/Mac/.test(navigator.platform),Ui=/windows/i.test(navigator.platform),Gi=Di&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Gi&&(Gi=Number(Gi[1]));var Ki,Qi,Xi,Yi=Vi&&(Pi||Di&&(null==Gi||12.11>Gi)),Zi=!1,Ji=!1,er=0,tr=null;Fi?tr=-.53:ji?tr=15:Ii?tr=-.7:zi&&(tr=-1/3);var nr,ir,rr=null;e.prototype={getValue:function(e){var t=[],n=this.view.doc;return n.iter(0,n.size,function(e){t.push(e.text)}),t.join(e||"\n")},setValue:K(null,function(e){var t=this.view.doc,n={line:0,ch:0},i=Dn(t,t.size-1).text.length;kt(this,n,{line:t.size-1,ch:i},Sr(e),n,n,"setValue")}),getSelection:function(e){return this.getRange(this.view.sel.from,this.view.sel.to,e)},replaceSelection:K(null,function(e,t,n){var i=this.view.sel;_t(this,i.from,i.to,Sr(e),t||"around",n)}),focus:function(){window.focus(),et(this),bt(this),Y(this)},setOption:function(e,t){var n=this.options,i=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,or.hasOwnProperty(e)&&K(this,or[e])(this,t,i))},getOption:function(e){return this.options[e]},getMode:function(){return this.view.mode},addKeyMap:function(e){this.view.keyMaps.push(e)},removeKeyMap:function(e){for(var t=this.view.keyMaps,n=0;n<t.length;++n)if(("string"==typeof e?t[n].name:t[n])==e)return t.splice(n,1),!0},addOverlay:K(null,function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.view.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque}),this.view.modeGen++,Q(this,0,this.view.doc.size)}),removeOverlay:K(null,function(e){for(var t=this.view.overlays,n=0;n<t.length;++n)if(t[n].modeSpec==e)return t.splice(n,1),this.view.modeGen++,Q(this,0,this.view.doc.size),void 0}),undo:K(null,function(){xt(this,"undo")}),redo:K(null,function(){xt(this,"redo")}),indentLine:K(null,function(e,t,n){"string"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Ft(this.view.doc,e)&&Wt(this,e,t,n)}),indentSelection:K(null,function(e){var t=this.view.sel;if(St(t.from,t.to))return Wt(this,t.from.line,e);for(var n=t.to.line-(t.to.ch?0:1),i=t.from.line;n>=i;++i)Wt(this,i,e)}),historySize:function(){var e=this.view.history;return{undo:e.done.length,redo:e.undone.length}},clearHistory:function(){this.view.history=qn()},markClean:function(){this.view.history.dirtyCounter=0,this.view.history.lastOp=this.view.history.lastOrigin=null},isClean:function(){return 0==this.view.history.dirtyCounter},getHistory:function(){function e(e){for(var t,n=0,i=[];n<e.length;++n){var r=e[n];i.push({events:t=[],fromBefore:r.fromBefore,toBefore:r.toBefore,fromAfter:r.fromAfter,toAfter:r.toAfter});for(var o=0,s=r.events;o<s.length;++o){var a=[],l=s[o];t.push({start:l.start,added:l.added,old:a});for(var u=0;u<l.old.length;++u)a.push(fn(l.old[u]))}}return i}var t=this.view.history;return{done:e(t.done),undone:e(t.undone)}},setHistory:function(e){var t=this.view.history=qn();t.done=e.done,t.undone=e.undone},getTokenAt:function(e){var t=this.view.doc;e=jt(t,e);for(var n=A(this,e.line),i=this.view.mode,r=Dn(t,e.line),o=new Yt(r.text,this.options.tabSize);o.pos<e.ch&&!o.eol();){o.start=o.pos;var s=i.token(o,n)}return{start:o.start,end:o.pos,string:o.current(),className:s||null,type:s||null,state:n}},getStateAfter:function(e){var t=this.view.doc;return e=Mt(t,null==e?t.size-1:e),A(this,e+1)},cursorCoords:function(e,t){var n,i=this.view.sel;return n=null==e?i.head:"object"==typeof e?jt(this.view.doc,e):e?i.from:i.to,H(this,n,t||"page")},charCoords:function(e,t){return W(this,jt(this.view.doc,e),t||"page")},coordsChar:function(e){var t=this.display.lineSpace.getBoundingClientRect();return B(this,e.left-t.left,e.top-t.top)},defaultTextHeight:function(){return q(this.display)},markText:K(null,function(e,t,n){return Jt(this,jt(this.view.doc,e),jt(this.view.doc,t),n,"range")}),setBookmark:K(null,function(e,t){return e=jt(this.view.doc,e),Jt(this,e,e,t?{replacedWith:t}:{},"bookmark")}),findMarksAt:function(e){var t=this.view.doc;e=jt(t,e);var n=[],i=Dn(t,e.line).markedSpans;if(i)for(var r=0;r<i.length;++r){var o=i[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&n.push(o.marker)}return n},setGutterMarker:K(null,function(e,t,n){return Ht(this,e,function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&fi(i)&&(e.gutterMarkers=null),!0})}),clearGutter:K(null,function(e){var t=0,n=this,i=n.view.doc;i.iter(0,i.size,function(i){i.gutterMarkers&&i.gutterMarkers[e]&&(i.gutterMarkers[e]=null,Q(n,t,t+1),fi(i.gutterMarkers)&&(i.gutterMarkers=null)),++t})}),addLineClass:K(null,function(e,t,n){return Ht(this,e,function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[i]){if(new RegExp("\\b"+n+"\\b").test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:K(null,function(e,t,n){return Ht(this,e,function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.replace(new RegExp("^"+n+"\\b\\s*|\\s*\\b"+n+"\\b"),"");if(o==r)return!1;e[i]=o||null}return!0})}),addLineWidget:K(null,function(e,t,n){return _n(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!Ft(this.view.doc,e))return null;var t=e;if(e=Dn(this.view.doc,e),!e)return null}else{var t=On(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(e,t,n,i,r){var o=this.display;e=H(this,jt(this.view.doc,e));var s=e.top,a=e.left;if(t.style.position="absolute",o.sizer.appendChild(t),"over"==i)s=e.top;else if("near"==i){var l=Math.max(o.wrapper.clientHeight,this.view.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);e.bottom+t.offsetHeight>l&&e.top>t.offsetHeight&&(s=e.top-t.offsetHeight),a+t.offsetWidth>u&&(a=u-t.offsetWidth)}t.style.top=s+L(o)+"px",t.style.left=t.style.right="","right"==r?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&zt(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},lineCount:function(){return this.view.doc.size},clipPos:function(e){return jt(this.view.doc,e)},getCursor:function(e){var t,n=this.view.sel;return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||e===!1?n.to:n.from,$t(t)},somethingSelected:function(){return!St(this.view.sel.from,this.view.sel.to)},setCursor:K(null,function(e,t,n){var i=jt(this.view.doc,"number"==typeof e?{line:e,ch:t||0}:e);n?At(this,i):Lt(this,i,i)}),setSelection:K(null,function(e,t){var n=this.view.doc;Lt(this,jt(n,e),jt(n,t||e))}),extendSelection:K(null,function(e,t){var n=this.view.doc;At(this,jt(n,e),t&&jt(n,t))}),setExtending:function(e){this.view.sel.extend=e},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){var t=this.view.doc;return Ft(t,e)?Dn(t,e):void 0},getLineNumber:function(e){return On(e)},setLine:K(null,function(e,t){Ft(this.view.doc,e)&&Tt(this,t,{line:e,ch:0},{line:e,ch:Dn(this.view.doc,e).text.length})}),removeLine:K(null,function(e){Ft(this.view.doc,e)&&Tt(this,"",{line:e,ch:0},jt(this.view.doc,{line:e+1,ch:0}))}),replaceRange:K(null,function(e,t,n){var i=this.view.doc;return t=jt(i,t),n=n?jt(i,n):t,Tt(this,e,t,n)}),getRange:function(e,t,n){var i=this.view.doc;e=jt(i,e),t=jt(i,t);var r=e.line,o=t.line;if(r==o)return Dn(i,r).text.slice(e.ch,t.ch);var s=[Dn(i,r).text.slice(e.ch)];return i.iter(r+1,o,function(e){s.push(e.text)}),s.push(Dn(i,o).text.slice(0,t.ch)),s.join(n||"\n")},triggerOnKeyDown:K(null,gt),execCommand:function(e){return hr[e](this)},moveH:K(null,function(e,t){var n=this.view.sel,i=0>e?n.from:n.to;(n.shift||n.extend||St(n.from,n.to))&&(i=Bt(this,e,t,this.options.rtlMoveVisually)),At(this,i,i,e)}),deleteH:K(null,function(e,t){var n=this.view.sel;St(n.from,n.to)?Tt(this,"",n.from,Bt(this,e,t,!1),"delete"):Tt(this,"",n.from,n.to,"delete"),this.curOp.userSelChange=!0}),moveV:K(null,function(e,t){var n,i=this.view,r=i.doc,o=this.display,s=i.sel.head,a=H(this,s,"div"),l=a.left;if(null!=i.goalColumn&&(l=i.goalColumn),"page"==t){var u=Math.min(o.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);n=a.top+e*u}else"line"==t&&(n=e>0?a.bottom+3:a.top-3);do{var c=B(this,l,n);n+=5*e}while(c.outside&&(0>e?n>0:n<r.height));"page"==t&&(o.scrollbarV.scrollTop+=W(this,c,"div").top-a.top),At(this,c,c,e),i.goalColumn=l}),toggleOverwrite:function(){(this.view.overwrite=!this.view.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},posFromIndex:function(e){var t,n=0,i=this.view.doc;return i.iter(0,i.size,function(i){var r=i.text.length+1;return r>e?(t=e,!0):(e-=r,++n,void 0)}),jt(i,{line:n,ch:t})},indexFromPos:function(e){e=jt(this.view.doc,e);var t=e.ch;return this.view.doc.iter(0,e.line,function(e){t+=e.text.length+1}),t},scrollTo:function(e,t){null!=e&&(this.display.scrollbarH.scrollLeft=this.display.scroller.scrollLeft=e),null!=t&&(this.display.scrollbarV.scrollTop=this.display.scroller.scrollTop=t),b(this,[])},getScrollInfo:function(){var e=this.display.scroller,t=vr;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:function(e){"number"==typeof e&&(e={line:e,ch:0}),e&&null==e.line?zt(this,e.left,e.top,e.right,e.bottom):(e=e?jt(this.view.doc,e):this.view.sel.head,Dt(this,e))},setSize:function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.refresh()},on:function(e,t){ei(this,e,t)},off:function(e,t){ti(this,e,t)},operation:function(e){return K(this,e)()},refresh:function(){z(this);var e=this.view.scrollTop,t=this.view.scrollLeft;this.display.scroller.scrollHeight>e&&(this.display.scrollbarV.scrollTop=this.display.scroller.scrollTop=e),this.display.scroller.scrollWidth>t&&(this.display.scrollbarH.scrollLeft=this.display.scroller.scrollLeft=t),b(this,!0)},getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var or=e.optionHandlers={},sr=e.defaults={},ar=e.Init={toString:function(){return"CodeMirror.Init"}};Vt("value","",function(e,t){e.setValue(t)},!0),Vt("mode",null,i,!0),Vt("indentUnit",2,i,!0),Vt("indentWithTabs",!1),Vt("smartIndent",!0),Vt("tabSize",4,function(e){i(e),z(e),b(e,!0)},!0),Vt("electricChars",!0),Vt("rtlMoveVisually",!Ui),Vt("theme","default",function(e){s(e),a(e)},!0),Vt("keyMap","default",o),Vt("extraKeys",null),Vt("onKeyEvent",null),Vt("onDragEvent",null),Vt("lineWrapping",!1,r,!0),Vt("gutters",[],function(e){d(e.options),a(e)},!0),Vt("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?v(e.display)+"px":"0",e.refresh()},!0),Vt("lineNumbers",!1,function(e){d(e.options),a(e)},!0),Vt("firstLineNumber",1,a,!0),Vt("lineNumberFormatter",function(e){return e},a,!0),Vt("showCursorWhenSelecting",!1,T,!0),Vt("readOnly",!1,function(e,t){"nocursor"==t?(yt(e),e.display.input.blur()):t||J(e,!0)}),Vt("dragDrop",!0),Vt("cursorBlinkRate",530),Vt("cursorHeight",1),Vt("workTime",100),Vt("workDelay",100),Vt("flattenSpans",!0),Vt("pollInterval",100),Vt("undoDepth",40),Vt("viewportMargin",10,function(e){e.refresh()},!0),Vt("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),Vt("autofocus",null);var lr=e.modes={},ur=e.mimeModes={};e.defineMode=function(t,n){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){n.dependencies=[];for(var i=2;i<arguments.length;++i)n.dependencies.push(arguments[i])}lr[t]=n},e.defineMIME=function(e,t){ur[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ur.hasOwnProperty(t))t=ur[t];else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){n=e.resolveMode(n);var i=lr[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(cr.hasOwnProperty(n.name)){var o=cr[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}return r.name=n.name,r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var cr=e.modeExtensions={};e.extendMode=function(e,t){var n=cr.hasOwnProperty(e)?cr[e]:cr[e]={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineOption=Vt;var dr=[];e.defineInitHook=function(e){dr.push(e)},e.copyState=Ut,e.startState=Gt,e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);t=n.state,e=n.mode}return n||{mode:e,state:t}};var hr=e.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e.getCursor(!0),n=e.getCursor(!1),i=!St(t,n);i||e.getLine(t.line).length!=t.ch?e.replaceRange("",t,i?n:{line:t.line},"delete"):e.replaceRange("",t,{line:t.line+1,ch:0},"delete")},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",{line:t,ch:0},{line:t},"delete")},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.extendSelection({line:0,ch:0})},goDocEnd:function(e){e.extendSelection({line:e.lineCount()-1})},goLineStart:function(e){e.extendSelection(Si(e,e.getCursor().line))},goLineStartSmart:function(e){var t=e.getCursor(),n=Si(e,t.line),i=e.getLineHandle(n.line),r=Rn(i);if(r&&0!=r[0].level)e.extendSelection(n);else{var o=Math.max(0,i.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;e.extendSelection({line:n.line,ch:s?0:o})}},goLineEnd:function(e){e.extendSelection(Ei(e,e.getCursor().line))},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end","input")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end","input")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);t.ch>0&&t.ch<n.length-1&&e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(e){K(e,function(){e.replaceSelection("\n","end","input"),e.indentLine(e.getCursor().line,null,!0)})()},toggleOverwrite:function(e){e.toggleOverwrite()}},pr=e.keyMap={};pr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},pr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordBefore","Ctrl-Delete":"delWordAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},pr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordBefore","Ctrl-Alt-Backspace":"delWordAfter","Alt-Delete":"delWordAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},pr["default"]=Vi?pr.macDefault:pr.pcDefault,pr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.isModifierKey=Xt,e.fromTextArea=function(t,n){function i(){t.value=l.getValue()
}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),null==n.autofocus){var r=document.body;try{r=document.activeElement}catch(o){}n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form){ei(t.form,"submit",i);var s=t.form,a=s.submit;try{s.submit=function u(){i(),s.submit=a,s.submit(),s.submit=u}}catch(o){}}t.style.display="none";var l=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return l.save=i,l.getTextArea=function(){return t},l.toTextArea=function(){i(),t.parentNode.removeChild(l.getWrapperElement()),t.style.display="",t.form&&(ti(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=a))},l},Yt.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return si(this.string,this.start,this.tabSize)},indentation:function(){return si(this.string,null,this.tabSize)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e};return r(this.string).indexOf(r(e),this.pos)==this.pos?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=Yt,e.TextMarker=Zt,Zt.prototype.clear=function(){if(!this.explicitlyCleared){U(this.cm);for(var e=this.cm.view,t=null,n=null,i=0;i<this.lines.length;++i){var r=this.lines[i],o=en(r.markedSpans,this);null!=o.to&&(n=On(r)),r.markedSpans=tn(r.markedSpans,o),null!=o.from?t=On(r):this.collapsed&&!hn(r)&&zn(r,q(this.cm.display))}if(this.collapsed&&!this.cm.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var s=dn(e.doc,this.lines[i]),a=u(e.doc,s);a>e.maxLineLength&&(e.maxLine=s,e.maxLineLength=a,e.maxLineChanged=!0)}null!=t&&Q(this.cm,t,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.collapsed&&this.cm.view.cantEdit&&(this.cm.view.cantEdit=!1,Nt(this.cm)),G(this.cm),ii(this.cm,this,"clear")}},Zt.prototype.find=function(){for(var e,t,n=0;n<this.lines.length;++n){var i=this.lines[n],r=en(i.markedSpans,this);if(null!=r.from||null!=r.to){var o=On(i);null!=r.from&&(e={line:o,ch:r.from}),null!=r.to&&(t={line:o,ch:r.to})}}return"bookmark"==this.type?e:e&&{from:e,to:t}},Zt.prototype.getOptions=function(e){var t=this.replacedWith;return{className:this.className,inclusiveLeft:this.inclusiveLeft,inclusiveRight:this.inclusiveRight,atomic:this.atomic,collapsed:this.collapsed,clearOnEnter:this.clearOnEnter,replacedWith:e?t&&t.cloneNode(!0):t,readOnly:this.readOnly,startStyle:this.startStyle,endStyle:this.endStyle}};var fr=e.LineWidget=function(e,t,n){for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.cm=e,this.node=t};fr.prototype.clear=yn(function(){var e=this.line.widgets,t=On(this.line);if(null!=t&&e){for(var n=0;n<e.length;++n)e[n]==this&&e.splice(n--,1);zn(this.line,Math.max(0,this.line.height-wn(this))),Q(this.cm,t,t+1)}}),fr.prototype.changed=yn(function(){var e=this.height;this.height=null;var t=wn(this)-e;if(t){zn(this.line,this.line.height+t);var n=On(this.line);Q(this.cm,n,n+1)}});var mr={},gr=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g;Pn.prototype={chunkSize:function(){return this.lines.length},remove:function(e,t,n){for(var i=e,r=e+t;r>i;++i){var o=this.lines[i];this.height-=o.height,Cn(o),ii(n,o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertHeight:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0,r=t.length;r>i;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;i>e;++e)if(n(this.lines[e]))return!0}},In.prototype={chunkSize:function(){return this.size},remove:function(e,t,n){this.size-=t;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>e){var s=Math.min(t,o-e),a=r.height;if(r.remove(e,s,n),this.height-=a-r.height,o==s&&(this.children.splice(i--,1),r.parent=null),0==(t-=s))break;e=0}else e-=o}if(this.size-t<25){var l=[];this.collapse(l),this.children=[new Pn(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0,n=this.children.length;n>t;++t)this.children[t].collapse(e)},insert:function(e,t){for(var n=0,i=0,r=t.length;r>i;++i)n+=t[i].height;this.insertHeight(e,t,n)},insertHeight:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0,r=this.children.length;r>i;++i){var o=this.children[i],s=o.chunkSize();if(s>=e){if(o.insertHeight(e,t,n),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var a=o.lines.splice(o.lines.length-25,25),l=new Pn(a);o.height-=l.height,this.children.splice(i+1,0,l),l.parent=this}this.maybeSpill()}break}e-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new In(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=ci(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new In(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iter:function(e,t,n){this.iterN(e,t-e,n)},iterN:function(e,t,n){for(var i=0,r=this.children.length;r>i;++i){var o=this.children[i],s=o.chunkSize();if(s>e){var a=Math.min(t,s-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=s}}},e.e_stop=Xn,e.e_preventDefault=Kn,e.e_stopPropagation=Qn,e.on=ei,e.off=ti,e.signal=ni;var vr=30,br=e.Pass={toString:function(){return"CodeMirror.Pass"}};oi.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}},e.countColumn=si;var yr=[""],wr=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,_r=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F]/,kr=function(){if(Li)return!1;var e=mi("div");return"draggable"in e||"dragDrop"in e}(),xr=/^$/;ji?xr=/$'/:zi?xr=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:Ii&&(xr=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var Cr,Tr,Sr=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;i>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)};e.splitLines=Sr;var Er=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},$r=function(){var e=mi("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Mr={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};e.keyNames=Mr,function(){for(var e=0;10>e;e++)Mr[e+48]=String(e);for(var e=65;90>=e;e++)Mr[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Mr[e+111]=Mr[e+63235]="F"+e}();var jr=function(){function e(e){return 255>=e?t.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1791>=e?n.charAt(e-1536):e>=1792&&2220>=e?"r":"L"}var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,a=/[1n]/,l="L";return function(t){if(!i.test(t))return!1;for(var n,u=t.length,c=[],d=0;u>d;++d)c.push(n=e(t.charCodeAt(d)));for(var d=0,h=l;u>d;++d){var n=c[d];"m"==n?c[d]=h:h=n}for(var d=0,p=l;u>d;++d){var n=c[d];"1"==n&&"r"==p?c[d]="n":o.test(n)&&(p=n,"r"==n&&(c[d]="R"))}for(var d=1,h=c[0];u-1>d;++d){var n=c[d];"+"==n&&"1"==h&&"1"==c[d+1]?c[d]="1":","!=n||h!=c[d+1]||"1"!=h&&"n"!=h||(c[d]=h),h=n}for(var d=0;u>d;++d){var n=c[d];if(","==n)c[d]="N";else if("%"==n){for(var f=d+1;u>f&&"%"==c[f];++f);for(var m=d&&"!"==c[d-1]||u-1>f&&"1"==c[f]?"1":"N",g=d;f>g;++g)c[g]=m;d=f-1}}for(var d=0,p=l;u>d;++d){var n=c[d];"L"==p&&"1"==n?c[d]="L":o.test(n)&&(p=n)}for(var d=0;u>d;++d)if(r.test(c[d])){for(var f=d+1;u>f&&r.test(c[f]);++f);for(var v="L"==(d?c[d-1]:l),b="L"==(u-1>f?c[f]:l),m=v||b?"L":"R",g=d;f>g;++g)c[g]=m;d=f-1}for(var y,w=[],d=0;u>d;)if(s.test(c[d])){var _=d;for(++d;u>d&&s.test(c[d]);++d);w.push({from:_,to:d,level:0})}else{var k=d,x=w.length;for(++d;u>d&&"L"!=c[d];++d);for(var g=k;d>g;)if(a.test(c[g])){g>k&&w.splice(x,0,{from:k,to:g,level:1});var C=g;for(++g;d>g&&a.test(c[g]);++g);w.splice(x,0,{from:C,to:g,level:2}),k=g}else++g;d>k&&w.splice(x,0,{from:k,to:d,level:1})}return 1==w[0].level&&(y=t.match(/^\s+/))&&(w[0].from=y[0].length,w.unshift({from:0,to:y[0].length,level:0})),1==li(w).level&&(y=t.match(/\s+$/))&&(li(w).to-=y[0].length,w.push({from:u-y[0].length,to:u,level:0})),w[0].level!=li(w).level&&w.push({from:u,to:u,level:w[0].level}),w}}();return e.version="3.02",e}(),CodeMirror.defineMode("clike",function(e,t){function n(e,t){var n=e.next();if(g[n]){var o=g[n](e,t);if(o!==!1)return o}if('"'==n||"'"==n)return t.tokenize=i(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return l=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if("/"==n){if(e.eat("*"))return t.tokenize=r,r(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(b.test(n))return e.eatWhile(b),"operator";e.eatWhile(/[\w\$_]/);var s=e.current();return h.propertyIsEnumerable(s)?(f.propertyIsEnumerable(s)&&(l="newstatement"),"keyword"):p.propertyIsEnumerable(s)?(f.propertyIsEnumerable(s)&&(l="newstatement"),"builtin"):m.propertyIsEnumerable(s)?"atom":"variable"}function i(e){return function(t,n){for(var i,r=!1,o=!1;null!=(i=t.next());){if(i==e&&!r){o=!0;break}r=!r&&"\\"==i}return(o||!r&&!v)&&(n.tokenize=null),"string"}}function r(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=null;break}i="*"==n}return"comment"}function o(e,t,n,i,r){this.indented=e,this.column=t,this.type=n,this.align=i,this.prev=r}function s(e,t,n){var i=e.indented;return e.context&&"statement"==e.context.type&&(i=e.context.indented),e.context=new o(i,t,n,null,e.context)}function a(e){var t=e.context.type;return(")"==t||"]"==t||"}"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}var l,u=e.indentUnit,c=t.statementIndentUnit||u,d=t.dontAlignCalls,h=t.keywords||{},p=t.builtin||{},f=t.blockKeywords||{},m=t.atoms||{},g=t.hooks||{},v=t.multiLineStrings,b=/[+\-*&%=<>!?|\/]/;return{startState:function(e){return{tokenize:null,context:new o((e||0)-u,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var i=t.context;if(e.sol()&&(null==i.align&&(i.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;l=null;var r=(t.tokenize||n)(e,t);if("comment"==r||"meta"==r)return r;if(null==i.align&&(i.align=!0),";"!=l&&":"!=l&&","!=l||"statement"!=i.type)if("{"==l)s(t,e.column(),"}");else if("["==l)s(t,e.column(),"]");else if("("==l)s(t,e.column(),")");else if("}"==l){for(;"statement"==i.type;)i=a(t);for("}"==i.type&&(i=a(t));"statement"==i.type;)i=a(t)}else l==i.type?a(t):(("}"==i.type||"top"==i.type)&&";"!=l||"statement"==i.type&&"newstatement"==l)&&s(t,e.column(),"statement");else a(t);return t.startOfLine=!1,r},indent:function(e,t){if(e.tokenize!=n&&null!=e.tokenize)return CodeMirror.Pass;var i=e.context,r=t&&t.charAt(0);"statement"==i.type&&"}"==r&&(i=i.prev);var o=r==i.type;return"statement"==i.type?i.indented+("{"==r?0:c):d&&")"==i.type&&!o?i.indented+c:i.align?i.column+(o?0:1):i.indented+(o?0:u)},electricChars:"{}"}}),function(){function e(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}function t(e,n){if(!n.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),n.tokenize=null;break}if(e.next(),e.eol()){n.tokenize=t;break}}return"meta"}function n(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function i(e,t){for(var n=0;n<e.length;++n)CodeMirror.defineMIME(e[n],t)}var r="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";i(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:e(r),blockKeywords:e("case do else for if switch while struct"),atoms:e("null"),hooks:{"#":t}}),i(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:e(r+" asm dynamic_cast namespace reinterpret_cast try bool explicit new "+"static_cast typeid catch operator template typename class friend private "+"this using const_cast inline public throw virtual delete mutable protected "+"wchar_t"),blockKeywords:e("catch class do else finally for if struct switch try while"),atoms:e("true false null"),hooks:{"#":t}}),CodeMirror.defineMIME("text/x-java",{name:"clike",keywords:e("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:e("catch class do else finally for if switch try while"),atoms:e("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}}}),CodeMirror.defineMIME("text/x-csharp",{name:"clike",keywords:e("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:e("catch class do else finally for foreach if struct switch try while"),builtin:e("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:e("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=n,n(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),CodeMirror.defineMIME("text/x-scala",{name:"clike",keywords:e("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),blockKeywords:e("catch class do else finally for forSome if match switch try while"),atoms:e("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}}})}(),CodeMirror.defineMode("css",function(e){function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){return l=t,e}function i(e,t){var i=e.next();if("@"==i)return e.eatWhile(/[\w\\\-]/),n("def",e.current());if("/"==i&&e.eat("*"))return t.tokenize=r,r(e,t);if("<"==i&&e.eat("!"))return t.tokenize=o,o(e,t);if("="==i)n(null,"compare");else{if(("~"==i||"|"==i)&&e.eat("="))return n(null,"compare");if('"'==i||"'"==i)return t.tokenize=s(i),t.tokenize(e,t);if("#"==i)return e.eatWhile(/[\w\\\-]/),n("atom","hash");if("!"==i)return e.match(/^\s*\w*/),n("keyword","important");if(/\d/.test(i))return e.eatWhile(/[\w.%]/),n("number","unit");if("-"!==i)return/[,+>*\/]/.test(i)?n(null,"select-op"):"."==i&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?n("qualifier","qualifier"):":"==i?n("operator",i):/[;{}\[\]\(\)]/.test(i)?n(null,i):"u"==i&&e.match("rl(")?(e.backUp(1),t.tokenize=a,n("property","variable")):(e.eatWhile(/[\w\\\-]/),n("property","variable"));if(/\d/.test(e.peek()))return e.eatWhile(/[\w.%]/),n("number","unit");if(e.match(/^[^-]+-/))return n("meta","meta")}}function r(e,t){for(var r,o=!1;null!=(r=e.next());){if(o&&"/"==r){t.tokenize=i;break}o="*"==r}return n("comment","comment")}function o(e,t){for(var r,o=0;null!=(r=e.next());){if(o>=2&&">"==r){t.tokenize=i;break}o="-"==r?o+1:0}return n("comment","comment")}function s(e,t){return function(r,o){for(var s,a=!1;null!=(s=r.next())&&(s!=e||a);)a=!a&&"\\"==s;return a||(t&&r.backUp(1),o.tokenize=i),n("string","string")}}function a(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\']/,!1)?i:s(")",!0),n(null,"(")}var l,u=e.indentUnit,c=t(["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"]),d=t(["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"]),h=t(["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid-cell","grid-column","grid-column-align","grid-column-sizing","grid-column-span","grid-columns","grid-flow","grid-row","grid-row-align","grid-row-sizing","grid-row-span","grid-rows","grid-template","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-shadow","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"]),p=t(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"]),f=t(["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","navy","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","overlay","overline","padding","padding-box","painted","paused","persian","plus-darker","plus-lighter","pointer","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","white","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small","yellow"]);return{startState:function(e){return{tokenize:i,baseIndent:e||0,stack:[]}},token:function(e,t){if(t.tokenize==i&&e.eatSpace())return null;var n=t.tokenize(e,t),r=t.stack[t.stack.length-1];return"property"==n?"propertyValue"==r?n=f[e.current()]?"string-2":p[e.current()]?"keyword":"variable-2":"rule"==r?h[e.current()]||(n+=" error"):r&&"@media{"!=r?"@media"==r?n=c[e.current()]?"attribute":/^(only|not)$/i.test(e.current())?"keyword":"and"==e.current().toLowerCase()?"error":d[e.current()]?"error":"attribute error":"@mediaType"==r?n=c[e.current()]?"attribute":"and"==e.current().toLowerCase()?"operator":/^(only|not)$/i.test(e.current())?"error":d[e.current()]?"error":"error":"@mediaType("==r?h[e.current()]||(c[e.current()]?n="error":"and"==e.current().toLowerCase()?n="operator":/^(only|not)$/i.test(e.current())?n="error":n+=" error"):n="error":n="tag":"atom"==n?r&&"@media{"!=r?"propertyValue"==r?/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e.current())||(n+=" error"):n="error":n="builtin":"@media"==r&&"{"==l&&(n="error"),"{"==l?"@media"==r||"@mediaType"==r?(t.stack.pop(),t.stack[t.stack.length-1]="@media{"):t.stack.push("rule"):"}"==l?(t.stack.pop(),"propertyValue"==r&&t.stack.pop()):"@media"==l?t.stack.push("@media"):"@media"==r&&/\b(keyword|attribute)\b/.test(n)?t.stack.push("@mediaType"):"@mediaType"==r&&","==e.current()?t.stack.pop():"@mediaType"==r&&"("==l?t.stack.push("@mediaType("):"@mediaType("==r&&")"==l?t.stack.pop():"rule"==r&&":"==l?t.stack.push("propertyValue"):"propertyValue"==r&&";"==l&&t.stack.pop(),n},indent:function(e,t){var n=e.stack.length;return/^\}/.test(t)&&(n-="propertyValue"==e.stack[e.stack.length-1]?2:1),e.baseIndent+n*u},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("htmlembedded",function(e,t){function n(e,t){return e.match(s,!1)?(t.token=i,r.token(e,t.scriptState)):o.token(e,t.htmlState)}function i(e,t){return e.match(a,!1)?(t.token=n,o.token(e,t.htmlState)):r.token(e,t.scriptState)}var r,o,s=t.scriptStartRegex||/^<%/i,a=t.scriptEndRegex||/^%>/i;return{startState:function(){return r=r||CodeMirror.getMode(e,t.scriptingModeSpec),o=o||CodeMirror.getMode(e,"htmlmixed"),{token:t.startOpen?i:n,htmlState:CodeMirror.startState(o),scriptState:CodeMirror.startState(r)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return e.token==n?o.indent(e.htmlState,t):r.indent?r.indent(e.scriptState,t):void 0},copyState:function(e){return{token:e.token,htmlState:CodeMirror.copyState(o,e.htmlState),scriptState:CodeMirror.copyState(r,e.scriptState)}},electricChars:"/{}:",innerMode:function(e){return e.token==i?{state:e.scriptState,mode:r}:{state:e.htmlState,mode:o}}}},"htmlmixed"),CodeMirror.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),CodeMirror.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),CodeMirror.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),CodeMirror.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"}),CodeMirror.defineMode("htmlmixed",function(e){function t(e,t){var n=o.token(e,t.htmlState);return/(?:^|\s)tag(?:\s|$)/.test(n)&&">"==e.current()&&t.htmlState.context&&(/^script$/i.test(t.htmlState.context.tagName)?(t.token=i,t.localState=s.startState(o.indent(t.htmlState,""))):/^style$/i.test(t.htmlState.context.tagName)&&(t.token=r,t.localState=a.startState(o.indent(t.htmlState,"")))),n
}function n(e,t,n){var i,r=e.current(),o=r.search(t);return o>-1?e.backUp(r.length-o):(i=r.match(/<\/?$/))&&(e.backUp(r.length),e.match(t,!1)||e.match(r[0])),n}function i(e,i){return e.match(/^<\/\s*script\s*>/i,!1)?(i.token=t,i.localState=null,t(e,i)):n(e,/<\/\s*script\s*>/,s.token(e,i.localState))}function r(e,i){return e.match(/^<\/\s*style\s*>/i,!1)?(i.token=t,i.localState=null,t(e,i)):n(e,/<\/\s*style\s*>/,a.token(e,i.localState))}var o=CodeMirror.getMode(e,{name:"xml",htmlMode:!0}),s=CodeMirror.getMode(e,"javascript"),a=CodeMirror.getMode(e,"css");return{startState:function(){var e=o.startState();return{token:t,localState:null,mode:"html",htmlState:e}},copyState:function(e){if(e.localState)var t=CodeMirror.copyState(e.token==r?a:s,e.localState);return{token:e.token,localState:t,mode:e.mode,htmlState:CodeMirror.copyState(o,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,n){return e.token==t||/^\s*<\//.test(n)?o.indent(e.htmlState,n):e.token==i?s.indent(e.localState,n):a.indent(e.localState,n)},electricChars:"/{}:",innerMode:function(e){var n=e.token==t?o:e.token==i?s:a;return{state:e.localState||e.htmlState,mode:n}}}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed"),CodeMirror.defineMode("javascript",function(e,t){function n(e,t,n){return t.tokenize=n,n(e,t)}function i(e,t){for(var n,i=!1;null!=(n=e.next());){if(n==t&&!i)return!1;i=!i&&"\\"==n}return i}function r(e,t,n){return z=e,O=n,t}function o(e,t){var o=e.next();if('"'==o||"'"==o)return n(e,t,s(o));if(/[\[\]{}\(\),;\:\.]/.test(o))return r(o);if("0"==o&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),r("number","number");if(/\d/.test(o)||"-"==o&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==o)return e.eat("*")?n(e,t,a):e.eat("/")?(e.skipToEnd(),r("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(i(e,"/"),e.eatWhile(/[gimy]/),r("regexp","string-2")):(e.eatWhile(q),r("operator",null,e.current()));if("#"==o)return e.skipToEnd(),r("error","error");if(q.test(o))return e.eatWhile(q),r("operator",null,e.current());e.eatWhile(/[\w\$_]/);var l=e.current(),u=R.propertyIsEnumerable(l)&&R[l];return u&&"."!=t.lastType?r(u.type,u.style,l):r("variable","variable",l)}function s(e){return function(t,n){return i(t,e)||(n.tokenize=o),r("string","string")}}function a(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=o;break}i="*"==n}return r("comment","comment")}function l(e,t,n,i,r,o){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function u(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0}function c(e,t,n,i,r){var o=e.cc;for(U.state=e,U.stream=r,U.marked=null,U.cc=o,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():H?w:y;if(s(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return U.marked?U.marked:"variable"==n&&u(e,i)?"variable-2":t}}}function d(){for(var e=arguments.length-1;e>=0;e--)U.cc.push(arguments[e])}function h(){return d.apply(null,arguments),!0}function p(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var n=U.state;if(n.context){if(U.marked="def",t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;n.globalVars={name:e,next:n.globalVars}}}function f(){U.state.context={prev:U.state.context,vars:U.state.localVars},U.state.localVars=G}function m(){U.state.localVars=U.state.context.vars,U.state.context=U.state.context.prev}function g(e,t){var n=function(){var n=U.state;n.lexical=new l(n.indented,U.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function v(){var e=U.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function b(e){return function(t){return t==e?h():";"==e?d():h(arguments.callee)}}function y(e){return"var"==e?h(g("vardef"),j,b(";"),v):"keyword a"==e?h(g("form"),w,y,v):"keyword b"==e?h(g("form"),y,v):"{"==e?h(g("}"),E,v):";"==e?h():"function"==e?h(I):"for"==e?h(g("form"),b("("),g(")"),A,b(")"),v,y,v):"variable"==e?h(g("stat"),x):"switch"==e?h(g("form"),w,g("}","switch"),b("{"),E,v,v):"case"==e?h(w,b(":")):"default"==e?h(b(":")):"catch"==e?h(g("form"),f,b("("),D,b(")"),y,v,m):d(g("stat"),w,b(";"),v)}function w(e){return V.hasOwnProperty(e)?h(k):"function"==e?h(I):"keyword c"==e?h(_):"("==e?h(g(")"),_,b(")"),v,k):"operator"==e?h(w):"["==e?h(g("]"),S(w,"]"),v,k):"{"==e?h(g("}"),S(T,"}"),v,k):h()}function _(e){return e.match(/[;\}\)\],]/)?d():d(w)}function k(e,t){if("operator"==e&&/\+\+|--/.test(t))return h(k);if("operator"==e&&"?"==t)return h(w,b(":"),w);if(";"!=e)return"("==e?h(g(")"),S(w,")"),v,k):"."==e?h(C,k):"["==e?h(g("]"),w,b("]"),v,k):void 0}function x(e){return":"==e?h(v,y):d(k,b(";"),v)}function C(e){return"variable"==e?(U.marked="property",h()):void 0}function T(e){return"variable"==e&&(U.marked="property"),V.hasOwnProperty(e)?h(b(":"),w):void 0}function S(e,t){function n(i){return","==i?h(e,n):i==t?h():h(b(t))}return function(i){return i==t?h():d(e,n)}}function E(e){return"}"==e?h():d(y,E)}function $(e){return":"==e?h(M):d()}function M(e){return"variable"==e?(U.marked="variable-3",h()):d()}function j(e,t){return"variable"==e?(p(t),B?h($,F):h(F)):d()}function F(e,t){return"="==t?h(w,F):","==e?h(j):void 0}function A(e){return"var"==e?h(j,b(";"),N):";"==e?h(N):"variable"==e?h(L):h(N)}function L(e,t){return"in"==t?h(w):h(k,N)}function N(e,t){return";"==e?h(P):"in"==t?h(w):h(w,b(";"),P)}function P(e){")"!=e&&h(w)}function I(e,t){return"variable"==e?(p(t),h(I)):"("==e?h(g(")"),f,S(D,")"),v,y,m):void 0}function D(e,t){return"variable"==e?(p(t),B?h($):h()):void 0}var z,O,W=e.indentUnit,H=t.json,B=t.typescript,R=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("operator"),o={type:"atom",style:"atom"},s={"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o};if(B){var a={type:"variable",style:"variable-3"},l={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:a,number:a,bool:a,any:a};for(var u in l)s[u]=l[u]}return s}(),q=/[+\-*&%=<>!?|]/,V={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},U={state:null,column:null,marked:null,cc:null},G={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(e){return{tokenize:o,lastType:null,cc:[],lexical:new l((e||0)-W,0,"block",!1),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==z?n:(t.lastType=z,c(t,n,z,O,e))},indent:function(e,t){if(e.tokenize==a)return CodeMirror.Pass;if(e.tokenize!=o)return 0;var n=t&&t.charAt(0),i=e.lexical;"stat"==i.type&&"}"==n&&(i=i.prev);var r=i.type,s=n==r;return"vardef"==r?i.indented+("operator"==e.lastType||","==e.lastType?4:0):"form"==r&&"{"==n?i.indented:"form"==r?i.indented+W:"stat"==r?i.indented+("operator"==e.lastType||","==e.lastType?W:0):"switch"!=i.info||s?i.align?i.column+(s?0:1):i.indented+(s?0:W):i.indented+(/^(?:case|default)\b/.test(t)?W:2*W)},electricChars:":{}",jsonMode:H}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),function(){function e(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}function t(e){return function(t,n){return t.match(e)?n.tokenize=null:t.skipToEnd(),"string"}}var n={name:"clike",keywords:e("abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent"),blockKeywords:e("catch do else elseif for foreach if switch try while"),atoms:e("true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__"),builtin:e("func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport echo print global static exit array empty eval isset unset die include require include_once require_once"),multiLineStrings:!0,hooks:{$:function(e){return e.eatWhile(/[\w\$_]/),"variable-2"},"<":function(e,n){return e.match(/<</)?(e.eatWhile(/[\w\.]/),n.tokenize=t(e.current().slice(3)),n.tokenize(e,n)):!1},"#":function(e){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"},"/":function(e){if(e.eat("/")){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"}return!1}}};CodeMirror.defineMode("php",function(e,t){function i(e,t){var n=t.curMode==o;if(e.sol()&&'"'!=t.pending&&(t.pending=null),n)return n&&null==t.php.tokenize&&e.match("?>")?(t.curMode=r,t.curState=t.html,"meta"):o.token(e,t.curState);if(e.match(/^<\?\w*/))return t.curMode=o,t.curState=t.php,"meta";if('"'==t.pending){for(;!e.eol()&&'"'!=e.next(););var i="string"}else if(t.pending&&e.pos<t.pending.end){e.pos=t.pending.end;var i=t.pending.style}else var i=r.token(e,t.curState);t.pending=null;var s=e.current(),a=s.search(/<\?/);return-1!=a&&(t.pending="string"==i&&/\"$/.test(s)&&!/\?>/.test(s)?'"':{end:e.pos,style:i},e.backUp(s.length-a)),i}var r=CodeMirror.getMode(e,"text/html"),o=CodeMirror.getMode(e,n);return{startState:function(){var e=CodeMirror.startState(r),n=CodeMirror.startState(o);return{html:e,php:n,curMode:t.startOpen?o:r,curState:t.startOpen?n:e,pending:null}},copyState:function(e){var t,n=e.html,i=CodeMirror.copyState(r,n),s=e.php,a=CodeMirror.copyState(o,s);return t=e.curMode==r?i:a,{html:i,php:a,curMode:e.curMode,curState:t,pending:e.pending}},token:i,indent:function(e,t){return e.curMode!=o&&/^\s*<\//.test(t)||e.curMode==o&&/^\?>/.test(t)?r.indent(e.html,t):e.curMode.indent(e.curState,t)},electricChars:"/{}:",innerMode:function(e){return{state:e.curState,mode:e.curMode}}}},"htmlmixed"),CodeMirror.defineMIME("application/x-httpd-php","php"),CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),CodeMirror.defineMIME("text/x-php",n)}(),CodeMirror.defineMode("ruby",function(e){function t(e){for(var t={},n=0,i=e.length;i>n;++n)t[e[n]]=!0;return t}function n(e,t,n){return n.tokenize.push(e),e(t,n)}function i(e,t){if(l=null,e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(a),"comment";if(e.eatSpace())return null;var i,r=e.next();if("`"==r||"'"==r||'"'==r||"/"==r&&!e.eol()&&" "!=e.peek())return n(o(r,"string",'"'==r||"`"==r),e,t);if("%"==r){var u,c=!1;e.eat("s")?u="atom":e.eat(/[WQ]/)?(u="string",c=!0):e.eat(/[wxqr]/)&&(u="string");var d=e.eat(/[^\w\s]/);return d?(h.propertyIsEnumerable(d)&&(d=h[d]),n(o(d,u,c,!0),e,t)):"operator"}if("#"==r)return e.skipToEnd(),"comment";if("<"==r&&(i=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return n(s(i[1]),e,t);if("0"==r)return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(r))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==r){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}return":"==r?e.eat("'")?n(o("'","atom",!1),e,t):e.eat('"')?n(o('"',"atom",!0),e,t):(e.eatWhile(/[\w\?]/),"atom"):"@"==r?(e.eat("@"),e.eatWhile(/[\w\?]/),"variable-2"):"$"==r?(e.next(),e.eatWhile(/[\w\?]/),"variable-3"):/\w/.test(r)?(e.eatWhile(/[\w\?]/),e.eat(":")?"atom":"ident"):"|"!=r||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok?/[\(\)\[\]{}\\;]/.test(r)?(l=r,null):"-"==r&&e.eat(">")?"arrow":/[=+\-\/*:\.^%<>~|]/.test(r)?(e.eatWhile(/[=+\-\/*:\.^%<>~|]/),"operator"):null:(l="|",null)}function r(){var e=1;return function(t,n){if("}"==t.peek()){if(e--,0==e)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)}else"{"==t.peek()&&e++;return i(t,n)}}function o(e,t,n,i){return function(o,s){for(var a,l=!1;null!=(a=o.next());){if(a==e&&(i||!l)){s.tokenize.pop();break}if(n&&"#"==a&&!l&&o.eat("{")){s.tokenize.push(r(arguments.callee));break}l=!l&&"\\"==a}return t}}function s(e){return function(t,n){return t.match(e)?n.tokenize.pop():t.skipToEnd(),"string"}}function a(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var l,u=t(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload"]),c=t(["def","class","case","for","while","do","module","then","catch","loop","proc","begin"]),d=t(["end","until"]),h={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[i],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){e.sol()&&(t.indented=e.indentation());var n,i=t.tokenize[t.tokenize.length-1](e,t);if("ident"==i){var r=e.current();i=u.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(r)?"tag":"def"==t.lastTok||"class"==t.lastTok||t.varList?"def":"variable",c.propertyIsEnumerable(r)?n="indent":d.propertyIsEnumerable(r)?n="dedent":"if"!=r&&"unless"!=r||e.column()!=e.indentation()||(n="indent")}return(l||i&&"comment"!=i)&&(t.lastTok=r||l||i),"|"==l&&(t.varList=!t.varList),"indent"==n||/[\(\[\{]/.test(l)?t.context={prev:t.context,type:l||i,indented:t.indented}:("dedent"==n||/[\)\]\}]/.test(l))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"==l||"operator"==i),i},indent:function(t,n){if(t.tokenize[t.tokenize.length-1]!=i)return 0;var r=n&&n.charAt(0),o=t.context,s=o.type==h[r]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return o.indented+(s?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)},electricChars:"}de"}}),CodeMirror.defineMIME("text/x-ruby","ruby"),CodeMirror.defineMode("xml",function(e,t){function n(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?n(o("atom","]]>")):null:e.match("--")?n(o("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(s(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=o("meta","?>"),"meta";var a=e.eat("/");y="";for(var l;l=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)y+=l;return y?(w=a?"closeTag":"openTag",t.tokenize=i,"tag"):"error"}if("&"==r){var u;return u=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),u?"atom":"error"}return e.eatWhile(/[^&<]/),null}function i(e,t){var i=e.next();return">"==i||"/"==i&&e.eat(">")?(t.tokenize=n,w=">"==i?"endTag":"selfcloseTag","tag"):"="==i?(w="equals",null):/[\'\"]/.test(i)?(t.tokenize=r(i),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function r(e){return function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=i;break}return"string"}}function o(e,t){return function(i,r){for(;!i.eol();){if(i.match(t)){r.tokenize=n;break}i.next()}return e}}function s(e){return function(t,i){for(var r;null!=(r=t.next());){if("<"==r)return i.tokenize=s(e+1),i.tokenize(t,i);if(">"==r){if(1==e){i.tokenize=n;break}return i.tokenize=s(e-1),i.tokenize(t,i)}}return"meta"}}function a(){for(var e=arguments.length-1;e>=0;e--)_.cc.push(arguments[e])}function l(){return a.apply(null,arguments),!0}function u(e,t){var n=C.doNotIndent.hasOwnProperty(e)||_.context&&_.context.noIndent;_.context={prev:_.context,tagName:e,indent:_.indented,startOfLine:t,noIndent:n}}function c(){_.context&&(_.context=_.context.prev)}function d(e){if("openTag"==e)return _.tagName=y,l(m,h(_.startOfLine));if("closeTag"==e){var t=!1;return _.context?_.context.tagName!=y&&(C.implicitlyClosed.hasOwnProperty(_.context.tagName.toLowerCase())&&c(),t=!_.context||_.context.tagName!=y):t=!0,t&&(k="error"),l(p(t))}return l()}function h(e){return function(t){var n=_.tagName;return _.tagName=null,"selfcloseTag"==t||"endTag"==t&&C.autoSelfClosers.hasOwnProperty(n.toLowerCase())?(f(n.toLowerCase()),l()):"endTag"==t?(f(n.toLowerCase()),u(n,e),l()):l()}}function p(e){return function(t){return e&&(k="error"),"endTag"==t?(c(),l()):(k="error",l(arguments.callee))}}function f(e){for(var t;;){if(!_.context)return;if(t=_.context.tagName.toLowerCase(),!C.contextGrabbers.hasOwnProperty(t)||!C.contextGrabbers[t].hasOwnProperty(e))return;c()}}function m(e){return"word"==e?(k="attribute",l(g,m)):"endTag"==e||"selfcloseTag"==e?a():(k="error",l(m))}function g(e){return"equals"==e?l(v,m):(C.allowMissing?"word"==e&&(k="attribute"):k="error","endTag"==e||"selfcloseTag"==e?a():l())}function v(e){return"string"==e?l(b):"word"==e&&C.allowUnquoted?(k="string",l()):(k="error","endTag"==e||"selfCloseTag"==e?a():l())}function b(e){return"string"==e?l(b):a()}var y,w,_,k,x=e.indentUnit,C=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},T=t.alignCDATA;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=e.indentation()),e.eatSpace())return null;k=w=y=null;var n=t.tokenize(e,t);if(t.type=w,(n||w)&&"comment"!=n)for(_=t;;){var i=t.cc.pop()||d;if(i(w||n))break}return t.startOfLine=!1,k||n},indent:function(e,t,r){var o=e.context;if(e.tokenize!=i&&e.tokenize!=n||o&&o.noIndent)return r?r.match(/^(\s*)/)[0].length:0;if(T&&/<!\[CDATA\[/.test(t))return 0;for(o&&/^<\//.test(t)&&(o=o.prev);o&&!o.startOfLine;)o=o.prev;return o?o.indent+x:0},electricChars:"/",configuration:t.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};!function(e,t){function n(e,t,n){function i(){}function r(){}i.prototype=e,r.prototype=e.subs;var o,s=new i;s.subs=new r,s.ib();for(o in t)s.subs[o]=t[o];for(o in n)s.partials[o]=n[o];return s}function i(e){return String(null===e||void 0===e?"":e)}function r(e){return e=i(e),c.test(e)?e.replace(o,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(l,"&#39;").replace(u,"&quot;"):e}e.Template=function(e,t,n,i){e=e||{},this.r=e.code||this.r,this.c=n,this.options=i,this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.ib()},e.Template.prototype={r:function(){return""},v:r,t:i,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var i=this.partials[e],r=t[i.name];if(i.instance&&i.base==r)return i.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}return r?(this.partials[e].base=r,i.subs&&(r=n(r,i.subs,i.partials)),this.partials[e].instance=r,r):null},rp:function(e,t,n,i){var r=this.ep(e,n);return r?r.ri(t,n,i):""},rs:function(e,t,n){var i=e[e.length-1];if(!d(i))return n(e,t,this),void 0;for(var r=0;r<i.length;r++)e.push(i[r]),n(e,t,this),e.pop()},s:function(e,t,n,i,r,o,s){var a;return d(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ms(e,t,n,i,r,o,s)),a=""===e||!!e,!i&&a&&t&&t.push("object"==typeof e?e:t[t.length-1]),a)},d:function(e,t,n,i){var r=e.split("."),o=this.f(r[0],t,n,i),s=null;if("."===e&&d(t[t.length-2]))return t[t.length-1];for(var a=1;a<r.length;a++)o&&"object"==typeof o&&null!=o[r[a]]?(s=o,o=o[r[a]]):o="";return i&&!o?!1:(i||"function"!=typeof o||(t.push(s),o=this.mv(o,t,n),t.pop()),o)},f:function(e,t,n,i){for(var r=!1,o=null,s=!1,a=t.length-1;a>=0;a--)if(o=t[a],o&&"object"==typeof o&&null!=o[e]){r=o[e],s=!0;break}return s?(i||"function"!=typeof r||(r=this.mv(r,t,n)),r):i?!1:""},ls:function(e,t,n,r,o){var s=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(i(e.call(t,r)),t,n)),this.options.delimiters=s,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ib:function(){this.buf=t?[]:""},ms:function(e,t,n,i,r,o,s){var a=t[t.length-1],l=e.call(a);return"function"==typeof l?i?!0:this.ls(l,a,n,this.text.substring(r,o),s):l},mv:function(e,t,n){var r=t[t.length-1],o=e.call(r);return"function"==typeof o?this.ct(i(o.call(r)),r,n):o},sub:function(e,t,n,i){var r=this.subs[e];r&&r(t,n,this,i)}};var o=/&/g,s=/</g,a=/>/g,l=/\'/g,u=/\"/g,c=/[&<>\"\']/,d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function i(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var i=1,r=e.length;r>i;i++)if(t.charAt(n+i)!=e.charAt(i))return!1;return!0}function r(t,n,i,a){var l=[],u=null,c=null,d=null;for(c=i[i.length-1];t.length>0;){if(d=t.shift(),c&&"<"==c.tag&&!(d.tag in y))throw new Error("Illegal content in < super tag.");if(e.tags[d.tag]<=e.tags.$||o(d,a))i.push(d),d.nodes=r(t,d.tag,i,a);else{if("/"==d.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+d.n);if(u=i.pop(),d.n!=u.n&&!s(d.n,u.n,a))throw new Error("Nesting error: "+u.n+" vs. "+d.n);return u.end=d.i,l}"\n"==d.tag&&(d.last=0==t.length||"\n"==t[0].tag)}l.push(d)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return l}function o(e,t){for(var n=0,i=t.length;i>n;n++)if(t[n].o==e.n)return e.tag="#",!0}function s(e,t,n){for(var i=0,r=n.length;r>i;i++)if(n[i].c==e&&n[i].o==t)return!0}function a(e){var t=[];for(var n in e)t.push('"'+u(n)+'": function(c,p,t,i) {'+e[n]+"}");return"{ "+t.join(",")+" }"}function l(e){var t=[];for(var n in e.partials)t.push('"'+u(n)+'":{name:"'+u(e.partials[n].name)+'", '+l(e.partials[n])+"}");return"partials: {"+t.join(",")+"}, subs: "+a(e.subs)}function u(e){return e.replace(b,"\\\\").replace(m,'\\"').replace(g,"\\n").replace(v,"\\r")}function c(e){return~e.indexOf(".")?"d":"f"}function d(e,t){var n="<"+(t.prefix||""),i=n+e.n+w++;return t.partials[i]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+u(i)+'",c,p,"'+(e.indent||"")+'"));',i}function h(e,t){t.code+="t.b(t.t(t."+c(e.n)+'("'+u(e.n)+'",c,p,0)));'}function p(e){return"t.b("+e+");"}var f=/\S/,m=/\"/g,g=/\n/g,v=/\r/g,b=/\\/g;e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(r,o){function s(){b.length>0&&(y.push({tag:"_t",text:new String(b)}),b="")}function a(){for(var t=!0,n=k;n<y.length;n++)if(t=e.tags[y[n].tag]<e.tags._v||"_t"==y[n].tag&&null===y[n].text.match(f),!t)return!1;return t}function l(e,t){if(s(),e&&a())for(var n,i=k;i<y.length;i++)y[i].text&&((n=y[i+1])&&">"==n.tag&&(n.indent=y[i].text.toString()),y.splice(i,1));else t||y.push({tag:"\n"});w=!1,k=y.length}function u(e,t){var i="="+C,r=e.indexOf(i,t),o=n(e.substring(e.indexOf("=",t)+1,r)).split(" ");return x=o[0],C=o[1],r+i.length-1}var c=r.length,d=0,h=1,p=2,m=d,g=null,v=null,b="",y=[],w=!1,_=0,k=0,x="{{",C="}}";for(o&&(o=o.split(" "),x=o[0],C=o[1]),_=0;c>_;_++)m==d?i(x,r,_)?(--_,s(),m=h):"\n"==r.charAt(_)?l(w):b+=r.charAt(_):m==h?(_+=x.length-1,v=e.tags[r.charAt(_+1)],g=v?r.charAt(_+1):"_v","="==g?(_=u(r,_),m=d):(v&&_++,m=p),w=_):i(C,r,_)?(y.push({tag:g,n:n(b),otag:x,ctag:C,i:"/"==g?w-x.length:_+C.length}),b="",_+=C.length-1,m=d,"{"==g&&("}}"==C?_++:t(y[y.length-1]))):b+=r.charAt(_);return l(w,!0),y};var y={_t:!0,"\n":!0,$:!0,"/":!0};e.stringify=function(t){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+l(t)+"}"};var w=0;e.generate=function(t,n,i){w=0;var r={code:"",subs:{},partials:{}};return e.walk(t,r),i.asString?this.stringify(r,n,i):this.makeTemplate(r,n,i)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,n){var i=this.makePartials(e);return i.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(i,t,this,n)},e.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=new Function("c","p","t","i",e.subs[t]);return n},e.codegen={"#":function(t,n){n.code+="if(t.s(t."+c(t.n)+'("'+u(t.n)+'",c,p,1),'+"c,p,0,"+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){'+"t.rs(c,p,"+"function(c,p,t){",e.walk(t.nodes,n),n.code+="});c.pop();}"},"^":function(t,n){n.code+="if(!t.s(t."+c(t.n)+'("'+u(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,n),n.code+="};"},">":d,"<":function(t,n){var i={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,i);var r=n.partials[d(t,n)];r.subs=i.subs,r.partials=i.partials},$:function(t,n){var i={subs:{},code:"",partials:n.partials,prefix:t.n};e.walk(t.nodes,i),n.subs[t.n]=i.code,n.inPartial||(n.code+='t.sub("'+u(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=p('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+c(e.n)+'("'+u(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=p('"'+u(e.text)+'"')},"{":h,"&":h},e.walk=function(t,n){for(var i,r=0,o=t.length;o>r;r++)i=e.codegen[t[r].tag],i&&i(t[r],n);return n},e.parse=function(e,t,n){return n=n||{},r(e,"",[],n.sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda].join("||")},e.compile=function(t,n){n=n||{};var i=e.cacheKey(t,n),r=this.cache[i];return r?r:(r=this.generate(this.parse(this.scan(t,n.delimiters),t,n),t,n),this.cache[i]=r)}}("undefined"!=typeof exports?exports:Hogan),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_feedback_correct"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback correct">'),i.b("\n"+n),i.b('  <div class="grid-65">'),i.b("\n"+n),i.b("    <p><strong>Nice!</strong> "),i.b(i.v(i.f("feedback",e,t,0))),i.b("</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-35">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-primary cc-goto">Next Task</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_feedback_wrong"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback incorrect">'),i.b("\n"+n),i.b('  <div class="grid-65">'),i.b("\n"+n),i.b("    <p><strong>Bummer!</strong> "),i.b(i.v(i.f("feedback",e,t,0))),i.b("</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-35">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-alert cc-test" data-default-text="Try again">Try again</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_results"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="grid-100">'),i.b("\n"+n),i.b('<div class="feedback neutral">'),i.b("\n"+n),i.b('  <div class="grid-65">'),i.b("\n"+n),i.b("    <p><strong>Results</strong></p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-35">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b("      <a class='button button-secondary hide-results' data-task-number='"),i.b(i.v(i.f("currentTask",e,t,0))),i.b("'>Hide</a>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.b("\n"+n),i.b("<iframe id='results-"),i.b(i.v(i.f("currentTask",e,t,0))),i.b("' class='command-results' src='"),i.b(i.v(i.f("url",e,t,0))),i.b("'>"),i.b("\n"+n),i.b("</iframe>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_task"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="contained task_view">'),i.b("\n"+n),i.b('  <div class="grid-100">'),i.b("\n"+n),i.b('    <div class="secondary-heading challenge-heading">'),i.b("\n"+n),i.b('      <div id="instructions">'),i.b("\n"+n),i.b('        <strong class="task-count">Challenge task '),i.b(i.v(i.f("task",e,t,0))),i.b(" of "),i.b(i.v(i.f("totalTasks",e,t,0))),i.b("</strong>"),i.b("\n"+n),i.b('        <img src="'),i.b(i.v(i.f("badgeUrl",e,t,0))),i.b('" style="display: none"/>'),i.b("\n"+n),i.b('        <h1 class="markdown-zone">'),i.b(i.t(i.d("taskData.body",e,t,0))),i.b("</h1>"),i.b("\n"+n),i.b("        <p>Type in your command below, then press Enter.</p>"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"),i.b("\n"+n),i.b('    <div class="workspace">'),i.b("\n"+n),i.b('      <div class="cc-workspace">'),i.b("\n"+n),i.b('        <div id="feedback">'),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b('        <div class="cc-editor-container">'),i.b("\n"+n),i.b('          <div class="terminal"></div>'),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_correct"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback correct">'),i.b("\n"+n),i.b('  <div class="grid-65">'),i.b("\n"+n),i.b("    <p><strong>Well done!</strong> "),i.b(i.v(i.f("feedback",e,t,0))),i.b("</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-35">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-primary cc-goto" data-task="'),i.b(i.v(i.f("nextTask",e,t,0))),i.b('">Next task<span class="icon icon-right-white"></span></a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_finished"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback correct">'),i.b("\n"+n),i.b('  <div class="grid-100">'),i.b("\n"+n),i.b("    <p><strong>Congrats!</strong> You completed the challenge!</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_inactive_task_failed"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback incorrect">'),i.b("\n"+n),i.b('  <div class="grid-65">'),i.b("\n"+n),i.b("    <p><strong>Oops!</strong> It looks like Task "),i.b(i.v(i.f("failedTask",e,t,0))),i.b(" is no longer passing.</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-35">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-primary cc-test" data-task="'),i.b(i.v(i.f("currentTask",e,t,0))),i.b('">Recheck work</a>'),i.b("\n"+n),i.b('      <a class="button button-alert cc-goto" data-task="'),i.b(i.v(i.f("failedTask",e,t,0))),i.b('">Go to task '),i.b(i.v(i.f("failedTaskAsWord",e,t,0))),i.b("</a>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_neutral"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback neutral">'),i.b("\n"+n),i.b('  <div class="grid-60">'),i.b("\n"+n),i.b('    <p><span class="icon icon-info"></span><strong>Important:</strong> The code you write in each task should be added to the code written in the previous task.</p>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-40">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-secondary cc-preview" data-default-text="Refresh">Refresh<span class="icon icon-resume"></span></a>'),i.b("\n"+n),i.b('      <a class="button button-secondary show-results-button"><i>Preview<span class="icon icon-view"></span></i></a>'),i.b("\n"+n),i.b('      <a class="button button-secondary show-workspace-button"><i>Editor<span class="icon icon-editor"></span></i></a>'),i.b("\n"+n),i.b('      <a class="button button-primary cc-test" data-task="'),i.b(i.v(i.f("task",e,t,0))),i.b('" data-default-text="Check work">Check work</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_wrong"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback incorrect">'),i.b("\n"+n),i.b('  <div class="grid-65">'),i.b("\n"+n),i.b("    <p><strong>Bummer!</strong> "),i.b(i.v(i.f("feedback",e,t,0))),i.b("</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-35">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-alert cc-preview" data-default-text="Refresh">Refresh<span class="icon icon-resume"></span></a>'),i.b("\n"+n),i.b('      <a class="button button-alert show-results-button"><i>Preview<span class="icon icon-view"></span></i></a>'),i.b("\n"+n),i.b('      <a class="button button-alert show-workspace-button"><i>Editor<span class="icon icon-editor"></span></i></a>'),i.b("\n"+n),i.b('      <a class="button button-primary cc-test" data-task="'),i.b(i.v(i.f("failedTask",e,t,0))),i.b('" data-default-text="Recheck work">Recheck work</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/instructions"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<strong class="task-count">Challenge task '),i.b(i.v(i.f("task",e,t,0))),i.b(" of "),i.b(i.v(i.f("totalTasks",e,t,0))),i.b("</strong>"),i.b("\n"+n),i.b('<img src="'),i.b(i.v(i.f("badgeImageUrl",e,t,0))),i.b('" style="display: none"/>'),i.b("\n"+n),i.b('<h1 class="markdown-zone"><p>'),i.b(i.t(i.f("body",e,t,0))),i.b("</p></h1>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["profile/github_repo"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<li class="grid-50 tablet-grid-50">'),i.b("\n"+n),i.b('  <div class="content-block">'),i.b("\n"+n),i.b('    <div class="content-meta">'),i.b("\n"+n),i.b('      <a href="'),i.b(i.v(i.f("repoUrl",e,t,0))),i.b('">'),i.b("\n"+n),i.b('        <span class="icon icon-github"></span>'),i.b("\n"+n),i.b("        <strong>Github Repository</strong>"),i.b("\n"+n),i.b("        <h3>"),i.b(i.v(i.f("repoName",e,t,0))),i.b("</h3>"),i.b("\n"+n),i.b("      </a>"),i.b("\n"+n),i.b('      <p class="description">'),i.b(i.v(i.f("repoDescription",e,t,0))),i.b("</p>"),i.b("\n"+n),i.b('      <div class="content-actions-container content-stats">'),i.b("\n"+n),i.b("        <ul>"),i.b("\n"+n),i.b("          <li>"),i.b("\n"+n),i.b('            <a href="'),i.b(i.v(i.f("repoForksUrl",e,t,0))),i.b('"></a>'),i.b("\n"+n),i.b("              <strong>"),i.b(i.v(i.f("repoForks",e,t,0))),i.b("</strong>"),i.b("\n"+n),i.b("              <p>Forks</p>"),i.b("\n"+n),i.b("            </a>"),i.b("\n"+n),i.b("          </li>"),i.b("\n"+n),i.b("          <li>"),i.b("\n"+n),i.b('            <a href="'),i.b(i.v(i.f("repoStargazersUrl",e,t,0))),i.b('">'),i.b("\n"+n),i.b("              <strong>"),i.b(i.v(i.f("repoStargazers",e,t,0))),i.b("</strong>"),i.b("\n"+n),i.b("              <p>Stargazers</p>"),i.b("\n"+n),i.b("            </a>"),i.b("\n"+n),i.b("          </li>"),i.b("\n"+n),i.b("        </ul>"),i.b("\n"+n),i.s(i.f("repoOwner",e,t,1),e,t,0,758,788,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("        <p>Owner</p>"),i.b("\n"+n)}),e.pop()),i.s(i.f("repoOwner",e,t,1),e,t,1,0,0,"")||(i.b("        <p>Contributor</p>"),i.b("\n"+n)),i.b("      </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</li>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/feedback"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback '),i.s(i.f("answer_passed",e,t,1),e,t,1,0,0,"")||i.b("incorrect"),i.b('">'),i.b("\n"+n),i.b('  <div class="grid-65">'),i.b("\n"+n),i.b('    <span class="icon icon-feedback"></span>'),i.b("\n"+n),i.b("    <p>"),i.b("\n"+n),i.s(i.f("answer_passed",e,t,1),e,t,0,170,238,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("      <strong>Well done!</strong> That's the correct answer."),i.b("\n"+n)}),e.pop()),i.s(i.f("answer_passed",e,t,1),e,t,1,0,0,"")||(i.b("      <strong>Bummer!</strong> Unfortunately, that answer is incorrect."),i.b("\n"+n)),i.b("    </p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-35">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a href="#" class="button button-primary'),i.s(i.f("answer_passed",e,t,1),e,t,1,0,0,"")||i.b(" button-alert"),i.b('">Next question <span class="icon icon-right-white"></span></a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/fill_in_the_blank"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<ul class="quiz-answers fill-in-blank">'),i.b("\n"+n),i.s(i.f("answers",e,t,1),e,t,0,54,274,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("  <li>"),i.b("\n"+n),i.b('    <form id="fill-in-blank">'),i.b("\n"+n),i.b("      "),i.b(i.t(i.f("answer",e,t,0))),i.b("\n"+n),i.b('      <input type="submit" value="Submit" id="submit" class="hidden">'),i.b("\n"+n),i.b("    </form>"),i.b("\n"+n),i.b('    <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button button-primary">Submit Answer</a>'),i.b("\n"+n),i.b("  </li>"),i.b("\n"+n)}),e.pop()),i.b("</ul>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/multiple_choice"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<ul class="quiz-answers multiple-choice">'),i.b("\n"+n),i.s(i.f("answers",e,t,1),e,t,0,56,198,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("  <li>"),i.b("\n"+n),i.b('    <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b("\n"+n),i.b('      <strong class="abc">'),i.b(i.t(i.f("abcd",e,t,0))),i.b("</strong>"),i.b("\n"+n),i.b('      <div class="answer">'),i.b(i.t(i.f("answer",e,t,0))),i.b("</div>"),i.b("\n"+n),i.b("    </a>"),i.b("\n"+n),i.b("  </li>"),i.b("\n"+n)}),e.pop()),i.b("</ul>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/question"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.d("question.video",e,t,1),e,t,0,19,141,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("  "),i.b(i.t(i.d("question.video",e,t,0))),i.b("\n"+n),i.b("  <script>"),i.b("\n"+n),i.b("      new Featurette.registered_features['video-player']($('#player')[0]);"),i.b("\n"+n),i.b("  </script>"),i.b("\n"+n)}),e.pop()),i.s(i.d("question.image",e,t,1),e,t,0,180,230,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<img src="'),n.b(n.v(n.d("question.image",e,t,0))),n.b('" alt="Quiz Question">')}),e.pop()),i.b("\n"+n),i.b('<strong class="question-count">Quiz question '),i.b(i.v(i.d("question.current_question",e,t,0))),i.b(" of "),i.b(i.v(i.d("question.total_questions",e,t,0))),i.b("</strong>"),i.b("\n"+n),i.b("<h1>"),i.b(i.t(i.d("question.question",e,t,0))),i.b("</h1>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/score"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="module quiz-score">'),i.b("\n"+n),i.b('  <div class="contained secondary">'),i.b("\n"+n),i.b('    <ul class="quiz-answers-breakdown">'),i.b("\n"+n),i.b('      <li class="correct'),i.s(i.d("score.answers_correct",e,t,1),e,t,0,158,165,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(" active")}),e.pop()),i.b(' grid-50 tablet-grid-50 mobile-grid-50 grid-parent">'),i.b("\n"+n),i.b("        <strong>"),i.b(i.v(i.d("score.answers_correct",e,t,0))),i.b("</strong>"),i.b("\n"+n),i.b("        <p>Correct</p>"),i.b("\n"+n),i.b("      </li>"),i.b("\n"+n),i.b('      <li class="incorrect'),i.s(i.d("score.answers_incorrect",e,t,1),e,t,0,384,391,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(" active")}),e.pop()),i.b(' grid-50 tablet-grid-50 mobile-grid-50 grid-parent">'),i.b("\n"+n),i.b("        <strong>"),i.b(i.v(i.d("score.answers_incorrect",e,t,0))),i.b("</strong>"),i.b("\n"+n),i.b("        <p>Incorrect</p>"),i.b("\n"+n),i.b("      </li>"),i.b("\n"+n),i.b("    </ul>"),i.b("\n"+n),i.b('    <div class="disclaimer">'),i.b("\n"+n),i.b('      <span class="icon icon-info"></span>'),i.b("\n"+n),i.b("      <p>You need <strong>"),i.b(i.v(i.d("score.answers_to_pass",e,t,0))),i.b(" correct "),i.b(i.v(i.f("label",e,t,0))),i.b("</strong> or more to pass this quiz.</p>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/true_false"]=new Hogan.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<ul class="quiz-answers true-false">'),i.b("\n"+n),i.s(i.f("answers",e,t,1),e,t,0,51,136,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("  <li>"),i.b("\n"+n),i.b('    <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b("\n"+n),i.b("      <strong>"),i.b(i.v(i.f("answer",e,t,0))),i.b("</strong>"),i.b("\n"+n),i.b("    </a>"),i.b("\n"+n),i.b("  </li>"),i.b("\n"+n)}),e.pop()),i.b("</ul>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{});/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2013, John Dyer (http://j.hn)
* License: MIT
*
*/
var mejs=mejs||{};mejs.version="2.13.1",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>',t.firstChild.href},getScriptPath:function(e){for(var t,n,i,r,o,s,a=0,l="",u="",c=document.getElementsByTagName("script"),d=c.length,h=e.length;d>a;a++){for(r=c[a].src,n=r.lastIndexOf("/"),n>-1?(s=r.substring(n+1),o=r.substring(0,n+1)):(s=r,o=""),t=0;h>t;t++)if(u=e[t],i=s.indexOf(u),i>-1){l=o;break}if(""!==l)break}return l},secondsToTimeCode:function(e,t,n,i){"undefined"==typeof n?n=!1:"undefined"==typeof i&&(i=25);var r=Math.floor(e/3600)%24,o=Math.floor(e/60)%60,s=Math.floor(e%60),a=Math.floor((e%1*i).toFixed(3)),l=(t||r>0?(10>r?"0"+r:r)+":":"")+(10>o?"0"+o:o)+":"+(10>s?"0"+s:s)+(n?":"+(10>a?"0"+a:a):"");return l},timeCodeToSeconds:function(e,t,n,i){"undefined"==typeof n?n=!1:"undefined"==typeof i&&(i=25);var r=e.split(":"),o=parseInt(r[0],10),s=parseInt(r[1],10),a=parseInt(r[2],10),l=0,u=0;return n&&(l=parseInt(r[3])/i),u=3600*o+60*s+a+l},convertSMPTEtoSeconds:function(e){if("string"!=typeof e)return!1;e=e.replace(",",".");var t=0,n=-1!=e.indexOf(".")?e.split(".")[1].length:0,i=1;e=e.split(":").reverse();for(var r=0;r<e.length;r++)i=1,r>0&&(i=Math.pow(60,r)),t+=Number(e[r])*i;return Number(t.toFixed(n))},removeSwf:function(e){var t=document.getElementById(e);t&&/object|embed/i.test(t.nodeName)&&(mejs.MediaFeatures.isIE?(t.style.display="none",function(){4==t.readyState?mejs.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(e){var t=document.getElementById(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}},mejs.PluginDetector={hasPluginVersion:function(e,t){var n=this.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,n[0]>t[0]||n[0]==t[0]&&n[1]>t[1]||n[0]==t[0]&&n[1]==t[1]&&n[2]>=t[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,n,i,r){this.plugins[e]=this.detectPlugin(t,n,i,r)},detectPlugin:function(e,t,n,i){var r,o,s,a=[0,0,0];if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[e]){if(r=this.nav.plugins[e].description,r&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[t]||this.nav.mimeTypes[t].enabledPlugin))for(a=r.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),o=0;o<a.length;o++)a[o]=parseInt(a[o].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{s=new ActiveXObject(n),s&&(a=i(s))}catch(l){}return a}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[],n=e.GetVariable("$version");return n&&(n=n.split(" ")[1].split(","),t=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]),t}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var t=[0,0,0,0],n=function(e,t,n,i){for(;e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]);)t[n]+=i;t[n]-=i};return n(e,t,0,1),n(e,t,1,1),n(e,t,2,1e4),n(e,t,2,1e3),n(e,t,2,100),n(e,t,2,10),n(e,t,2,1),n(e,t,3,1),t}),mejs.MediaFeatures={init:function(){var e,t,n=this,i=document,r=mejs.PluginDetector.nav,o=mejs.PluginDetector.ua.toLowerCase(),s=["source","track","audio","video"];n.isiPad=null!==o.match(/ipad/i),n.isiPhone=null!==o.match(/iphone/i),n.isiOS=n.isiPhone||n.isiPad,n.isAndroid=null!==o.match(/android/i),n.isBustedAndroid=null!==o.match(/android 2\.[12]/),n.isBustedNativeHTTPS="https:"===location.protocol&&(null!==o.match(/android [12]\./)||null!==o.match(/macintosh.* version.* safari/)),n.isIE=null!==r.appName.toLowerCase().match(/trident/gi),n.isChrome=null!==o.match(/chrome/gi),n.isFirefox=null!==o.match(/firefox/gi),n.isWebkit=null!==o.match(/webkit/gi),n.isGecko=null!==o.match(/gecko/gi)&&!n.isWebkit&&!n.isIE,n.isOpera=null!==o.match(/opera/gi),n.hasTouch="ontouchstart"in window&&null!=window.ontouchstart,n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(e=0;e<s.length;e++)t=document.createElement(s[e]);n.supportsMediaTag="undefined"!=typeof t.canPlayType||n.isBustedAndroid;try{t.canPlayType("video/mp4")}catch(a){n.supportsMediaTag=!1}n.hasSemiNativeFullScreen="undefined"!=typeof t.webkitEnterFullscreen,n.hasNativeFullscreen="undefined"!=typeof t.requestFullscreen,n.hasWebkitNativeFullScreen="undefined"!=typeof t.webkitRequestFullScreen,n.hasMozNativeFullScreen="undefined"!=typeof t.mozRequestFullScreen,n.hasMsNativeFullScreen="undefined"!=typeof t.msRequestFullscreen,n.hasTrueNativeFullScreen=n.hasWebkitNativeFullScreen||n.hasMozNativeFullScreen||n.hasMsNativeFullScreen,n.nativeFullScreenEnabled=n.hasTrueNativeFullScreen,n.hasMozNativeFullScreen?n.nativeFullScreenEnabled=document.mozFullScreenEnabled:n.hasMsNativeFullScreen&&(n.nativeFullScreenEnabled=document.msFullscreenEnabled),n.isChrome&&(n.hasSemiNativeFullScreen=!1),n.hasTrueNativeFullScreen&&(n.fullScreenEventName="",n.hasWebkitNativeFullScreen?n.fullScreenEventName="webkitfullscreenchange":n.hasMozNativeFullScreen?n.fullScreenEventName="mozfullscreenchange":n.hasMsNativeFullScreen&&(n.fullScreenEventName="MSFullscreenChange"),n.isFullScreen=function(){return t.mozRequestFullScreen?i.mozFullScreen:t.webkitRequestFullScreen?i.webkitIsFullScreen:t.hasMsNativeFullScreen?null!==i.msFullscreenElement:void 0},n.requestFullScreen=function(e){n.hasWebkitNativeFullScreen?e.webkitRequestFullScreen():n.hasMozNativeFullScreen?e.mozRequestFullScreen():n.hasMsNativeFullScreen&&e.msRequestFullscreen()},n.cancelFullScreen=function(){n.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():n.hasMozNativeFullScreen?document.mozCancelFullScreen():n.hasMsNativeFullScreen&&document.msExitFullscreen()}),n.hasSemiNativeFullScreen&&o.match(/mac os x 10_5/i)&&(n.hasNativeFullScreen=!1,n.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){for(var t=this.getElementsByTagName("source");t.length>0;)this.removeChild(t[0]);if("string"==typeof e)this.src=e;else{var n,i;for(n=0;n<e.length;n++)if(i=e[n],this.canPlayType(i.type)){this.src=i.src;break}}},setVideoSize:function(e,t){this.width=e,this.height=t}},mejs.PluginMediaElement=function(e,t,n){this.id=e,this.pluginType=t,this.src=n,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(e){var t,n,i,r=mejs.plugins[this.pluginType];for(t=0;t<r.length;t++)if(i=r[t],mejs.PluginDetector.hasPluginVersion(this.pluginType,i.version))for(n=0;n<i.types.length;n++)if(e==i.types[n])return"probably";return""},positionFullscreenButton:function(e,t,n){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(e),Math.floor(t),n)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){if("string"==typeof e)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e)),this.src=mejs.Utility.absolutizeUrl(e);else{var t,n;for(t=0;t<e.length;t++)if(n=e[t],this.canPlayType(n.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(n.src)),this.src=mejs.Utility.absolutizeUrl(e);break}}},setCurrentTime:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.seekTo(e):this.pluginApi.setCurrentTime(e),this.currentTime=e)},setVolume:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.setVolume(100*e):this.pluginApi.setVolume(e),this.volume=e)},setMuted:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?(e?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=e,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(e),this.muted=e)},setVideoSize:function(e,t){this.pluginElement.style&&(this.pluginElement.style.width=e+"px",this.pluginElement.style.height=t+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},removeEventListener:function(e,t){if(!e)return this.events={},!0;var n=this.events[e];if(!n)return!0;if(!t)return this.events[e]=[],!0;for(i=0;i<n.length;i++)if(n[i]===t)return this.events[e].splice(i,1),!0;return!1},dispatchEvent:function(e){var t,n,i=this.events[e];if(i)for(n=Array.prototype.slice.call(arguments,1),t=0;t<i.length;t++)i[t].apply(null,n)},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){return this.hasAttribute(e)?this.attributes[e]:""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id),mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,n){this.pluginMediaElements[e]=t,this.htmlMediaElements[e]=n},unregisterPluginElement:function(e){delete this.pluginMediaElements[e],delete this.htmlMediaElements[e]},initPlugin:function(e){var t=this.pluginMediaElements[e],n=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id),t.pluginApi=t.pluginElement.Content.MediaElementJS}null!=t.pluginApi&&t.success&&t.success(t,n)}},fireEvent:function(e,t,n){var i,r,o,s=this.pluginMediaElements[e];if(s){i={type:t,target:s};for(r in n)s[r]=n[r],i[r]=n[r];o=n.bufferedTime||0,i.target.buffered=i.buffered={start:function(){return 0},end:function(){return o},length:1},s.dispatchEvent(i.type,i)}}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)},mejs.HtmlMediaElementShim={create:function(e,t){var n,i,r=mejs.MediaElementDefaults,o="string"==typeof e?document.getElementById(e):e,s=o.tagName.toLowerCase(),a="audio"===s||"video"===s,l=a?o.getAttribute("src"):o.getAttribute("href"),u=o.getAttribute("poster"),c=o.getAttribute("autoplay"),d=o.getAttribute("preload"),h=o.getAttribute("controls");for(i in t)r[i]=t[i];return l="undefined"==typeof l||null===l||""==l?null:l,u="undefined"==typeof u||null===u?"":u,d="undefined"==typeof d||null===d||"false"===d?"none":d,c=!("undefined"==typeof c||null===c||"false"===c),h=!("undefined"==typeof h||null===h||"false"===h),n=this.determinePlayback(o,r,mejs.MediaFeatures.supportsMediaTag,a,l),n.url=null!==n.url?mejs.Utility.absolutizeUrl(n.url):"","native"==n.method?(mejs.MediaFeatures.isBustedAndroid&&(o.src=n.url,o.addEventListener("click",function(){o.play()},!1)),this.updateNative(n,r,c,d)):""!==n.method?this.createPlugin(n,r,u,c,d,h):(this.createErrorMessage(n,r,u),this)},determinePlayback:function(e,t,n,i,r){var o,s,a,l,u,c,d,h,p,f,m,g=[],v={method:"",url:"",htmlMediaElement:e,isVideo:"audio"!=e.tagName.toLowerCase()};if("undefined"!=typeof t.type&&""!==t.type)if("string"==typeof t.type)g.push({type:t.type,url:r});else for(o=0;o<t.type.length;o++)g.push({type:t.type[o],url:r});else if(null!==r)c=this.formatType(r,e.getAttribute("type")),g.push({type:c,url:r});else for(o=0;o<e.childNodes.length;o++)u=e.childNodes[o],1==u.nodeType&&"source"==u.tagName.toLowerCase()&&(r=u.getAttribute("src"),c=this.formatType(r,u.getAttribute("type")),m=u.getAttribute("media"),(!m||!window.matchMedia||window.matchMedia&&window.matchMedia(m).matches)&&g.push({type:c,url:r}));if(!i&&g.length>0&&null!==g[0].url&&this.getTypeFromFile(g[0].url).indexOf("audio")>-1&&(v.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){return null!==e.match(/video\/(mp4|m4v)/gi)?"maybe":""}),!(!n||"auto"!==t.mode&&"auto_plugin"!==t.mode&&"native"!==t.mode||mejs.MediaFeatures.isBustedNativeHTTPS&&t.httpsBasicAuthSite===!0)){for(i||(f=document.createElement(v.isVideo?"video":"audio"),e.parentNode.insertBefore(f,e),e.style.display="none",v.htmlMediaElement=e=f),o=0;o<g.length;o++)if(""!==e.canPlayType(g[o].type).replace(/no/,"")||""!==e.canPlayType(g[o].type.replace(/mp3/,"mpeg")).replace(/no/,"")){v.method="native",v.url=g[o].url;break}if("native"===v.method&&(null!==v.url&&(e.src=v.url),"auto_plugin"!==t.mode))return v}if("auto"===t.mode||"auto_plugin"===t.mode||"shim"===t.mode)for(o=0;o<g.length;o++)for(c=g[o].type,s=0;s<t.plugins.length;s++)for(d=t.plugins[s],h=mejs.plugins[d],a=0;a<h.length;a++)if(p=h[a],null==p.version||mejs.PluginDetector.hasPluginVersion(d,p.version))for(l=0;l<p.types.length;l++)if(c==p.types[l])return v.method=d,v.url=g[o].url,v;return"auto_plugin"===t.mode&&"native"===v.method?v:(""===v.method&&g.length>0&&(v.url=g[0].url),v)},formatType:function(e,t){return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){e=e.split("?")[0];var t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video":"audio")+"/"+this.getTypeFromExtension(t)},getTypeFromExtension:function(e){switch(e){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}},createErrorMessage:function(e,t,n){var i=e.htmlMediaElement,r=document.createElement("div");r.className="me-cannotplay";try{r.style.width=i.width+"px",r.style.height=i.height+"px"}catch(o){}r.innerHTML=t.customError?t.customError:""!==n?'<a href="'+e.url+'"><img src="'+n+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>",i.parentNode.insertBefore(r,i),i.style.display="none",t.error(i)},createPlugin:function(e,t,n,i,r,o){var s,a,l,u=e.htmlMediaElement,c=1,d=1,h="me_"+e.method+"_"+mejs.meIndex++,p=new mejs.PluginMediaElement(h,e.method,e.url),f=document.createElement("div");p.tagName=u.tagName;for(var m=0;m<u.attributes.length;m++){var g=u.attributes[m];1==g.specified&&p.setAttribute(g.name,g.value)}for(a=u.parentNode;null!==a&&"body"!=a.tagName.toLowerCase();){if("p"==a.parentNode.tagName.toLowerCase()){a.parentNode.parentNode.insertBefore(a,a.parentNode);break}a=a.parentNode}switch(e.isVideo?(c=t.pluginWidth>0?t.pluginWidth:t.videoWidth>0?t.videoWidth:null!==u.getAttribute("width")?u.getAttribute("width"):t.defaultVideoWidth,d=t.pluginHeight>0?t.pluginHeight:t.videoHeight>0?t.videoHeight:null!==u.getAttribute("height")?u.getAttribute("height"):t.defaultVideoHeight,c=mejs.Utility.encodeUrl(c),d=mejs.Utility.encodeUrl(d)):t.enablePluginDebug&&(c=320,d=240),p.success=t.success,mejs.MediaPluginBridge.registerPluginElement(h,p,u),f.className="me-plugin",f.id=h+"_container",e.isVideo?u.parentNode.insertBefore(f,u):document.body.insertBefore(f,document.body.childNodes[0]),l=["id="+h,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(i?"true":"false"),"preload="+r,"width="+c,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+d,"pseudostreamstart="+t.pseudoStreamingStartQueryParam],null!==e.url&&("flash"==e.method?l.push("file="+mejs.Utility.encodeUrl(e.url)):l.push("file="+e.url)),t.enablePluginDebug&&l.push("debug=true"),t.enablePluginSmoothing&&l.push("smoothing=true"),t.enablePseudoStreaming&&l.push("pseudostreaming=true"),o&&l.push("controls=true"),t.pluginVars&&(l=l.concat(t.pluginVars)),e.method){case"silverlight":f.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+h+'" name="'+h+'" width="'+c+'" height="'+d+'" class="mejs-shim">'+'<param name="initParams" value="'+l.join(",")+'" />'+'<param name="windowless" value="true" />'+'<param name="background" value="black" />'+'<param name="minRuntimeVersion" value="3.0.0.0" />'+'<param name="autoUpgrade" value="true" />'+'<param name="source" value="'+t.pluginPath+t.silverlightName+'" />'+"</object>";break;case"flash":mejs.MediaFeatures.isIE?(s=document.createElement("div"),f.appendChild(s),s.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+h+'" width="'+c+'" height="'+d+'" class="mejs-shim">'+'<param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" />'+'<param name="flashvars" value="'+l.join("&amp;")+'" />'+'<param name="quality" value="high" />'+'<param name="bgcolor" value="#000000" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+"</object>"):f.innerHTML='<embed id="'+h+'" name="'+h+'" '+'play="true" '+'loop="false" '+'quality="high" '+'bgcolor="#000000" '+'wmode="transparent" '+'allowScriptAccess="always" '+'allowFullScreen="true" '+'type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" '+'src="'+t.pluginPath+t.flashName+'" '+'flashvars="'+l.join("&")+'" '+'width="'+c+'" '+'height="'+d+'" '+'class="mejs-shim"></embed>';break;case"youtube":var v=e.url.substr(e.url.lastIndexOf("=")+1);youtubeSettings={container:f,containerId:f.id,pluginMediaElement:p,pluginId:h,videoId:v,height:d,width:c},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":p.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1),f.innerHTML='<iframe src="http://player.vimeo.com/video/'+p.vimeoid+'?portrait=0&byline=0&title=0" width="'+c+'" height="'+d+'" frameborder="0" class="mejs-shim"></iframe>'}return u.style.display="none",u.removeAttribute("autoplay"),p},updateNative:function(e,t){var n,i=e.htmlMediaElement;for(n in mejs.HtmlMediaElement)i[n]=mejs.HtmlMediaElement[n];return t.success(i,i),i}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="//www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(e){this.isLoaded?this.createIframe(e):(this.loadIframeApi(),this.iframeQueue.push(e))},createIframe:function(e){var t=e.pluginMediaElement,n=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=n,mejs.MediaPluginBridge.initPlugin(e.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(n,t,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,n,t)}}})},createEvent:function(e,t,n){var i={type:n,target:t};if(e&&e.getDuration){t.currentTime=i.currentTime=e.getCurrentTime(),t.duration=i.duration=e.getDuration(),i.paused=t.paused,i.ended=t.ended,i.muted=e.isMuted(),i.volume=e.getVolume()/100,i.bytesTotal=e.getVideoBytesTotal(),i.bufferedBytes=e.getVideoBytesLoaded();var r=i.bufferedBytes/i.bytesTotal*i.duration;i.target.buffered=i.buffered={start:function(){return 0},end:function(){return r},length:1}}t.dispatchEvent(i.type,i)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var e=this.iframeQueue.pop();this.createIframe(e)}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,n="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(t=document.createElement("div"),e.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'" class="mejs-shim">'+'<param name="movie" value="'+n+'" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+"</object>"):e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+n+'" '+'width="'+e.width+'" height="'+e.height+'" style="visibility: visible; " class="mejs-shim">'+'<param name="allowScriptAccess" value="always">'+'<param name="wmode" value="transparent">'+"</object>"},flashReady:function(e){var t=this.flashPlayers[e],n=document.getElementById(e),i=t.pluginMediaElement;i.pluginApi=i.pluginElement=n,mejs.MediaPluginBridge.initPlugin(e),n.cueVideoById(t.videoId);var r=t.containerId+"_callback";window[r]=function(e){mejs.YouTubeApi.handleStateChange(e,n,i)},n.addEventListener("onStateChange",r),setInterval(function(){mejs.YouTubeApi.createEvent(n,i,"timeupdate")},250)},handleStateChange:function(e,t,n){switch(e){case-1:n.paused=!0,n.ended=!0,mejs.YouTubeApi.createEvent(t,n,"loadedmetadata");break;case 0:n.paused=!1,n.ended=!0,mejs.YouTubeApi.createEvent(t,n,"ended");break;case 1:n.paused=!1,n.ended=!1,mejs.YouTubeApi.createEvent(t,n,"play"),mejs.YouTubeApi.createEvent(t,n,"playing");break;case 2:n.paused=!0,n.ended=!1,mejs.YouTubeApi.createEvent(t,n,"pause");break;case 3:mejs.YouTubeApi.createEvent(t,n,"progress");break;case 5:}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(e,t){"use strict";var n={locale:{language:"",strings:{}},methods:{}};n.locale.getLanguage=function(){return n.locale.language||navigator.language},"undefined"!=typeof mejsL10n&&(n.locale.language=mejsL10n.language),n.locale.INIT_LANGUAGE=n.locale.getLanguage(),n.methods.checkPlain=function(e){var t,n,i={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};e=String(e);for(t in i)i.hasOwnProperty(t)&&(n=new RegExp(t,"g"),e=e.replace(n,i[t]));return e},n.methods.formatString=function(e,t){for(var i in t){switch(i.charAt(0)){case"@":t[i]=n.methods.checkPlain(t[i]);break;case"!":break;case"%":default:t[i]='<em class="placeholder">'+n.methods.checkPlain(t[i])+"</em>"}e=e.replace(i,t[i])}return e},n.methods.t=function(e,t,i){return n.locale.strings&&n.locale.strings[i.context]&&n.locale.strings[i.context][e]&&(e=n.locale.strings[i.context][e]),t&&(e=n.methods.formatString(e,t)),e},n.t=function(e,t,i){if("string"==typeof e&&e.length>0){var r=n.locale.getLanguage();return i=i||{context:r},n.methods.t(e,t,i)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},t.i18n=n}(document,mejs),function(e){"use strict";"undefined"!=typeof mejsL10n&&(e[mejsL10n.language]=mejsL10n.strings)}(mejs.i18n.locale.strings),function(e){"use strict";e.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schließen"}}(mejs.i18n.locale.strings),function(e){"use strict";e.zh={Fullscreen:"全螢幕","Go Fullscreen":"全屏模式","Turn off Fullscreen":"退出全屏模式",Close:"關閉"}}(mejs.i18n.locale.strings),/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2013, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof ender&&(mejs.$=ender),function(e){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return.05*e.duration},defaultSeekForwardInterval:function(e){return.05*e.duration},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,t){t.paused||t.ended?t.play():t.pause()}},{keys:[38],action:function(e,t){var n=Math.min(t.volume+.1,1);t.setVolume(n)}},{keys:[40],action:function(e,t){var n=Math.max(t.volume-.1,0);t.setVolume(n)}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var n=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(n)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var n=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(n)}}},{keys:[70],action:function(e){"undefined"!=typeof e.enterFullScreen&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(t,n){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(t,n);var i=this;return i.$media=i.$node=e(t),i.node=i.media=i.$media[0],"undefined"!=typeof i.node.player?i.node.player:(i.node.player=i,"undefined"==typeof n&&(n=i.$node.data("mejsoptions")),i.options=e.extend({},mejs.MepDefaults,n),i.id="mep_"+mejs.mepIndex++,mejs.players[i.id]=i,i.init(),i)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var t=this,n=mejs.MediaFeatures,i=e.extend(!0,{},t.options,{success:function(e,n){t.meReady(e,n)},error:function(e){t.handleError(e)}}),r=t.media.tagName.toLowerCase();if(t.isDynamic="audio"!==r&&"video"!==r,t.isVideo=t.isDynamic?t.options.isVideo:"audio"!==r&&t.options.isVideo,n.isiPad&&t.options.iPadUseNativeControls||n.isiPhone&&t.options.iPhoneUseNativeControls)t.$media.attr("controls","controls"),n.isiPad&&null!==t.media.getAttribute("autoplay")&&(t.media.load(),t.media.play());else if(n.isAndroid&&t.options.AndroidUseNativeControls);else{if(t.$media.removeAttr("controls"),t.container=e('<div id="'+t.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'">'+'<div class="mejs-inner">'+'<div class="mejs-mediaelement"></div>'+'<div class="mejs-layers"></div>'+'<div class="mejs-controls"></div>'+'<div class="mejs-clear"></div>'+"</div>"+"</div>").addClass(t.$media[0].className).insertBefore(t.$media),t.container.addClass((n.isAndroid?"mejs-android ":"")+(n.isiOS?"mejs-ios ":"")+(n.isiPad?"mejs-ipad ":"")+(n.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio ")),n.isiOS){var o=t.$media.clone();t.container.find(".mejs-mediaelement").append(o),t.$media.remove(),t.$node=t.$media=o,t.node=t.media=o[0]}else t.container.find(".mejs-mediaelement").append(t.$media);t.controls=t.container.find(".mejs-controls"),t.layers=t.container.find(".mejs-layers");var s=t.isVideo?"video":"audio",a=s.substring(0,1).toUpperCase()+s.substring(1);t.width=t.options[s+"Width"]>0||t.options[s+"Width"].toString().indexOf("%")>-1?t.options[s+"Width"]:""!==t.media.style.width&&null!==t.media.style.width?t.media.style.width:null!==t.media.getAttribute("width")?t.$media.attr("width"):t.options["default"+a+"Width"],t.height=t.options[s+"Height"]>0||t.options[s+"Height"].toString().indexOf("%")>-1?t.options[s+"Height"]:""!==t.media.style.height&&null!==t.media.style.height?t.media.style.height:null!==t.$media[0].getAttribute("height")?t.$media.attr("height"):t.options["default"+a+"Height"],t.setPlayerSize(t.width,t.height),i.pluginWidth=t.width,i.pluginHeight=t.height}mejs.MediaElement(t.$media[0],i),"undefined"!=typeof t.container&&t.controlsAreVisible&&t.container.trigger("controlsshown")},showControls:function(e){var t=this;e="undefined"==typeof e||e,t.controlsAreVisible||(e?(t.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0,t.container.trigger("controlsshown")}),t.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})):(t.controls.css("visibility","visible").css("display","block"),t.container.find(".mejs-control").css("visibility","visible").css("display","block"),t.controlsAreVisible=!0,t.container.trigger("controlsshown")),t.setControlsSize())},hideControls:function(t){var n=this;t="undefined"==typeof t||t,n.controlsAreVisible&&!n.options.alwaysShowControls&&(t?(n.controls.stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1,n.container.trigger("controlshidden")}),n.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block")})):(n.controls.css("visibility","hidden").css("display","block"),n.container.find(".mejs-control").css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1,n.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(e){var t=this;e="undefined"!=typeof e?e:1500,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},e)},killControlsTimer:function(){var e=this;null!==e.controlsTimer&&(clearTimeout(e.controlsTimer),delete e.controlsTimer,e.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var e=this;e.killControlsTimer(),e.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var e=this;e.showControls(!1),e.controlsEnabled=!0},meReady:function(e,t){var n,i,r=this,o=mejs.MediaFeatures,s=t.getAttribute("autoplay"),a=!("undefined"==typeof s||null===s||"false"===s);if(!r.created){if(r.created=!0,r.media=e,r.domNode=t,!(o.isAndroid&&r.options.AndroidUseNativeControls||o.isiPad&&r.options.iPadUseNativeControls||o.isiPhone&&r.options.iPhoneUseNativeControls)){r.buildposter(r,r.controls,r.layers,r.media),r.buildkeyboard(r,r.controls,r.layers,r.media),r.buildoverlays(r,r.controls,r.layers,r.media),r.findTracks();for(n in r.options.features)if(i=r.options.features[n],r["build"+i])try{r["build"+i](r,r.controls,r.layers,r.media)}catch(l){}r.container.trigger("controlsready"),r.setPlayerSize(r.width,r.height),r.setControlsSize(),r.isVideo&&(mejs.MediaFeatures.hasTouch?r.$media.bind("touchstart",function(){r.controlsAreVisible?r.hideControls(!1):r.controlsEnabled&&r.showControls(!1)}):(mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){r.options.clickToPlayPause&&(r.media.paused?r.media.play():r.media.pause())},r.media.addEventListener("click",r.clickToPlayPauseCallback,!1),r.container.bind("mouseenter mouseover",function(){r.controlsEnabled&&(r.options.alwaysShowControls||(r.killControlsTimer("enter"),r.showControls(),r.startControlsTimer(2500)))}).bind("mousemove",function(){r.controlsEnabled&&(r.controlsAreVisible||r.showControls(),r.options.alwaysShowControls||r.startControlsTimer(2500))}).bind("mouseleave",function(){r.controlsEnabled&&(r.media.paused||r.options.alwaysShowControls||r.startControlsTimer(1e3))})),r.options.hideVideoControlsOnLoad&&r.hideControls(!1),a&&!r.options.alwaysShowControls&&r.hideControls(),r.options.enableAutosize&&r.media.addEventListener("loadedmetadata",function(e){r.options.videoHeight<=0&&null===r.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(r.setPlayerSize(e.target.videoWidth,e.target.videoHeight),r.setControlsSize(),r.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1)),e.addEventListener("play",function(){var e;for(e in mejs.players){var t=mejs.players[e];t.id==r.id||!r.options.pauseOtherPlayers||t.paused||t.ended||t.pause(),t.hasFocus=!1}r.hasFocus=!0},!1),r.media.addEventListener("ended",function(){if(r.options.autoRewind)try{r.media.setCurrentTime(0)}catch(e){}r.media.pause(),r.setProgressRail&&r.setProgressRail(),r.setCurrentRail&&r.setCurrentRail(),r.options.loop?r.media.play():!r.options.alwaysShowControls&&r.controlsEnabled&&r.showControls()},!1),r.media.addEventListener("loadedmetadata",function(){r.updateDuration&&r.updateDuration(),r.updateCurrent&&r.updateCurrent(),r.isFullScreen||(r.setPlayerSize(r.width,r.height),r.setControlsSize())},!1),setTimeout(function(){r.setPlayerSize(r.width,r.height),r.setControlsSize()},50),r.globalBind("resize",function(){r.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||r.setPlayerSize(r.width,r.height),r.setControlsSize()}),"youtube"==r.media.pluginType&&r.container.find(".mejs-overlay-play").hide()}a&&"native"==e.pluginType&&(e.load(),e.play()),r.options.success&&("string"==typeof r.options.success?window[r.options.success](r.media,r.domNode,r):r.options.success(r.media,r.domNode,r))}},handleError:function(e){var t=this;t.controls.hide(),t.options.error&&t.options.error(e)},setPlayerSize:function(t,n){var i=this;if("undefined"!=typeof t&&(i.width=t),"undefined"!=typeof n&&(i.height=n),i.height.toString().indexOf("%")>0||"100%"===i.$node.css("max-width")||1===parseInt(i.$node.css("max-width").replace(/px/,""),10)/i.$node.offsetParent().width()||i.$node[0].currentStyle&&"100%"===i.$node[0].currentStyle.maxWidth){var r=i.isVideo?i.media.videoWidth&&i.media.videoWidth>0?i.media.videoWidth:i.options.defaultVideoWidth:i.options.defaultAudioWidth,o=i.isVideo?i.media.videoHeight&&i.media.videoHeight>0?i.media.videoHeight:i.options.defaultVideoHeight:i.options.defaultAudioHeight,s=i.container.parent().closest(":visible").width(),a=i.isVideo||!i.options.autosizeProgress?parseInt(s*o/r,10):o;"body"===i.container.parent()[0].tagName.toLowerCase()&&(s=e(window).width(),a=e(window).height()),0!=a&&0!=s&&(i.container.width(s).height(a),i.$media.add(i.container.find(".mejs-shim")).width("100%").height("100%"),i.isVideo&&i.media.setVideoSize&&i.media.setVideoSize(s,a),i.layers.children(".mejs-layer").width("100%").height("100%"))}else i.container.width(i.width).height(i.height),i.layers.children(".mejs-layer").width(i.width).height(i.height);var l=i.layers.find(".mejs-overlay-play"),u=l.find(".mejs-overlay-button");l.height(i.container.height()-i.controls.height()),u.css("margin-top","-"+(u.height()/2-i.controls.height()/2).toString()+"px")},setControlsSize:function(){var t=this,n=0,i=0,r=t.controls.find(".mejs-time-rail"),o=t.controls.find(".mejs-time-total"),s=(t.controls.find(".mejs-time-current"),t.controls.find(".mejs-time-loaded"),r.siblings());t.options&&!t.options.autosizeProgress&&(i=parseInt(r.css("width"))),0!==i&&i||(s.each(function(){var t=e(this);"absolute"!=t.css("position")&&t.is(":visible")&&(n+=e(this).outerWidth(!0))}),i=t.controls.width()-n-(r.outerWidth(!0)-r.width())),r.width(i),o.width(i-(o.outerWidth(!0)-o.width())),t.setProgressRail&&t.setProgressRail(),t.setCurrentRail&&t.setCurrentRail()},buildposter:function(t,n,i,r){var o=this,s=e('<div class="mejs-poster mejs-layer"></div>').appendTo(i),a=t.$media.attr("poster");""!==t.options.poster&&(a=t.options.poster),""!==a&&null!=a?o.setPoster(a):s.hide(),r.addEventListener("play",function(){s.hide()},!1),t.options.showPosterWhenEnded&&t.options.autoRewind&&r.addEventListener("ended",function(){s.show()},!1)},setPoster:function(t){var n=this,i=n.container.find(".mejs-poster"),r=i.find("img");0==r.length&&(r=e('<img width="100%" height="100%" />').appendTo(i)),r.attr("src",t),i.css({"background-image":"url("+t+")"})},buildoverlays:function(t,n,i,r){var o=this;if(t.isVideo){var s=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(i),a=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(i),l=e('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(i).click(function(){o.options.clickToPlayPause&&(r.paused?r.play():r.pause())});r.addEventListener("play",function(){l.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("playing",function(){l.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("seeking",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("seeked",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),r.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||l.show()},!1),r.addEventListener("waiting",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("loadeddata",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("canplay",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),r.addEventListener("error",function(){s.hide(),n.find(".mejs-time-buffering").hide(),a.show(),a.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(t,n,i,r){var o=this;o.globalBind("keydown",function(e){if(t.hasFocus&&t.options.enableKeyboard)for(var n=0,i=t.options.keyActions.length;i>n;n++)for(var o=t.options.keyActions[n],s=0,a=o.keys.length;a>s;s++)if(e.keyCode==o.keys[s])return e.preventDefault(),o.action(t,r,e.keyCode),!1;return!0}),o.globalBind("click",function(n){0==e(n.target).closest(".mejs-container").length&&(t.hasFocus=!1)})},findTracks:function(){var t=this,n=t.$media.find("track");t.tracks=[],n.each(function(n,i){i=e(i),t.tracks.push({srclang:i.attr("srclang")?i.attr("srclang").toLowerCase():"",src:i.attr("src"),kind:i.attr("kind"),label:i.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){this.media.load()},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e,t,n=this;for(e in n.options.features)if(t=n.options.features[e],n["clean"+t])try{n["clean"+t](n)}catch(i){}n.isDynamic?n.$node.insertBefore(n.container):(n.$media.prop("controls",!0),n.$node.clone().show().insertBefore(n.container),n.$node.remove()),"native"!==n.media.pluginType&&n.media.remove(),delete mejs.players[n.id],n.container.remove(),n.globalUnbind(),delete n.node.player}},function(){function t(t,i){var r={d:[],w:[]};return e.each((t||"").split(" "),function(e,t){var o=t+"."+i;0===o.indexOf(".")?(r.d.push(o),r.w.push(o)):r[n.test(t)?"w":"d"].push(o)}),r.d=r.d.join(" "),r.w=r.w.join(" "),r}var n=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(n,i,r){var o=this;n=t(n,o.id),n.d&&e(document).bind(n.d,i,r),n.w&&e(window).bind(n.w,i,r)},mejs.MediaElementPlayer.prototype.globalUnbind=function(n,i){var r=this;n=t(n,r.id),n.d&&e(document).unbind(n.d,i),n.w&&e(window).unbind(n.w,i)}}(),"undefined"!=typeof jQuery&&(jQuery.fn.mediaelementplayer=function(e){return e===!1?this.each(function(){var e=jQuery(this).data("mediaelementplayer");e&&e.remove(),jQuery(this).removeData("mediaelementplayer")}):this.each(function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,e))}),this}),e(document).ready(function(){e(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(e){e.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")}),e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,n,i,r){var o=this,s=e('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+o.id+'" title="'+o.options.playpauseText+'" aria-label="'+o.options.playpauseText+'"></button>'+"</div>").appendTo(n).click(function(e){return e.preventDefault(),r.paused?r.play():r.pause(),!1});r.addEventListener("play",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1),r.addEventListener("playing",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1),r.addEventListener("pause",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1),r.addEventListener("paused",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{stopText:"Stop"}),e.extend(MediaElementPlayer.prototype,{buildstop:function(t,n,i,r){var o=this;e('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+o.id+'" title="'+o.options.stopText+'" aria-label="'+o.options.stopText+'"></button>'+"</div>").appendTo(n).click(function(){r.paused||r.pause(),r.currentTime>0&&(r.setCurrentTime(0),r.pause(),n.find(".mejs-time-current").width("0px"),n.find(".mejs-time-handle").css("left","0px"),n.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),n.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),i.find(".mejs-poster").show())})}})}(mejs.$),function(e){e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,n,i,r){e('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(n),n.find(".mejs-time-buffering").hide();var o=this,s=n.find(".mejs-time-total"),a=n.find(".mejs-time-loaded"),l=n.find(".mejs-time-current"),u=n.find(".mejs-time-handle"),c=n.find(".mejs-time-float"),d=n.find(".mejs-time-float-current"),h=function(e){var t=e.pageX,n=s.offset(),i=s.outerWidth(!0),o=0,a=0,l=0;r.duration&&(t<n.left?t=n.left:t>i+n.left&&(t=i+n.left),l=t-n.left,o=l/i,a=.02>=o?0:o*r.duration,p&&a!==r.currentTime&&r.setCurrentTime(a),mejs.MediaFeatures.hasTouch||(c.css("left",l),d.html(mejs.Utility.secondsToTimeCode(a)),c.show()))},p=!1,f=!1;s.bind("mousedown",function(e){return 1===e.which?(p=!0,h(e),o.globalBind("mousemove.dur",function(e){h(e)}),o.globalBind("mouseup.dur",function(){p=!1,c.hide(),o.globalUnbind(".dur")}),!1):void 0}).bind("mouseenter",function(){f=!0,o.globalBind("mousemove.dur",function(e){h(e)}),mejs.MediaFeatures.hasTouch||c.show()}).bind("mouseleave",function(){f=!1,p||(o.globalUnbind(".dur"),c.hide())}),r.addEventListener("progress",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),r.addEventListener("timeupdate",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),o.loaded=a,o.total=s,o.current=l,o.handle=u},setProgressRail:function(e){var t=this,n=void 0!=e?e.target:t.media,i=null;n&&n.buffered&&n.buffered.length>0&&n.buffered.end&&n.duration?i=n.buffered.end(0)/n.duration:n&&void 0!=n.bytesTotal&&n.bytesTotal>0&&void 0!=n.bufferedBytes?i=n.bufferedBytes/n.bytesTotal:e&&e.lengthComputable&&0!=e.total&&(i=e.loaded/e.total),null!==i&&(i=Math.min(1,Math.max(0,i)),t.loaded&&t.total&&t.loaded.width(t.total.width()*i))},setCurrentRail:function(){var e=this;if(void 0!=e.media.currentTime&&e.media.duration&&e.total&&e.handle){var t=Math.round(e.total.width()*e.media.currentTime/e.media.duration),n=t-Math.round(e.handle.outerWidth(!0)/2);e.current.width(t),e.handle.css("left",n)}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,n,i,r){var o=this;e('<div class="mejs-time"><span class="mejs-currenttime">'+(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span>"+"</div>").appendTo(n),o.currenttime=o.controls.find(".mejs-currenttime"),r.addEventListener("timeupdate",function(){t.updateCurrent()},!1)},buildduration:function(t,n,i,r){var o=this;n.children().last().find(".mejs-currenttime").length>0?e(o.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(o.options.duration>0?mejs.Utility.secondsToTimeCode(o.options.duration,o.options.alwaysShowHours||o.media.duration>3600,o.options.showTimecodeFrameCount,o.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(n.find(".mejs-time")):(n.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),e('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(o.options.duration>0?mejs.Utility.secondsToTimeCode(o.options.duration,o.options.alwaysShowHours||o.media.duration>3600,o.options.showTimecodeFrameCount,o.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>"+"</div>").appendTo(n)),o.durationD=o.controls.find(".mejs-duration"),r.addEventListener("timeupdate",function(){t.updateDuration()},!1)},updateCurrent:function(){var e=this;e.currenttime&&e.currenttime.html(mejs.Utility.secondsToTimeCode(e.media.currentTime,e.options.alwaysShowHours||e.media.duration>3600,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))},updateDuration:function(){var e=this;e.container.toggleClass("mejs-long-video",e.media.duration>3600),e.durationD&&(e.options.duration>0||e.media.duration)&&e.durationD.html(mejs.Utility.secondsToTimeCode(e.options.duration>0?e.options.duration:e.media.duration,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,n,i,r){if(!mejs.MediaFeatures.hasTouch||!this.options.hideVolumeOnTouchDevices){var o=this,s=o.isVideo?o.options.videoVolume:o.options.audioVolume,a="horizontal"==s?e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+o.id+'" title="'+o.options.muteText+'" aria-label="'+o.options.muteText+'"></button>'+"</div>"+'<div class="mejs-horizontal-volume-slider">'+'<div class="mejs-horizontal-volume-total"></div>'+'<div class="mejs-horizontal-volume-current"></div>'+'<div class="mejs-horizontal-volume-handle"></div>'+"</div>").appendTo(n):e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+o.id+'" title="'+o.options.muteText+'" aria-label="'+o.options.muteText+'"></button>'+'<div class="mejs-volume-slider">'+'<div class="mejs-volume-total"></div>'+'<div class="mejs-volume-current"></div>'+'<div class="mejs-volume-handle"></div>'+"</div>"+"</div>").appendTo(n),l=o.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),u=o.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),c=o.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),d=o.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),h=function(e,t){if(!l.is(":visible")&&"undefined"==typeof t)return l.show(),h(e,!0),l.hide(),void 0;if(e=Math.max(0,e),e=Math.min(e,1),0==e?a.removeClass("mejs-mute").addClass("mejs-unmute"):a.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==s){var n=u.height(),i=u.position(),r=n-n*e;d.css("top",Math.round(i.top+r-d.height()/2)),c.height(n-r),c.css("top",i.top+r)}else{var o=u.width(),i=u.position(),p=o*e;d.css("left",Math.round(i.left+p-d.width()/2)),c.width(Math.round(p))}},p=function(e){var t=null,n=u.offset();if("vertical"==s){var i=u.height(),o=(parseInt(u.css("top").replace(/px/,""),10),e.pageY-n.top);if(t=(i-o)/i,0==n.top||0==n.left)return}else{var a=u.width(),l=e.pageX-n.left;t=l/a}t=Math.max(0,t),t=Math.min(t,1),h(t),0==t?r.setMuted(!0):r.setMuted(!1),r.setVolume(t)},f=!1,m=!1;a.hover(function(){l.show(),m=!0},function(){m=!1,f||"vertical"!=s||l.hide()}),l.bind("mouseover",function(){m=!0}).bind("mousedown",function(e){return p(e),o.globalBind("mousemove.vol",function(e){p(e)}),o.globalBind("mouseup.vol",function(){f=!1,o.globalUnbind(".vol"),m||"vertical"!=s||l.hide()}),f=!0,!1}),a.find("button").click(function(){r.setMuted(!r.muted)}),r.addEventListener("volumechange",function(){f||(r.muted?(h(0),a.removeClass("mejs-mute").addClass("mejs-unmute")):(h(r.volume),a.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),o.container.is(":visible")&&(h(t.options.startVolume),0===t.options.startVolume&&r.setMuted(!0),"native"===r.pluginType&&r.setVolume(t.options.startVolume))}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")}),e.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,buildfullscreen:function(t,n,i,r){if(t.isVideo){if(t.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen){var o=function(){t.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen()))};mejs.MediaFeatures.hasMozNativeFullScreen?t.globalBind(mejs.MediaFeatures.fullScreenEventName,o):t.container.bind(mejs.MediaFeatures.fullScreenEventName,o)}var s=this,a=(t.container,e('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.fullscreenText+'" aria-label="'+s.options.fullscreenText+'"></button>'+"</div>").appendTo(n));if("native"===s.media.pluginType||!s.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)a.click(function(){var e=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen;e?t.exitFullScreen():t.enterFullScreen()});else{var l=null,u=function(){var e,t=document.createElement("x"),n=document.documentElement,i=window.getComputedStyle;return"pointerEvents"in t.style?(t.style.pointerEvents="auto",t.style.pointerEvents="x",n.appendChild(t),e=i&&"auto"===i(t,"").pointerEvents,n.removeChild(t),!!e):!1}();if(u&&!mejs.MediaFeatures.isOpera){var c,d,h=!1,p=function(){if(h){for(var e in f)f[e].hide();a.css("pointer-events",""),s.controls.css("pointer-events",""),s.media.removeEventListener("click",s.clickToPlayPauseCallback),h=!1}},f={},m=["top","left","right","bottom"],g=function(){var e=a.offset().left-s.container.offset().left,t=a.offset().top-s.container.offset().top,n=a.outerWidth(!0),i=a.outerHeight(!0),r=s.container.width(),o=s.container.height();for(c in f)f[c].css({position:"absolute",top:0,left:0});f.top.width(r).height(t),f.left.width(e).height(i).css({top:t}),f.right.width(r-e-n).height(i).css({top:t,left:e+n}),f.bottom.width(r).height(o-i-t).css({top:t+i})};for(s.globalBind("resize",function(){g()}),c=0,d=m.length;d>c;c++)f[m[c]]=e('<div class="mejs-fullscreen-hover" />').appendTo(s.container).mouseover(p).hide();a.on("mouseover",function(){if(!s.isFullScreen){var e=a.offset(),n=t.container.offset();r.positionFullscreenButton(e.left-n.left,e.top-n.top,!1),a.css("pointer-events","none"),s.controls.css("pointer-events","none"),s.media.addEventListener("click",s.clickToPlayPauseCallback);for(c in f)f[c].show();g(),h=!0}}),r.addEventListener("fullscreenchange",function(){s.isFullScreen=!s.isFullScreen,s.isFullScreen?s.media.removeEventListener("click",s.clickToPlayPauseCallback):s.media.addEventListener("click",s.clickToPlayPauseCallback),p()}),s.globalBind("mousemove",function(e){if(h){var t=a.offset();(e.pageY<t.top||e.pageY>t.top+a.outerHeight(!0)||e.pageX<t.left||e.pageX>t.left+a.outerWidth(!0))&&(a.css("pointer-events",""),s.controls.css("pointer-events",""),h=!1)}})}else a.on("mouseover",function(){null!==l&&(clearTimeout(l),delete l);var e=a.offset(),n=t.container.offset();r.positionFullscreenButton(e.left-n.left,e.top-n.top,!0)}).on("mouseout",function(){null!==l&&(clearTimeout(l),delete l),l=setTimeout(function(){r.hideFullscreenButton()},1500)})}t.fullscreenBtn=a,s.globalBind("keydown",function(e){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||s.isFullScreen)&&27==e.keyCode&&t.exitFullScreen()})}},cleanfullscreen:function(e){e.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var t=this;if("native"===t.media.pluginType||!mejs.MediaFeatures.isFirefox&&!t.options.usePluginFullScreen){if(e(document.documentElement).addClass("mejs-fullscreen"),normalHeight=t.container.height(),normalWidth=t.container.width(),"native"===t.media.pluginType)if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(t.container[0]),t.isInIframe&&setTimeout(function i(){t.isNativeFullScreen&&(e(window).width()!==screen.width?t.exitFullScreen():setTimeout(i,500))},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen)return t.media.webkitEnterFullscreen(),void 0;if(t.isInIframe){var n=t.options.newWindowCallback(this);if(""!==n){if(!mejs.MediaFeatures.hasTrueNativeFullScreen)return t.pause(),window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"),void 0;setTimeout(function(){t.isNativeFullScreen||(t.pause(),window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}t.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),t.containerSizeTimeout=setTimeout(function(){t.container.css({width:"100%",height:"100%"}),t.setControlsSize()},500),"native"===t.media.pluginType?t.$media.width("100%").height("100%"):(t.container.find(".mejs-shim").width("100%").height("100%"),t.media.setVideoSize(e(window).width(),e(window).height())),t.layers.children("div").width("100%").height("100%"),t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),t.setControlsSize(),t.isFullScreen=!0}},exitFullScreen:function(){var t=this;return clearTimeout(t.containerSizeTimeout),"native"!==t.media.pluginType&&mejs.MediaFeatures.isFirefox?(t.media.setFullscreen(!1),void 0):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||t.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),e(document.documentElement).removeClass("mejs-fullscreen"),t.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===t.media.pluginType?t.$media.width(normalWidth).height(normalHeight):(t.container.find(".mejs-shim").width(normalWidth).height(normalHeight),t.media.setVideoSize(normalWidth,normalHeight)),t.layers.children("div").width(normalWidth).height(normalHeight),t.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),t.setControlsSize(),t.isFullScreen=!1,void 0)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),e.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(t,n,i,r){if(0!=t.tracks.length){var o,s=this;if(s.domNode.textTracks)for(var o=s.domNode.textTracks.length-1;o>=0;o--)s.domNode.textTracks[o].mode="hidden";t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(i).hide(),t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(i).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=e('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.tracksText+'" aria-label="'+s.options.tracksText+'"></button>'+'<div class="mejs-captions-selector">'+"<ul>"+"<li>"+'<input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" />'+'<label for="'+t.id+'_captions_none">'+mejs.i18n.t("None")+"</label>"+"</li>"+"</ul>"+"</div>"+"</div>").appendTo(n);var a=0;for(o=0;o<t.tracks.length;o++)"subtitles"==t.tracks[o].kind&&a++;for(s.options.toggleCaptionsButtonWhenOnlyOne&&1==a?t.captionsButton.on("click",function(){if(null==t.selectedTrack)var e=t.tracks[0].srclang;
else var e="none";t.setTrack(e)}):t.captionsButton.hover(function(){e(this).find(".mejs-captions-selector").css("visibility","visible")},function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")}).on("click","input[type=radio]",function(){lang=this.value,t.setTrack(lang)}),t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("controlsshown",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){r.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1,o=0;o<t.tracks.length;o++)"subtitles"==t.tracks[o].kind&&t.addTrackButton(t.tracks[o].srclang,t.tracks[o].label);t.loadNextTrack(),r.addEventListener("timeupdate",function(){t.displayCaptions()},!1),""!=t.options.slidesSelector&&(t.slidesContainer=e(t.options.slidesSelector),r.addEventListener("timeupdate",function(){t.displaySlides()},!1)),r.addEventListener("loadedmetadata",function(){t.displayChapters()},!1),t.container.hover(function(){t.hasChapters&&(t.chapters.css("visibility","visible"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))},function(){t.hasChapters&&!r.paused&&t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden"),e(this).css("display","block")})}),null!==t.node.getAttribute("autoplay")&&t.chapters.css("visibility","hidden")}},setTrack:function(e){var t,n=this;if("none"==e)n.selectedTrack=null,n.captionsButton.removeClass("mejs-captions-enabled");else for(t=0;t<n.tracks.length;t++)if(n.tracks[t].srclang==e){null==n.selectedTrack&&n.captionsButton.addClass("mejs-captions-enabled"),n.selectedTrack=n.tracks[t],n.captions.attr("lang",n.selectedTrack.srclang),n.displayCaptions();break}},loadNextTrack:function(){var e=this;e.trackToLoad++,e.trackToLoad<e.tracks.length?(e.isLoadingTrack=!0,e.loadTrack(e.trackToLoad)):(e.isLoadingTrack=!1,e.checkForTracks())},loadTrack:function(t){var n=this,i=n.tracks[t],r=function(){i.isLoaded=!0,n.enableTrackButton(i.srclang,i.label),n.loadNextTrack()};e.ajax({url:i.src,dataType:"text",success:function(e){i.entries="string"==typeof e&&/<tt\s+xml/gi.exec(e)?mejs.TrackFormatParser.dfxp.parse(e):mejs.TrackFormatParser.webvvt.parse(e),r(),"chapters"==i.kind&&n.media.addEventListener("play",function(){n.media.duration>0&&n.displayChapters(i)},!1),"slides"==i.kind&&n.setupSlides(i)},error:function(){n.loadNextTrack()}})},enableTrackButton:function(t,n){var i=this;""===n&&(n=mejs.language.codes[t]||t),i.captionsButton.find("input[value="+t+"]").prop("disabled",!1).siblings("label").html(n),i.options.startLanguage==t&&e("#"+i.id+"_captions_"+t).click(),i.adjustLanguageBox()},addTrackButton:function(t,n){var i=this;""===n&&(n=mejs.language.codes[t]||t),i.captionsButton.find("ul").append(e('<li><input type="radio" name="'+i.id+'_captions" id="'+i.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" />'+'<label for="'+i.id+"_captions_"+t+'">'+n+" (loading)"+"</label>"+"</li>")),i.adjustLanguageBox(),i.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){var e=this;e.captionsButton.find(".mejs-captions-selector").height(e.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+e.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var e=this,t=!1;if(e.options.hideCaptionsButtonWhenEmpty){for(i=0;i<e.tracks.length;i++)if("subtitles"==e.tracks[i].kind){t=!0;break}t||(e.captionsButton.hide(),e.setControlsSize())}},displayCaptions:function(){if("undefined"!=typeof this.tracks){var e,t=this,n=t.selectedTrack;if(null!=n&&n.isLoaded){for(e=0;e<n.entries.times.length;e++)if(t.media.currentTime>=n.entries.times[e].start&&t.media.currentTime<=n.entries.times[e].stop)return t.captionsText.html(n.entries.text[e]),t.captions.show().height(0),void 0;t.captions.hide()}else t.captions.hide()}},setupSlides:function(e){var t=this;t.slides=e,t.slides.entries.imgs=[t.slides.entries.text.length],t.showSlide(0)},showSlide:function(t){if("undefined"!=typeof this.tracks&&"undefined"!=typeof this.slidesContainer){var n=this,i=n.slides.entries.text[t],r=n.slides.entries.imgs[t];"undefined"==typeof r||"undefined"==typeof r.fadeIn?n.slides.entries.imgs[t]=r=e('<img src="'+i+'">').on("load",function(){r.appendTo(n.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):r.is(":visible")||r.is(":animated")||r.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if("undefined"!=typeof this.slides){var e,t=this,n=t.slides;for(e=0;e<n.entries.times.length;e++)if(t.media.currentTime>=n.entries.times[e].start&&t.media.currentTime<=n.entries.times[e].stop)return t.showSlide(e),void 0}},displayChapters:function(){var e,t=this;for(e=0;e<t.tracks.length;e++)if("chapters"==t.tracks[e].kind&&t.tracks[e].isLoaded){t.drawChapters(t.tracks[e]),t.hasChapters=!0;break}},drawChapters:function(t){var n,i,r=this,o=0,s=0;for(r.chapters.empty(),n=0;n<t.entries.times.length;n++)i=t.entries.times[n].stop-t.entries.times[n].start,o=Math.floor(100*(i/r.media.duration)),(o+s>100||n==t.entries.times.length-1&&100>o+s)&&(o=100-s),r.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[n].start+'" style="left: '+s.toString()+"%;width: "+o.toString()+'%;">'+'<div class="mejs-chapter-block'+(n==t.entries.times.length-1?" mejs-chapter-block-last":"")+'">'+'<span class="ch-title">'+t.entries.text[n]+"</span>"+'<span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[n].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[n].stop)+"</span>"+"</div>"+"</div>")),s+=o;r.chapters.find("div.mejs-chapter").click(function(){r.media.setCurrentTime(parseFloat(e(this).attr("rel"))),r.media.paused&&r.media.play()}),r.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(t){for(var n,i,r=0,o=mejs.TrackFormatParser.split2(t,/\r?\n/),s={text:[],times:[]};r<o.length;r++)if(this.pattern_identifier.exec(o[r])&&(r++,n=this.pattern_timecode.exec(o[r]),n&&r<o.length)){for(r++,i=o[r],r++;""!==o[r]&&r<o.length;)i=i+"\n"+o[r],r++;i=e.trim(i).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),s.text.push(i),s.times.push({start:0==mejs.Utility.convertSMPTEtoSeconds(n[1])?.2:mejs.Utility.convertSMPTEtoSeconds(n[1]),stop:mejs.Utility.convertSMPTEtoSeconds(n[3]),settings:n[5]})}return s}},dfxp:{parse:function(t){t=e(t).filter("tt");var n,i,r=0,o=t.children("div").eq(0),s=o.find("p"),a=t.find("#"+o.attr("style")),l={text:[],times:[]};if(a.length){var u=a.removeAttr("id").get(0).attributes;if(u.length)for(n={},r=0;r<u.length;r++)n[u[r].name.split(":")[1]]=u[r].value}for(r=0;r<s.length;r++){var c,d={start:null,stop:null,style:null};if(s.eq(r).attr("begin")&&(d.start=mejs.Utility.convertSMPTEtoSeconds(s.eq(r).attr("begin"))),!d.start&&s.eq(r-1).attr("end")&&(d.start=mejs.Utility.convertSMPTEtoSeconds(s.eq(r-1).attr("end"))),s.eq(r).attr("end")&&(d.stop=mejs.Utility.convertSMPTEtoSeconds(s.eq(r).attr("end"))),!d.stop&&s.eq(r+1).attr("begin")&&(d.stop=mejs.Utility.convertSMPTEtoSeconds(s.eq(r+1).attr("begin"))),n){c="";for(var h in n)c+=h+":"+n[h]+";"}c&&(d.style=c),0==d.start&&(d.start=.2),l.times.push(d),i=e.trim(s.eq(r).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),l.text.push(i),0==l.times.start&&(l.times.start=2)}return l}},split2:function(e,t){return e.split(t)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(e,t){var n,i=[],r="";for(n=0;n<e.length;n++)r+=e.substring(n,n+1),t.test(r)&&(i.push(r.replace(t,"")),r="");return i.push(r),i})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(e){return"undefined"==typeof e.enterFullScreen?null:e.isFullScreen?mejs.i18n.t("Turn off Fullscreen"):mejs.i18n.t("Go Fullscreen")},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},{render:function(e){return e.media.muted?mejs.i18n.t("Unmute"):mejs.i18n.t("Mute")},click:function(e){e.media.muted?e.setMuted(!1):e.setMuted(!0)}},{isSeparator:!0},{render:function(){return mejs.i18n.t("Download Video")},click:function(e){window.location.href=e.media.currentSrc}}]}),e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide(),t.container.bind("contextmenu",function(e){return t.isContextMenuEnabled?(e.preventDefault(),t.renderContextMenu(e.clientX-1,e.clientY-1),!1):void 0}),t.container.bind("click",function(){t.contextMenu.hide()}),t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},cleancontextmenu:function(e){e.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer(),e.contextMenuTimer=setTimeout(function(){e.hideContextMenu(),e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;null!=e&&(clearTimeout(e),delete e,e=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,n){for(var i=this,r="",o=i.options.contextMenuItems,s=0,a=o.length;a>s;s++)if(o[s].isSeparator)r+='<div class="mejs-contextmenu-separator"></div>';else{var l=o[s].render(i);null!=l&&(r+='<div class="mejs-contextmenu-item" data-itemindex="'+s+'" id="element-'+1e6*Math.random()+'">'+l+"</div>")}i.contextMenu.empty().append(e(r)).css({top:n,left:t}).show(),i.contextMenu.find(".mejs-contextmenu-item").each(function(){var t=e(this),n=parseInt(t.data("itemindex"),10),r=i.options.contextMenuItems[n];"undefined"!=typeof r.show&&r.show(t,i),t.click(function(){"undefined"!=typeof r.click&&r.click(i),i.contextMenu.hide()})}),setTimeout(function(){i.killControlsTimer("rev3")},100)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")}),e.extend(MediaElementPlayer.prototype,{buildpostroll:function(t,n,i){var r=this,o=r.container.find('link[rel="postroll"]').attr("href");"undefined"!=typeof o&&(t.postroll=e('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+r.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(i).hide(),r.media.addEventListener("ended",function(){e.ajax({dataType:"html",url:o,success:function(e){i.find(".mejs-postroll-layer-content").html(e)}}),t.postroll.show()},!1))}})}(mejs.$),function(){mejs.MediaElementDefaults.pluginPath="",mejs.MediaElementDefaults.flashName="https://wac.A8B5.edgecastcdn.net/80A8B5/static-assets/assets/mediaelement/flashmediaelement-2c9f3e13868796e8637977a218fc7b5b.swf"}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.onSelectChange=t(this.onSelectChange,this),this.setOptions=t(this.setOptions,this),this.onUnfocus=t(this.onUnfocus,this),this.onSelectClick=t(this.onSelectClick,this),this.onOptionClick=t(this.onOptionClick,this),this.setSelected=t(this.setSelected,this),this.select=$(e),this.select.on("change",this.onSelectChange),this.container=$("<div class='dd-container'>"),this.container.delegate("li .dd-option","click",this.onOptionClick),this.container.delegate(".dd-select","click",this.onSelectClick),this.container.insertAfter(this.select),$(document.body).on("click",this.onUnfocus),this.select.hide(),this.onSelectChange()}return e.prototype.setSelected=function(){var e,t;return t=this.select.find("option:selected"),e=$("<div>").addClass("dd-select").append(this.divForOption(t).addClass("dd-selected")).append('<span class="icon icon-chevron-down"></span>'),this.container.append(e)},e.prototype.onOptionClick=function(e){var t;return t=$(e.currentTarget),this.select.val(t.data("value")).change()},e.prototype.onSelectClick=function(e){var t;return t=this.container.find("ul"),t.is(":visible")?void 0:(e.stopPropagation(),$(e.currentTarget).trigger("open"),t.slideDown("fast").find("icon-chevron-down").removeClass("icon-chevron-down").addClass("icon-chevron-up"))},e.prototype.onUnfocus=function(){var e;return e=this.container.find("ul"),e.is(":visible")?(this.container.find(".dd-select").trigger("close"),e.hide().find("icon-chevron-up").removeClass("icon-chevron-up").addClass("icon-chevron-down")):void 0},e.prototype.setOptions=function(){var e,t,n,i,r,o;for(n=$("<ul>").addClass("dd-options dd-click-off-close"),o=this.select.find("option[value]").not(":first-child"),i=0,r=o.length;r>i;i++)t=o[i],e=this.divForOption(t).toggleClass("dd-option-selected",$(t).is(":selected")).addClass("dd-option"),n.append($("<li>").append(e));return this.container.append(n)},e.prototype.divForOption=function(e){var t;return e=$(e),t=$('<a>\n  <label class="dd-option-text '+(e.is(":first-child")?"dd-placeholder":"")+'"><span class="topic-color">&bull;</span> '+e.text()+"</label>\n</a>"),t.data("value",e.val()),e.data("skillLevel")&&t.append('<span class="dd-desc">'+e.data("skillLevel")+"</span>"),e.data("imagesrc")&&t.prepend('<div class="achievement-hero"><img class="dd-option-image" src="'+e.data("imagesrc")+'"></div>'),t},e.prototype.onSelectChange=function(){return this.container.empty(),this.setSelected(),this.setOptions(),this.container.find(".dd-select").trigger("close")},e}(),window.Slick=e}.call(this),/*!
 * Braintree End-to-End Encryption Library
 * https://www.braintreepayments.com
 * Copyright (c) 2009-2013 Braintree Payment Solutions
 *
 * JSBN
 * Copyright (c) 2005  Tom Wu
 *
 * Both Licensed under the MIT License.
 * http://opensource.org/licenses/MIT
 *
 * ASN.1 JavaScript decoder
 * Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
 * Licensed under the ISC License.
 * http://opensource.org/licenses/ISC
 */
function(){// Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
// copyright notice and this permission notice appear in all copies.
function e(t,n){t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=n)}function t(e,t,n,i,r){this.stream=e,this.header=t,this.length=n,this.tag=i,this.sub=r}function n(e){var t,n,i="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),i+=it.charAt(n>>6)+it.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=it.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=it.charAt(n>>2)+it.charAt((3&n)<<4));(3&i.length)>0;)i+=rt;return i}function i(e){var t,n,i="",r=0;for(t=0;t<e.length&&e.charAt(t)!=rt;++t)v=it.indexOf(e.charAt(t)),0>v||(0==r?(i+=c(v>>2),n=3&v,r=1):1==r?(i+=c(n<<2|v>>4),n=15&v,r=2):2==r?(i+=c(n),i+=c(v>>2),n=3&v,r=3):(i+=c(n<<2|v>>4),i+=c(15&v),r=0));return 1==r&&(i+=c(n<<2)),i}function r(e){var t,n=i(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function o(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function s(){return new o(null)}function a(e,t,n,i,r,o){for(;--o>=0;){var s=t*this[e++]+n[i]+r;r=Math.floor(s/67108864),n[i++]=67108863&s}return r}function l(e,t,n,i,r,o){for(var s=32767&t,a=t>>15;--o>=0;){var l=32767&this[e],u=this[e++]>>15,c=a*l+u*s;l=s*l+((32767&c)<<15)+n[i]+(1073741823&r),r=(l>>>30)+(c>>>15)+a*u+(r>>>30),n[i++]=1073741823&l}return r}function u(e,t,n,i,r,o){for(var s=16383&t,a=t>>14;--o>=0;){var l=16383&this[e],u=this[e++]>>14,c=a*l+u*s;l=s*l+((16383&c)<<14)+n[i]+r,r=(l>>28)+(c>>14)+a*u,n[i++]=268435455&l}return r}function c(e){return ct.charAt(e)}function d(e,t){var n=dt[e.charCodeAt(t)];return null==n?-1:n}function h(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function p(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function f(e){var t=s();return t.fromInt(e),t}function m(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return this.fromRadix(e,t),void 0;n=2}this.t=0,this.s=0;for(var i=e.length,r=!1,s=0;--i>=0;){var a=8==n?255&e[i]:d(e,i);0>a?"-"==e.charAt(i)&&(r=!0):(r=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,s+=n,s>=this.DB&&(s-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&o.ZERO.subTo(this,this)}function g(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function b(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,r=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-->0)for(a<this.DB&&(n=this[s]>>a)>0&&(r=!0,o=c(n));s>=0;)t>a?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&i,0>=a&&(a+=this.DB,--s)),n>0&&(r=!0),r&&(o+=c(n));return r?o:"0"}function y(){var e=s();return o.ZERO.subTo(this,e),e}function w(){return this.s<0?this.negate():this}function _(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function k(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function x(){return this.t<=0?0:this.DB*(this.t-1)+k(this[this.t-1]^this.s&this.DM)}function C(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function T(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function S(e,t){var n,i=e%this.DB,r=this.DB-i,o=(1<<r)-1,s=Math.floor(e/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}function E(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return t.t=0,void 0;var i=e%this.DB,r=this.DB-i,o=(1<<i)-1;t[0]=this[n]>>i;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<r,t[s-n]=this[s]>>i;i>0&&(t[this.t-n-1]|=(this.s&o)<<r),t.t=this.t-n,t.clamp()}function $(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);r>n;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=0>i?-1:0,-1>i?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()}function M(e,t){var n=this.abs(),i=e.abs(),r=n.t;for(t.t=r+i.t;--r>=0;)t[r]=0;for(r=0;r<i.t;++r)t[r+n.t]=n.am(0,i[r],t,r,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&o.ZERO.subTo(t,t)}function j(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function F(e,t,n){var i=e.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)return null!=t&&t.fromInt(0),null!=n&&this.copyTo(n),void 0;null==n&&(n=s());var a=s(),l=this.s,u=e.s,c=this.DB-k(i[i.t-1]);c>0?(i.lShiftTo(c,a),r.lShiftTo(c,n)):(i.copyTo(a),r.copyTo(n));var d=a.t,h=a[d-1];if(0!=h){var p=h*(1<<this.F1)+(d>1?a[d-2]>>this.F2:0),f=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,v=n.t,b=v-d,y=null==t?s():t;for(a.dlShiftTo(b,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),o.ONE.dlShiftTo(d,y),y.subTo(a,a);a.t<d;)a[a.t++]=0;for(;--b>=0;){var w=n[--v]==h?this.DM:Math.floor(n[v]*f+(n[v-1]+g)*m);if((n[v]+=a.am(0,w,n,b,0,d))<w)for(a.dlShiftTo(b,y),n.subTo(y,n);n[v]<--w;)n.subTo(y,n)}null!=t&&(n.drShiftTo(d,t),l!=u&&o.ZERO.subTo(t,t)),n.t=d,n.clamp(),c>0&&n.rShiftTo(c,n),0>l&&o.ZERO.subTo(n,n)}}}function A(e){var t=s();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(o.ZERO)>0&&e.subTo(t,t),t}function L(e){this.m=e}function N(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function P(e){return e}function I(e){e.divRemTo(this.m,null,e)}function D(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function z(e,t){e.squareTo(t),this.reduce(t)}function O(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=15&t*(2-(15&e)*t),t=255&t*(2-(255&e)*t),t=65535&t*(2-(65535&(65535&e)*t)),t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function W(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function H(e){var t=s();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(o.ZERO)>0&&this.m.subTo(t,t),t}function B(e){var t=s();return e.copyTo(t),this.reduce(t),t}function R(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function q(e,t){e.squareTo(t),this.reduce(t)}function V(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function U(){return 0==(this.t>0?1&this[0]:this.s)}function G(e,t){if(e>4294967295||1>e)return o.ONE;var n=s(),i=s(),r=t.convert(this),a=k(e)-1;for(r.copyTo(n);--a>=0;)if(t.sqrTo(n,i),(e&1<<a)>0)t.mulTo(i,r,n);else{var l=n;n=i,i=l}return t.revert(n)}function K(e,t){var n;return n=256>e||t.isEven()?new L(t):new W(t),this.exp(e,n)}function Q(e,t){return new o(e,t)}function X(e,t){if(t<e.length+11)return alert("Message too long for RSA"),null;for(var n=new Array,i=e.length-1;i>=0&&t>0;){var r=e.charCodeAt(i--);128>r?n[--t]=r:r>127&&2048>r?(n[--t]=128|63&r,n[--t]=192|r>>6):(n[--t]=128|63&r,n[--t]=128|63&r>>6,n[--t]=224|r>>12)}n[--t]=0;for(var s=0,a=0,l=0;t>2;)0==l&&(a=ht.random.randomWords(1,0)[0]),s=255&a>>l,l=(l+8)%32,0!=s&&(n[--t]=s);return n[--t]=2,n[--t]=0,new o(n)}function Y(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Z(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=Q(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")}function J(e){return e.modPowInt(this.e,this.n)}function et(e){var t=X(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}function tt(e){var t=this.encrypt(e);return t?n(t):null}e.prototype.get=function(e){if(void 0==e&&(e=this.pos++),e>=this.enc.length)throw"Requesting byte offset "+e+" on a stream of length "+this.enc.length;return this.enc[e]},e.prototype.hexDigits="0123456789ABCDEF",e.prototype.hexByte=function(e){return this.hexDigits.charAt(15&e>>4)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t){for(var n="",i=e;t>i;++i)switch(n+=this.hexByte(this.get(i)),15&i){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},e.prototype.parseStringISO=function(e,t){for(var n="",i=e;t>i;++i)n+=String.fromCharCode(this.get(i));return n},e.prototype.parseStringUTF=function(e,t){for(var n="",i=0,r=e;t>r;){var i=this.get(r++);n+=128>i?String.fromCharCode(i):i>191&&224>i?String.fromCharCode((31&i)<<6|63&this.get(r++)):String.fromCharCode((15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},e.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,e.prototype.parseTime=function(e,t){var n=this.parseStringISO(e,t),i=this.reTime.exec(n);return i?(n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},e.prototype.parseInteger=function(e,t){var n=t-e;if(n>4){n<<=3;var i=this.get(e);if(0==i)n-=8;else for(;128>i;)i<<=1,--n;return"("+n+" bit)"}for(var r=0,o=e;t>o;++o)r=r<<8|this.get(o);return r},e.prototype.parseBitString=function(e,t){var n=this.get(e),i=(t-e-1<<3)-n,r="("+i+" bit)";if(20>=i){var o=n;r+=" ";for(var s=t-1;s>e;--s){for(var a=this.get(s),l=o;8>l;++l)r+=1&a>>l?"1":"0";o=0}}return r},e.prototype.parseOctetString=function(e,t){var n=t-e,i="("+n+" byte) ";n>20&&(t=e+20);for(var r=e;t>r;++r)i+=this.hexByte(this.get(r));return n>20&&(i+=String.fromCharCode(8230)),i},e.prototype.parseOID=function(e,t){for(var n,i=0,r=0,o=e;t>o;++o){var s=this.get(o);i=i<<7|127&s,r+=7,128&s||(void 0==n?n=parseInt(i/40)+"."+i%40:n+="."+(r>=31?"bigint":i),i=r=0),n+=String.fromCharCode()}return n},t.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var e=this.tag>>6;1&this.tag>>5;var t=31&this.tag;switch(e){case 0:switch(t){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+t.toString(16)}case 1:return"Application_"+t.toString(16);case 2:return"["+t+"]";case 3:return"Private_"+t.toString(16)}},t.prototype.content=function(){if(void 0==this.tag)return null;var e=this.tag>>6;if(0!=e)return null==this.sub?null:"("+this.sub.length+")";var t=31&this.tag,n=this.posContent(),i=Math.abs(this.length);switch(t){case 1:return 0==this.stream.get(n)?"false":"true";case 2:return this.stream.parseInteger(n,n+i);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(n,n+i);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(n,n+i);case 6:return this.stream.parseOID(n,n+i);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(n,n+i);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(n,n+i);case 23:case 24:return this.stream.parseTime(n,n+i)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},t.prototype.print=function(e){if(void 0==e&&(e=""),document.writeln(e+this),null!=this.sub){e+="  ";for(var t=0,n=this.sub.length;n>t;++t)this.sub[t].print(e)}},t.prototype.toPrettyString=function(e){void 0==e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,32&this.tag?t+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(t+=" (encapsulates)"),t+="\n",null!=this.sub){e+="  ";for(var n=0,i=this.sub.length;i>n;++n)t+=this.sub[n].toPrettyString(e)}return t},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.decodeLength=function(e){var t=e.get(),n=127&t;if(n==t)return n;if(n>3)throw"Length over 24 bits not supported at position "+(e.pos-1);if(0==n)return-1;t=0;for(var i=0;n>i;++i)t=t<<8|e.get();return t},t.hasContent=function(n,i,r){if(32&n)return!0;if(3>n||n>4)return!1;var o=new e(r);3==n&&o.get();var s=o.get();if(1&s>>6)return!1;try{var a=t.decodeLength(o);return o.pos-r.pos+a==i}catch(l){return!1}},t.decode=function(n){n instanceof e||(n=new e(n,0));var i=new e(n),r=n.get(),o=t.decodeLength(n),s=n.pos-i.pos,a=null;if(t.hasContent(r,o,n)){var l=n.pos;if(3==r&&n.get(),a=[],o>=0){for(var u=l+o;n.pos<u;)a[a.length]=t.decode(n);if(n.pos!=u)throw"Content size is not correct for container starting at offset "+l}else try{for(;;){var c=t.decode(n);if(0==c.tag)break;a[a.length]=c}o=l-n.pos}catch(d){throw"Exception while decoding undefined length content: "+d}}else n.pos+=o;return new t(i,s,o,r,a)};var nt,it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rt="=",ot=0xdeadbeefcafe,st=15715070==(16777215&ot);st&&"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=l,nt=30):st&&"Netscape"!=navigator.appName?(o.prototype.am=a,nt=26):(o.prototype.am=u,nt=28),o.prototype.DB=nt,o.prototype.DM=(1<<nt)-1,o.prototype.DV=1<<nt;var at=52;o.prototype.FV=Math.pow(2,at),o.prototype.F1=at-nt,o.prototype.F2=2*nt-at;var lt,ut,ct="0123456789abcdefghijklmnopqrstuvwxyz",dt=new Array;for(lt="0".charCodeAt(0),ut=0;9>=ut;++ut)dt[lt++]=ut;for(lt="a".charCodeAt(0),ut=10;36>ut;++ut)dt[lt++]=ut;for(lt="A".charCodeAt(0),ut=10;36>ut;++ut)dt[lt++]=ut;L.prototype.convert=N,L.prototype.revert=P,L.prototype.reduce=I,L.prototype.mulTo=D,L.prototype.sqrTo=z,W.prototype.convert=H,W.prototype.revert=B,W.prototype.reduce=R,W.prototype.mulTo=V,W.prototype.sqrTo=q,o.prototype.copyTo=h,o.prototype.fromInt=p,o.prototype.fromString=m,o.prototype.clamp=g,o.prototype.dlShiftTo=C,o.prototype.drShiftTo=T,o.prototype.lShiftTo=S,o.prototype.rShiftTo=E,o.prototype.subTo=$,o.prototype.multiplyTo=M,o.prototype.squareTo=j,o.prototype.divRemTo=F,o.prototype.invDigit=O,o.prototype.isEven=U,o.prototype.exp=G,o.prototype.toString=b,o.prototype.negate=y,o.prototype.abs=w,o.prototype.compareTo=_,o.prototype.bitLength=x,o.prototype.mod=A,o.prototype.modPowInt=K,o.ZERO=f(0),o.ONE=f(1),Y.prototype.doPublic=J,Y.prototype.setPublic=Z,Y.prototype.encrypt=et,Y.prototype.encrypt_b64=tt;var ht={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};"undefined"!=typeof module&&module.exports&&(module.exports=ht),ht.cipher.aes=function(e){this._tables[0][0][0]||this._precompute();var t,n,i,r,o,s=this._tables[0][4],a=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new ht.exception.invalid("invalid aes key size");for(this._key=[r=e.slice(0),o=[]],t=l;4*l+28>t;t++)i=r[t-1],(0===t%l||8===l&&4===t%l)&&(i=s[i>>>24]<<24^s[255&i>>16]<<16^s[255&i>>8]<<8^s[255&i],0===t%l&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),r[t]=r[t-l]^i;for(n=0;t;n++,t--)i=r[3&n?t:t-4],o[n]=4>=t||4>n?i:a[0][s[i>>>24]]^a[1][s[255&i>>16]]^a[2][s[255&i>>8]]^a[3][s[255&i]]},ht.cipher.aes.prototype={encrypt:function(e){return this._crypt(e,0)},decrypt:function(e){return this._crypt(e,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var e,t,n,i,r,o,s,a,l,u=this._tables[0],c=this._tables[1],d=u[4],h=c[4],p=[],f=[];for(e=0;256>e;e++)f[(p[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!d[t];t^=i||1,n=f[n]||1)for(s=n^n<<1^n<<2^n<<3^n<<4,s=99^(s>>8^255&s),d[t]=s,h[s]=t,o=p[r=p[i=p[t]]],l=16843009*o^65537*r^257*i^16843008*t,a=257*p[s]^16843008*s,e=0;4>e;e++)u[e][t]=a=a<<24^a>>>8,c[e][s]=l=l<<24^l>>>8;for(e=0;5>e;e++)u[e]=u[e].slice(0),c[e]=c[e].slice(0)},_crypt:function(e,t){if(4!==e.length)throw new ht.exception.invalid("invalid aes block size");var n,i,r,o,s=this._key[t],a=e[0]^s[0],l=e[t?3:1]^s[1],u=e[2]^s[2],c=e[t?1:3]^s[3],d=s.length/4-2,h=4,p=[0,0,0,0],f=this._tables[t],m=f[0],g=f[1],v=f[2],b=f[3],y=f[4];for(o=0;d>o;o++)n=m[a>>>24]^g[255&l>>16]^v[255&u>>8]^b[255&c]^s[h],i=m[l>>>24]^g[255&u>>16]^v[255&c>>8]^b[255&a]^s[h+1],r=m[u>>>24]^g[255&c>>16]^v[255&a>>8]^b[255&l]^s[h+2],c=m[c>>>24]^g[255&a>>16]^v[255&l>>8]^b[255&u]^s[h+3],h+=4,a=n,l=i,u=r;for(o=0;4>o;o++)p[t?3&-o:o]=y[a>>>24]<<24^y[255&l>>16]<<16^y[255&u>>8]<<8^y[255&c]^s[h++],n=a,a=l,l=u,u=c,c=n;return p}},ht.bitArray={bitSlice:function(e,t,n){return e=ht.bitArray._shiftRight(e.slice(t/32),32-(31&t)).slice(1),void 0===n?e:ht.bitArray.clamp(e,n-t)},extract:function(e,t,n){var i,r=Math.floor(31&-t-n);return i=-32&(t+n-1^t)?e[0|t/32]<<32-r^e[0|t/32+1]>>>r:e[0|t/32]>>>r,i&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],i=ht.bitArray.getPartial(n);return 32===i?e.concat(t):ht.bitArray._shiftRight(t,i,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t,n=e.length;return 0===n?0:(t=e[n-1],32*(n-1)+ht.bitArray.getPartial(t))},clamp:function(e,t){if(32*e.length<t)return e;e=e.slice(0,Math.ceil(t/32));var n=e.length;return t=31&t,n>0&&t&&(e[n-1]=ht.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(ht.bitArray.bitLength(e)!==ht.bitArray.bitLength(t))return!1;var n,i=0;for(n=0;n<e.length;n++)i|=e[n]^t[n];return 0===i},_shiftRight:function(e,t,n,i){var r,o,s=0;for(void 0===i&&(i=[]);t>=32;t-=32)i.push(n),n=0;if(0===t)return i.concat(e);for(r=0;r<e.length;r++)i.push(n|e[r]>>>t),n=e[r]<<32-t;return s=e.length?e[e.length-1]:0,o=ht.bitArray.getPartial(s),i.push(ht.bitArray.partial(31&t+o,t+o>32?n:i.pop(),1)),i},_xor4:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}},ht.codec.hex={fromBits:function(e){var t,n="";for(t=0;t<e.length;t++)n+=((0|e[t])+0xf00000000000).toString(16).substr(4);return n.substr(0,ht.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,i=[];for(e=e.replace(/\s|0x/g,""),n=e.length,e+="00000000",t=0;t<e.length;t+=8)i.push(0^parseInt(e.substr(t,8),16));return ht.bitArray.clamp(i,4*n)}},ht.codec.utf8String={fromBits:function(e){var t,n,i="",r=ht.bitArray.bitLength(e);for(t=0;r/8>t;t++)0===(3&t)&&(n=e[t/4]),i+=String.fromCharCode(n>>>24),n<<=8;return decodeURIComponent(escape(i))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,n=[],i=0;for(t=0;t<e.length;t++)i=i<<8|e.charCodeAt(t),3===(3&t)&&(n.push(i),i=0);return 3&t&&n.push(ht.bitArray.partial(8*(3&t),i)),n}},ht.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,n){var i,r="",o=0,s=ht.codec.base64._chars,a=0,l=ht.bitArray.bitLength(e);for(n&&(s=s.substr(0,62)+"-_"),i=0;6*r.length<l;)r+=s.charAt((a^e[i]>>>o)>>>26),6>o?(a=e[i]<<6-o,o+=26,i++):(a<<=6,o-=6);for(;3&r.length&&!t;)r+="=";return r},toBits:function(e,t){e=e.replace(/\s|=/g,"");var n,i,r=[],o=0,s=ht.codec.base64._chars,a=0;for(t&&(s=s.substr(0,62)+"-_"),n=0;n<e.length;n++){if(i=s.indexOf(e.charAt(n)),0>i)throw new ht.exception.invalid("this isn't base64!");o>26?(o-=26,r.push(a^i>>>o),a=i<<32-o):(o+=6,a^=i<<32-o)}return 56&o&&r.push(ht.bitArray.partial(56&o,a,1)),r}},ht.codec.base64url={fromBits:function(e){return ht.codec.base64.fromBits(e,1,1)},toBits:function(e){return ht.codec.base64.toBits(e,1)}},void 0===ht.beware&&(ht.beware={}),ht.beware["CBC mode is dangerous because it doesn't protect message integrity."]=function(){ht.mode.cbc={name:"cbc",encrypt:function(e,t,n,i){if(i&&i.length)throw new ht.exception.invalid("cbc can't authenticate data");if(128!==ht.bitArray.bitLength(n))throw new ht.exception.invalid("cbc iv must be 128 bits");var r,o=ht.bitArray,s=o._xor4,a=o.bitLength(t),l=0,u=[];if(7&a)throw new ht.exception.invalid("pkcs#5 padding only works for multiples of a byte");for(r=0;a>=l+128;r+=4,l+=128)n=e.encrypt(s(n,t.slice(r,r+4))),u.splice(r,0,n[0],n[1],n[2],n[3]);return a=16843009*(16-(15&a>>3)),n=e.encrypt(s(n,o.concat(t,[a,a,a,a]).slice(r,r+4))),u.splice(r,0,n[0],n[1],n[2],n[3]),u},decrypt:function(e,t,n,i){if(i&&i.length)throw new ht.exception.invalid("cbc can't authenticate data");if(128!==ht.bitArray.bitLength(n))throw new ht.exception.invalid("cbc iv must be 128 bits");if(127&ht.bitArray.bitLength(t)||!t.length)throw new ht.exception.corrupt("cbc ciphertext must be a positive multiple of the block size");var r,o,s,a=ht.bitArray,l=a._xor4,u=[];for(i=i||[],r=0;r<t.length;r+=4)o=t.slice(r,r+4),s=l(n,e.decrypt(o)),u.splice(r,0,s[0],s[1],s[2],s[3]),n=o;if(o=255&u[r-1],0==o||o>16)throw new ht.exception.corrupt("pkcs#5 padding corrupt");if(s=16843009*o,!a.equal(a.bitSlice([s,s,s,s],0,8*o),a.bitSlice(u,32*u.length-8*o,32*u.length)))throw new ht.exception.corrupt("pkcs#5 padding corrupt");return a.bitSlice(u,0,32*u.length-8*o)}}},ht.misc.hmac=function(e,t){this._hash=t=t||ht.hash.sha256;var n,i=[[],[]],r=t.prototype.blockSize/32;for(this._baseHash=[new t,new t],e.length>r&&(e=t.hash(e)),n=0;r>n;n++)i[0][n]=909522486^e[n],i[1][n]=1549556828^e[n];this._baseHash[0].update(i[0]),this._baseHash[1].update(i[1])},ht.misc.hmac.prototype.encrypt=ht.misc.hmac.prototype.mac=function(e,t){var n=new this._hash(this._baseHash[0]).update(e,t).finalize();return new this._hash(this._baseHash[1]).update(n).finalize()},ht.hash.sha256=function(e){this._key[0]||this._precompute(),e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()},ht.hash.sha256.hash=function(e){return(new ht.hash.sha256).update(e).finalize()},ht.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(e){"string"==typeof e&&(e=ht.codec.utf8String.toBits(e));var t,n=this._buffer=ht.bitArray.concat(this._buffer,e),i=this._length,r=this._length=i+ht.bitArray.bitLength(e);for(t=-512&512+i;r>=t;t+=512)this._block(n.splice(0,16));return this},finalize:function(){var e,t=this._buffer,n=this._h;for(t=ht.bitArray.concat(t,[ht.bitArray.partial(1,1)]),e=t.length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this._length/4294967296)),t.push(0|this._length);t.length;)this._block(t.splice(0,16));return this.reset(),n},_init:[],_key:[],_precompute:function(){function e(e){return 0|4294967296*(e-Math.floor(e))}var t,n=0,i=2;e:for(;64>n;i++){for(t=2;i>=t*t;t++)if(0===i%t)continue e;8>n&&(this._init[n]=e(Math.pow(i,.5))),this._key[n]=e(Math.pow(i,1/3)),n++}},_block:function(e){var t,n,i,r,o=e.slice(0),s=this._h,a=this._key,l=s[0],u=s[1],c=s[2],d=s[3],h=s[4],p=s[5],f=s[6],m=s[7];for(t=0;64>t;t++)16>t?n=o[t]:(i=o[15&t+1],r=o[15&t+14],n=o[15&t]=0|(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+o[15&t]+o[15&t+9]),n=n+m+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(f^h&(p^f))+a[t],m=f,f=p,p=h,h=0|d+n,d=c,c=u,u=l,l=0|n+(u&c^d&(u^c))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10);s[0]=0|s[0]+l,s[1]=0|s[1]+u,s[2]=0|s[2]+c,s[3]=0|s[3]+d,s[4]=0|s[4]+h,s[5]=0|s[5]+p,s[6]=0|s[6]+f,s[7]=0|s[7]+m}},ht.random={randomWords:function(e,t){var n,i,r=[],o=this.isReady(t);if(o===this._NOT_READY)throw new ht.exception.notReady("generator isn't seeded");for(o&this._REQUIRES_RESEED&&this._reseedFromPools(!(o&this._READY)),n=0;e>n;n+=4)0===(n+1)%this._MAX_WORDS_PER_BURST&&this._gate(),i=this._gen4words(),r.push(i[0],i[1],i[2],i[3]);return this._gate(),r.slice(0,e)},setDefaultParanoia:function(e){this._defaultParanoia=e},addEntropy:function(e,t,n){n=n||"user";var i,r,o,s=(new Date).valueOf(),a=this._robins[n],l=this.isReady(),u=0;switch(i=this._collectorIds[n],void 0===i&&(i=this._collectorIds[n]=this._collectorIdNext++),void 0===a&&(a=this._robins[n]=0),this._robins[n]=(this._robins[n]+1)%this._pools.length,typeof e){case"number":void 0===t&&(t=1),this._pools[a].update([i,this._eventId++,1,t,s,1,0|e]);break;case"object":var c=Object.prototype.toString.call(e);if("[object Uint32Array]"===c){for(o=[],r=0;r<e.length;r++)o.push(e[r]);e=o}else for("[object Array]"!==c&&(u=1),r=0;r<e.length&&!u;r++)"number"!=typeof e[r]&&(u=1);if(!u){if(void 0===t)for(t=0,r=0;r<e.length;r++)for(o=e[r];o>0;)t++,o>>>=1;this._pools[a].update([i,this._eventId++,2,t,s,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this._pools[a].update([i,this._eventId++,3,t,s,e.length]),this._pools[a].update(e);break;default:u=1}if(u)throw new ht.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[a]+=t,this._poolStrength+=t,l===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(e){var t=this._PARANOIA_LEVELS[void 0!==e?e:this._defaultParanoia];return this._strength&&this._strength>=t?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=t?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(e){var t=this._PARANOIA_LEVELS[e?e:this._defaultParanoia];return this._strength>=t?1:this._poolStrength>t?1:this._poolStrength/t},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else{if(!document.attachEvent)throw new ht.exception.bug("can't attach event");document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(e,t){this._callbacks[e][this._callbackI++]=t},removeEventListener:function(e,t){var n,i,r=this._callbacks[e],o=[];for(i in r)r.hasOwnProperty(i)&&r[i]===t&&o.push(i);for(n=0;n<o.length;n++)i=o[n],delete r[i]},_pools:[new ht.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var e=0;4>e&&(this._counter[e]=0|this._counter[e]+1,!this._counter[e]);e++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new ht.cipher.aes(this._key)},_reseed:function(e){this._key=ht.hash.sha256.hash(this._key.concat(e)),this._cipher=new ht.cipher.aes(this._key);for(var t=0;4>t&&(this._counter[t]=0|this._counter[t]+1,!this._counter[t]);t++);},_reseedFromPools:function(e){var t,n=[],i=0;for(this._nextReseed=n[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,t=0;16>t;t++)n.push(0|4294967296*Math.random());for(t=0;t<this._pools.length&&(n=n.concat(this._pools[t].finalize()),i+=this._poolEntropy[t],this._poolEntropy[t]=0,e||!(this._reseedCount&1<<t));t++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new ht.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=i,i>this._strength&&(this._strength=i),this._reseedCount++,this._reseed(n)},_mouseCollector:function(e){var t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0;ht.random.addEntropy([t,n],2,"mouse")},_loadTimeCollector:function(){ht.random.addEntropy((new Date).valueOf(),2,"loadtime")},_fireEvent:function(e,t){var n,i=ht.random._callbacks[e],r=[];for(n in i)i.hasOwnProperty(n)&&r.push(i[n]);for(n=0;n<r.length;n++)r[n](t)}},function(){try{var e=new Uint32Array(32);crypto.getRandomValues(e),ht.random.addEntropy(e,1024,"crypto.getRandomValues")}catch(t){}}();for(var pt in ht.beware)ht.beware.hasOwnProperty(pt)&&ht.beware[pt]();var ft={sjcl:ht,version:"1.3.0"};ft.generateAesKey=function(){return{key:ht.random.randomWords(8,0),encrypt:function(e){return this.encryptWithIv(e,ht.random.randomWords(4,0))},encryptWithIv:function(e,t){var n=new ht.cipher.aes(this.key),i=ht.codec.utf8String.toBits(e),r=ht.mode.cbc.encrypt(n,i,t),o=ht.bitArray.concat(t,r);return ht.codec.base64.fromBits(o)}}},ft.create=function(e){var n=function(e){var t=[];if("INTEGER"==e.typeName()){var i=e.posContent(),r=e.posEnd(),o=e.stream.hexDump(i,r).replace(/[ \n]/g,"");t.push(o)}if(null!=e.sub)for(var s=0;s<e.sub.length;s++)t=t.concat(n(e.sub[s]));return t},i=function(){try{var i=r(e),o=t.decode(i)}catch(s){throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'"}var a=n(o);if(2!=a.length)throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'";var l=a[0],u=a[1],c=new Y;return c.setPublic(l,u),c},o=function(){return{key:ht.random.randomWords(8,0),sign:function(e){var t=new ht.misc.hmac(this.key,ht.hash.sha256),n=t.encrypt(e);return ht.codec.base64.fromBits(n)}}},s=function(e){var t=i(),n=ft.generateAesKey(),r=o(),s=n.encrypt(e),a=r.sign(ht.codec.base64.toBits(s)),l=ht.bitArray.concat(n.key,r.key),u=ht.codec.base64.fromBits(l),c=t.encrypt_b64(u),d="$bt4|javascript_"+p.version.replace(/\./g,"_")+"$";return d+c+"$"+s+"$"+a},a=function(e){var t,n;return n=[],t=function(e){for(var i,r=0;r<e.children.length;r++)i=e.children[r],i.attributes["data-encrypted-name"]?n.push(i):t(i)},t(e),n},l=function(e,t){var n,i,r;n=document.createElement(e);for(i in t)r=t[i],n.setAttribute(i,r);return n},u=function(e){return window.jQuery&&e instanceof jQuery?e[0]:e.nodeType&&1===e.nodeType?e:document.getElementById(e)},c=function(e){var t,n,i,r,o,s;for(e=u(e),s=a(e),o=0;o<s.length;o++)t=s[o],i=t.getAttribute("data-encrypted-name"),n=p.encrypt(t.value),t.removeAttribute("name"),r=l("input",{value:n,type:"hidden",name:i}),e.appendChild(r)},d=function(e,t){var n;e=u(e),n=function(n){return p.encryptForm(e),null==t?n:t(n)},window.jQuery?window.jQuery(e).submit(n):e.addEventListener?e.addEventListener("submit",n,!1):e.attachEvent&&e.attachEvent("onsubmit",n)},h={encryptForm:c,extractForm:u,onSubmitEncryptForm:d},p=new function(){this.encrypt=s,this.version=ft.version,this.publicKey=e,this.encryptForm=c,this.formEncrypter=h,this.onSubmitEncryptForm=d};return ht.random.startCollectors(),p},window.Braintree=ft,"function"==typeof define&&define("braintree",function(){return ft})}(),function(){var e;e=function(){function e(){}return e.version="1.0.0",e.registered_features={},e.featurettes={},e.featurettes_counter=0,e.register=function(e,t){return this.registered_features[e]=t},e.load=function(){var e,t,n,i,r,o,s,a,l;for(a=$(".featurette"),l=[],o=0,s=a.length;s>o;o++)e=a[o],t=e.getAttribute("data-featurette"),i=this.registered_features[t],i?(n=e.id,(null==n||""===n)&&(n="featurette-"+this.featurettes_counter,e.id=n),r=new i(e),this.featurettes[n]=r,l.push(this.featurettes_counter+=1)):l.push(void 0);return l},e.get=function(e){return this.featurettes[e]},e.getElementsByClass=function(e){var t,n,i,r,o,s;if(document.getElementsByClassName)t=document.getElementsByClassName(e);else for(t=new Array,i=document.getElementsByTagName("*"),r=new RegExp("(^|\\s)"+e+"(\\s|$)"),o=0,s=i.length;s>o;o++)n=i[o],r.test(n.className)&&t.push(n);
return t},e}(),window.Featurette=e}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.removeField=t(this.removeField,this),this.addNewField=t(this.addNewField,this),this.createNestedField=t(this.createNestedField,this),this.el=$(e),this.createNestedField("language",".add-new-language",".remove-language",".profile-languages","#language-fields-template"),this.createNestedField("award",".add-new-award",".remove-award",".profile-awards","#award-fields-template"),this.createNestedField("publication",".add-new-publication",".remove-publication",".profile-publications","#publication-fields-template")}return e.prototype.createNestedField=function(e,t,n,i,r){return this.el.on("click",t,{title:e,templateName:r},this.addNewField),this.el.on("click",n,{wrapperClass:i,removeLink:n},this.removeField),1===this.el.find(""+i+":visible").length?this.el.find(""+i+":visible:first "+n).hide():void 0},e.prototype.addNewField=function(e){var t,n,i;return e.preventDefault(),this.template||(this.template=this.el.find(e.data.templateName).html()),n=(new Date).getTime(),i=new RegExp("new_"+e.data.title,"g"),t=$(this.template.replace(i,n)),$(e.currentTarget).before(t)},e.prototype.removeField=function(e){return e.preventDefault(),$(e.currentTarget).prev("input[type=hidden]").val("1"),$(e.currentTarget).closest("div").hide(),1===this.el.find(""+e.data.wrapperClass+":visible").length?this.el.find(""+e.data.wrapperClass+":visible:first "+e.data.removeLink).hide():void 0},e}(),Featurette.register("accounts-form",e)}.call(this),function(){var e;e=function(){function e(e){var t;t=$(e),t.click(function(){return window._gaq.push(["_trackEvent",t.attr("data-category"),t.attr("data-action"),t.attr("data-label"),t.attr("data-value")])})}return e}(),Featurette.register("analytics-event-link",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.success=t(this.success,this),this.listener=t(this.listener,this),this.element=$(e),this.element.click(this.listener)}return e.prototype.listener=function(){var e;return e=this.element.data("user-id"),$.post(""+window.location.origin+window.location.pathname+"/request_answer",{user_id:e},this.success)},e.prototype.success=function(){return this.element.text("Asked").addClass("button-posted").attr("disabled","disabled")},e}(),Featurette.register("ask-to-answer",e)}.call(this),function(){var e;e=function(){function e(e,t){this.options={newPlaceholderText:"Add another…",newButtonText:"Add",newButtonClass:"button"},$.extend(this.options,t),this.element=$(e),this.element.wrap("<div data-bullmark-wrapper-for='"+this.element.attr("id")+"' class='bullmark' />"),this.wrapper=$("[data-bullmark-wrapper-for='"+this.element.attr("id")+"']"),this.wrapper.append("<ul />"),this.list=this.wrapper.find("ul"),this.element.hide(),this.drawList(),this.newItem()}return e.prototype.drawList=function(){var e,t=this;return this.list.empty(),e=this.element.val().split("\n"),_.each(e,function(e,n){var i;return e=$.trim(e),"*"===e[0]||"-"===e[0]?(i=$("<li>"+e.slice(1)+"</li>"),i.append("<span class='bullmark-destroy' data-bullmark-remove='"+n+"'>&times;</span>"),t.list.append(i)):void 0}),this.destroyListeners()},e.prototype.newItem=function(){var e,t,n=this;return t=$("<textarea class='bullmark-new' placeholder='"+this.options.newPlaceholderText+"'></textarea>"),e=$("<button class='bullmark-new-button button-secondary "+this.options.newButtonClass+"' disabled>"+this.options.newButtonText+"</button>"),t.appendTo(this.wrapper),e.appendTo(this.wrapper),t.on("keyup keydown change",function(){return 0===$.trim(t).length?e.attr("disabled","disabled"):e.removeAttr("disabled")}),e.on("click",function(e){return e.preventDefault(),n.createItem(t.val()),t.val(""),t.focus()})},e.prototype.createItem=function(e){return this.element.val(""+this.element.val()+"\n* "+e),this.drawList()},e.prototype.destroyItem=function(e){var t;return t=this.element.val().split("\n"),t.splice(e,1),this.element.val(t.join("\n")),this.drawList()},e.prototype.destroyListeners=function(){var e,t=this;return e=$(".bullmark-destroy",this.wrapper),e.off("click"),e.each(function(e,n){return $(n).click(function(e){var n;return n=$(e.target).data("bullmark-remove"),t.destroyItem(n)})})},e}(),Featurette.register("bullmark",e)}.call(this),window.Bugsnag=function(e,t,n){function i(t){var n=e.console;void 0!==n&&void 0!==n.log&&n.log("[Bugsnag] "+t)}function r(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)&&null!=i&&null!=e[i]){var o=t?t+"["+i+"]":i,s=e[i];n.push("object"==typeof s?r(s,o):encodeURIComponent(o)+"="+encodeURIComponent(s))}return n.join("&")}function o(e,t){if(null==t)return e;e=e||{};for(var n in t)if(t.hasOwnProperty(n))try{e[n]=t[n].constructor===Object?o(e[n],t[n]):t[n]}catch(i){e[n]=t[n]}return e}function s(e,t){if(b.testRequest)b.testRequest(e,t);else{var n=new Image;n.src=e+"?"+r(t)+"&ct=img&cb="+(new Date).getTime()}}function a(e){for(var t={},n=/^data\-([\w\-]+)$/,i=e.attributes,r=0;r<i.length;r++){var o=i[r];if(n.test(o.nodeName)){var s=o.nodeName.match(n)[1];t[s]=o.nodeValue}}return t}function l(e){return y=y||a(M),b[e]||y[e.toLowerCase()]}function u(e){return null!=e&&e.match(w)?!0:(i("Invalid API key '"+e+"'"),!1)}function c(t,i){var r=l("apiKey");if(u(r)){for(var a=l("releaseStage")||S,c=l("notifyReleaseStages")||E,d=!1,h=0;h<c.length;h++)if(a===c[h]){d=!0;break}if(d){var p=o(l("metaData"),i),f=e.location;s(l("endpoint")||x,{notifierVersion:T,apiKey:r,projectRoot:l("projectRoot")||f.protocol+"//"+f.host,context:l("context")||f.pathname,metaData:p,releaseStage:a,url:e.location.href,userAgent:n.userAgent,language:n.language||n.userLanguage,name:t.name,message:t.message,stacktrace:t.stacktrace,file:t.file,lineNumber:t.lineNumber})}}}function d(){var e,t=10,n="[anonymous]";try{throw new Error("")}catch(i){e=h(i)}if(!e){for(var r=[],o=arguments.callee.caller.caller;o&&r.length<t;){var s=_.test(o.toString())?RegExp.$1||n:n;r.push(s),o=o.caller}e=r.join("\n")}return e}function h(e){return e.stack||e.backtrace||e.stacktrace}function p(){var e=l("metrics"),t=l("apiKey");if((e===!0||"true"===e)&&u(t)){var n="bugsnag_"+t,i=v(n);null==i&&(i=m(),g(n,i,1e3,!0)),s(l("metricsEndpoint")||C,{userId:i,apiKey:t})}}function f(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function m(){return f()+f()+"-"+f()+"-"+f()+"-"+f()+"-"+f()+f()+f()}function g(n,i,r,o){var s="",a="";if(r){var l=new Date;l.setTime(l.getTime()+1e3*60*60*24*r),a="; expires="+l.toGMTString()}if(o){var u=e.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),c=u?u[0]:"";s=c?"; domain=."+c:""}t.cookie=n+"="+encodeURIComponent(i)+a+"; path=/"+s}function v(e){var n=t.cookie.match(e+"=([^$;]+)");return n?decodeURIComponent(n[1]):null}var b={};b.notifyException=function(e,t,n){"string"!=typeof t&&(n=t),c({name:t||e.name,message:e.message||e.description,stacktrace:h(e)||d(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line},n)},b.notify=function(e,t,n){c({name:e,message:t,stacktrace:d()},n)};var y,w=/^[0-9a-f]{32}$/i,_=/function\s*([\w\-$]+)?\s*\(/i,k="https://notify.bugsnag.com/",x=k+"js",C=k+"metrics",T="1.0.6",S="production",E=[S],$=t.getElementsByTagName("script"),M=$[$.length-1];return p(),b}(window,document,navigator),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Bugsnag.apiKey="16b875e4d6899a27049288618f9ba496",this.CodeChallenge||(this.CodeChallenge={}),CodeChallenge.Base=function(){function t(t){var n,i,r,o,s,a=this;for(this.el=t,this.acceptIncomingMessage=e(this.acceptIncomingMessage,this),this.handleEngineStatusUpdate=e(this.handleEngineStatusUpdate,this),this.handleEngineEvent=e(this.handleEngineEvent,this),this.handleTimeoutError=e(this.handleTimeoutError,this),this.refresh=e(this.refresh,this),this.checkWork=e(this.checkWork,this),this.submit=e(this.submit,this),this.goToTask=e(this.goToTask,this),this.el=$(this.el),n=this.el.data("challenge"),this.tasks=n.tasks,this.currentTask=0,this.lastTaskPassed=0,this.timeoutDelay=1e3*n.timeout,this.timeoutId=null,this.isAdminPreview=n.admin_preview,this.workspace=new CodeChallenge.WorkspaceView(this.el.find(".cc-workspace")),this.instructions=new CodeChallenge.InstructionView(this.el.find("#instructions"),this.tasks,this.el.data("badge-url")),this.feedback=new CodeChallenge.FeedbackView(this.el.find("#feedback"),this.checkWork,this.refresh,this.goToTask),this.results=new CodeChallenge.ResultsView(this.el.find(".cc-results")),this.submitter=new CodeChallenge.Submitter(this.el.data("submit-path"),n.uuid,n.challenge_id,this.timeoutDelay,n.queue_name),this.engineListener=new CodeChallenge.EngineListener(n.uuid,this.acceptIncomingMessage,{event:this.handleEngineEvent,engine_update:this.handleEngineStatusUpdate,connect:function(){return n.no_preview?void 0:a.refresh()}}),$(document).bind("keydown","ctrl+return",this.checkWork),$(document).bind("keydown","alt+r",this.refresh),s=this.workspace.editors,r=0,o=s.length;o>r;r++)i=s[r],i.codeMirror.addKeyMap({"Ctrl-Enter":this.checkWork}),i.codeMirror.addKeyMap({"Alt-R":this.refresh});this.goToTask(1),n.no_preview&&this.feedback.hidePreviewButton()}return t.prototype.goToTask=function(e){var t;return this.currentTask=e,t=Math.max(e,this.lastTaskPassed),this.instructions.update(e),this.feedback["default"](t)},t.prototype.submit=function(e){var t;return t=this.listenForMessages(),this.submitter.submit(t,this.workspace.getFiles(),e),this.timeoutId=setTimeout(this.handleTimeoutError,this.timeoutDelay)},t.prototype.checkWork=function(){return this.feedback.canCheckWork()?(this.feedback.disableCheckWork(),this.feedback.disableRefresh(),this.submit(this.feedback.currentTask())):void 0},t.prototype.refresh=function(){return this.feedback.canRefresh()?(this.feedback.disableRefresh(),this.feedback.disableCheckWork(),this.submit()):void 0},t.prototype.handleTimeoutError=function(){return this.rejectMessages(),this.genericErrorMessage("Timeout Error"),this.feedback.resetButtons()},t.prototype.handleEngineEvent=function(e){return this.rejectMessages(),e.pass?e.task===this.tasks.length?(this.feedback.finished(),this.isAdminPreview!==!0&&this.completeChallenge()):(e.task>this.lastTaskPassed&&(this.lastTaskPassed=e.task),this.feedback.correct(e.feedback,e.task+1)):e.pass===!1&&(e.task<=this.lastTaskPassed&&e.task!==this.currentTask?this.feedback.inactiveTaskFailed(e.task,e.up_to):(this.feedback.showWorkspace(),this.feedback.wrong(e.feedback,e.up_to))),clearTimeout(this.timeoutId),this.results.update(e),this.feedback.resetButtons()},t.prototype.handleEngineStatusUpdate=function(e){var t;return t="run"===e.target?this.feedback.updatePreviewButton(e.text):this.feedback.updateTestButton(e.text)},t.prototype.listenForMessages=function(){return null==this.messageId&&(this.messageId=0),null==this.totalMessages&&(this.totalMessages=0),this.totalMessages+=1,this.messageId=this.totalMessages},t.prototype.acceptIncomingMessage=function(e){return parseInt(e.message_id,10)===this.messageId},t.prototype.rejectMessages=function(){return this.messageId=null},t.prototype.completeChallenge=function(){var e=this;return $.ajax({type:"POST",url:this.el.data("completed-path"),data:{_method:"PUT"},success:function(t){return"Badge achieved!"===t.message?t.video?(Featurette.get("badge-video-modal").showOverlay(),$("#reward-video-container").html(t.video),$("#reward-video").show(),e.player=new MediaElementPlayer($("#player"))):Featurette.get("badge-modal").showOverlay():(Featurette.get("challenge-completed-modal").showOverlay(),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300))},error:function(t,n,i){return e.genericErrorMessage(i)}})},t.prototype.genericErrorMessage=function(e){return alert("There was a problem connecting to the Code Challenge Engine: "+e+". If this problem persists, please contact support at help@teamtreehouse.com.")},t}(),Featurette.register("code-challenge",CodeChallenge.Base)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};this.CodeChallenge||(this.CodeChallenge={}),CodeChallenge.CommandChallenge=function(){function t(t){var n;this.el=t,this.acceptIncomingMessage=e(this.acceptIncomingMessage,this),this.acceptIncomingMessage=e(this.acceptIncomingMessage,this),this.retryCurrentTask=e(this.retryCurrentTask,this),this.goToNextTask=e(this.goToNextTask,this),this.handleEngineEvent=e(this.handleEngineEvent,this),this.handleTimeoutError=e(this.handleTimeoutError,this),this.submit=e(this.submit,this),this.el=$(this.el),n=this.el.data("challenge"),this.tasks=n.tasks,this.currentTask=1,this.lastTaskPassed=0,this.timeoutDelay=1e3*n.timeout,this.timeoutId=null,this.badgeUrl=this.el.data("badge-url"),this.addViewForCurrentTask(),this.engineListener=new CodeChallenge.EngineListener(n.uuid,this.acceptIncomingMessage,{event:this.handleEngineEvent}),this.submitter=new CodeChallenge.Submitter(this.el.data("submit-path"),n.uuid,n.challenge_id,this.timeoutDelay,n.queue_name)}return t.prototype.submit=function(e,t){var n;return n=this.listenForMessages(),this.submitter.submit(n,[],e,t),this.timeoutId=setTimeout(this.handleTimeoutError,this.timeoutDelay)},t.prototype.handleTimeoutError=function(){return this.rejectMessages(),this.genericErrorMessage()},t.prototype.handleEngineEvent=function(e){var t,n=this;return this.rejectMessages(),e.pass?e.task===this.tasks.length?this.completeChallenge():(this.lastTaskPassed=e.task,this.taskView.correct(e.feedback),$(".cc-goto").click(function(){return n.goToNextTask()})):(this.taskView.wrong(e.feedback),$(".cc-test").click(function(){return n.retryCurrentTask()})),this.taskView.displayResults(null!=(t=e.preview_urls)?t[0]:void 0),clearTimeout(this.timeoutId)},t.prototype.goToNextTask=function(){return this.taskView.hideResults(this.lastTaskPassed,$(".hide-results")),$(".cc-goto").remove(),this.currentTask=this.lastTaskPassed+1,this.addViewForCurrentTask()},t.prototype.retryCurrentTask=function(){return $("#"+this.el.attr("id")+" .task_view").last().remove(),this.addViewForCurrentTask()},t.prototype.listenForMessages=function(){return null==this.messageId&&(this.messageId=0),null==this.totalMessages&&(this.totalMessages=0),this.totalMessages+=1,this.messageId=this.totalMessages},t.prototype.addViewForCurrentTask=function(){return this.taskView=new CodeChallenge.CommandTaskView(this.el,this.tasks[this.currentTask-1],this.currentTask,this.tasks.length,this.submit,this.badgeUrl)},t.prototype.acceptIncomingMessage=function(){},t.prototype.acceptIncomingMessage=function(e){return parseInt(e.message_id,10)===this.messageId},t.prototype.rejectMessages=function(){return this.messageId=null},t.prototype.completeChallenge=function(){var e=this;return $.ajax({type:"POST",url:this.el.data("completed-path"),data:{_method:"PUT"},success:function(t){return"Badge awarded!"===t?t.video?(Featurette.get("badge-video-modal").showOverlay(),$("#reward-video-container").html(t.video),$("#reward-video").show(),e.player=new MediaElementPlayer($("#player"))):Featurette.get("badge-modal").showOverlay():(Featurette.get("challenge-completed-modal").showOverlay(),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300))},error:function(){return e.genericErrorMessage}})},t.prototype.genericErrorMessage=function(){return alert("There was a problem connecting to the Code Challenge Engine. If this problem persists, please contact support at help@teamtreehouse.com.")},t}(),Featurette.register("command-challenge",CodeChallenge.CommandChallenge)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.EngineListener=function(){function t(t,n,i){this.acceptIncoming=n,this.callbacks=i,this.fireEvent=e(this.fireEvent,this),pubnub.subscribe({channel:t,connect:this.callbacks.connect,message:this.fireEvent})}return t.prototype.subKey="sub-e2de2b5c-13c2-11e2-b508-f53fda4cd93d",t.prototype.pubKey="pub-b8a18d09-58e0-4ec4-acd5-67ce32d576cd",t.prototype.fireEvent=function(e){return this.acceptIncoming&&this.callbacks[e.name]?this.callbacks[e.name](e.data):void 0},t}()}.call(this),function(){null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.Submitter=function(){function e(e,t,n,i,r){this.url=e,this.ajaxDefaultData={uuid:t,challenge_id:n,queue_name:r}}return e.prototype.submit=function(e,t,n,i){var r;return null==n&&(n=null),null==i&&(i=null),r={message_id:e,task:n,files:t,command:i},$.extend(r,this.ajaxDefaultData),$.ajax({type:"POST",url:this.url,data:r})},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.CommandTaskView=function(){function t(t,n,i,r,o,s){this.el=t,this.taskData=n,this.currentTask=i,this.totalTasks=r,this.submitForTestingCallback=o,this.badgeUrl=s,this.hideResults=e(this.hideResults,this),this.displayResults=e(this.displayResults,this),this.wrong=e(this.wrong,this),this.correct=e(this.correct,this),this.disableOtherTaskEntries=e(this.disableOtherTaskEntries,this),this.addNewTaskEntry=e(this.addNewTaskEntry,this),this.el=$(this.el),this.addNewTaskEntry()}return t.prototype.addNewTaskEntry=function(){var e,t,n,i,r=this;return this.disableOtherTaskEntries(),e={taskData:this.taskData,currentTask:this.currentTask,totalTasks:this.totalTasks,badgeUrl:this.badgeUrl},this.el.append(HoganTemplates["code_challenges/command_task"].render(e)),i=$("#"+this.el.attr("id")+" .task_view .terminal").last(),t=function(e,t){return""!==e?(r.submitForTestingCallback(r.currentTask,e),t.pause(),t.echo("Checking your answer...")):void 0},n=i.terminal(t,{greetings:""},{width:"100%",prompt:"> "}),i.data("terminal",n)},t.prototype.disableOtherTaskEntries=function(){return this.el.children(".task_view").addClass("inactive")},t.prototype.correct=function(e){var t;return t=$("#"+this.el.attr("id")+" .task_view #feedback").last(),t.html(HoganTemplates["code_challenges/command_feedback_correct"].render({feedback:e}))},t.prototype.wrong=function(e){var t;return t=$("#"+this.el.attr("id")+" .task_view #feedback").last(),t.html(HoganTemplates["code_challenges/command_feedback_wrong"].render({feedback:e}))},t.prototype.displayResults=function(e){var t,n,i,r=this;if(void 0!==e&&null!==e)return i=this.el.children(".task_view").last(),t={currentTask:this.currentTask,url:e},i.append(HoganTemplates["code_challenges/command_results"].render(t)),n=$(".hide-results").last(),n.click(function(){var e;return e=t.currentTask,r.hideResults(e,n)})},t.prototype.hideResults=function(e,t){var n=this;return $("#results-"+e).hide(),t.addClass("show-results"),t.removeClass("hide-results"),t.html("Show"),t.click(function(){return $("#results-"+e).show(),t.addClass("hide-results"),t.removeClass("show-results"),t.html("Hide"),t.click(function(){return n.hideResults(e,t)})})},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.EditorView=function(){function t(t,n,i){this.submitForTestingCallback=n,this.submitForPreviewCallback=i,this.refresh=e(this.refresh,this),this.handleCursorMove=e(this.handleCursorMove,this),this.codeMirror=CodeMirror.fromTextArea(t,{mode:$(t).data("editor-mode"),tabMode:"indent",tabSize:2,lineNumbers:!0,theme:"solarized dark",viewportMargin:30}),this.codeMirror.on("cursorActivity",this.handleCursorMove),$(".CodeMirror").ready(this.refresh)}return t.prototype.handleCursorMove=function(){var e,t;return t=this.highlightedLine,e=this.codeMirror.getCursor().line,t&&this.codeMirror.removeLineClass(t,"background","CodeMirror-activeline-background"),this.highlightedLine=this.codeMirror.addLineClass(e,"background","CodeMirror-activeline-background")},t.prototype.getValue=function(){return this.codeMirror.getValue()},t.prototype.refresh=function(){return this.codeMirror.refresh()},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.FeedbackView=function(){function t(t,n,i,r){this.el=t,this.submitForTestingCallback=n,this.submitForPreviewCallback=i,this.goToTaskCallback=r,this.showWorkspace=e(this.showWorkspace,this),this.showResults=e(this.showResults,this),this.disableRefresh=e(this.disableRefresh,this),this.disableCheckWork=e(this.disableCheckWork,this),this.currentTask=e(this.currentTask,this),this.goToTask=e(this.goToTask,this),this.testButtonHandler=e(this.testButtonHandler,this),this.previewButtonHandler=e(this.previewButtonHandler,this),this.el=$(this.el),this.el.on("click",".cc-test",this.testButtonHandler),this.el.on("click",".cc-preview",this.previewButtonHandler),this.el.on("click",".cc-goto",this.goToTask),this.el.on("click",".show-results-button",this.showResults),this.el.on("click",".show-workspace-button",this.showWorkspace)}return t.prototype.previewButtonHandler=function(e){return e.preventDefault(),this.submitForPreviewCallback()},t.prototype.testButtonHandler=function(e){return e.preventDefault(),this.submitForTestingCallback()},t.prototype.goToTask=function(e){var t,n;return e.preventDefault(),t=$(e.target),t.hasClass("disabled")?void 0:(n=t.data("task"),this.goToTaskCallback(n))},t.prototype.generateFeedback=function(e,t){return null==t&&(t={}),HoganTemplates["code_challenges/feedback_"+e].render(t)},t.prototype["default"]=function(e){return this.el.html(this.generateFeedback("neutral",{task:e}))},t.prototype.canCheckWork=function(){return!this.el.find(".cc-test").hasClass("disabled")},t.prototype.canRefresh=function(){return!this.el.find(".cc-preview").hasClass("disabled")},t.prototype.correct=function(e,t){return this.el.html(this.generateFeedback("correct",{feedback:e,nextTask:t}))},t.prototype.currentTask=function(){return this.el.find(".cc-test").data("task")},t.prototype.disableCheckWork=function(){return this.el.find(".cc-test").addClass("disabled"),this.updateTestButton("Working...")},t.prototype.disableRefresh=function(){return this.el.find(".cc-preview").addClass("disabled"),this.updatePreviewButton("Working...")},t.prototype.finished=function(){return this.el.html(this.generateFeedback("finished"))},t.prototype.wrong=function(e,t){return this.el.html(this.generateFeedback("wrong",{feedback:e,failedTask:t}))},t.prototype.hidePreviewButton=function(){return this.el.find(".show-results-button").hide()},t.prototype.inactiveTaskFailed=function(e,t){var n;return n={failedTaskAsWord:this.numberToWord(e),failedTask:e,currentTask:t},this.el.html(this.generateFeedback("inactive_task_failed",n))},t.prototype.numberToWord=function(e){var t;return t=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten"],11>e?t[e]:"#"+e},t.prototype.resetButtons=function(){var e,t;return e=this.el.find(".cc-test"),e.text(e.data("default-text")),t=this.el.find(".cc-preview"),t.text(t.data("default-text")),$(".cc-test, .cc-preview").removeClass("disabled")},t.prototype.showResults=function(){return this.el.find(".cc-preview").show(),$(".show-results-button").hide(),$(".show-workspace-button").show(),$(".workspace").hide(),$(".cc-results").show()},t.prototype.showWorkspace=function(){return this.el.find(".cc-preview").hide(),$(".show-results-button").show(),$(".show-workspace-button").hide(),$(".workspace").show(),$(".cc-results").hide()},t.prototype.updateTestButton=function(e){return this.el.find(".cc-test").text(e)},t.prototype.updatePreviewButton=function(e){return this.el.find(".cc-preview").text(e)},t}()}.call(this),function(){null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.InstructionView=function(){function e(e,t,n){this.el=e,this.taskInstructions=t,this.badgeImageUrl=n,this.el=$(this.el)}return e.prototype.update=function(e){var t;return t={task:e,body:this.taskInstructions[e-1].body,totalTasks:this.taskInstructions.length,badgeImageUrl:this.badgeImageUrl},this.el.html(HoganTemplates["code_challenges/instructions"].render(t))},e}()}.call(this),function(){null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.PreviewView=function(){function e(e){this.el=e,this.el=$(this.el)}return e.prototype.update=function(e){return this.el.find("iframe").attr("src",e)},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.ResultsView=function(){function t(t){this.el=t,this.update=e(this.update,this),this.handleMenuClick=e(this.handleMenuClick,this),this.initializePreview=e(this.initializePreview,this),this.el.find(".cc-preview-view").each(this.initializePreview),this.el.on("click",".cc-results-menu a",this.handleMenuClick),this.el.find(".cc-results-menu .selected").click()}return t.prototype.initializePreview=function(e,t){return this.previews||(this.previews={}),this.previews[$(t).data("source")]=new CodeChallenge.PreviewView(t)},t.prototype.handleMenuClick=function(e){var t,n;return e.preventDefault(),n=$(e.target),this.el.find(".cc-results-menu .selected").removeClass("selected"),n.addClass("selected"),t=this.el.find(".cc-results-menu a").index(n),this.el.find(".preview.selected").removeClass("selected"),this.el.find(".preview").eq(t).addClass("selected")},t.prototype.update=function(e){var t,n,i,r,o;r=this.previews,o=[];for(t in r)n=r[t],e.preview_urls?o.push(function(){var r,o,s,a;for(s=e.preview_urls,a=[],r=0,o=s.length;o>r;r++)i=s[r],new RegExp("/"+t+"$").test(i)&&a.push(n.update(i));return a}()):o.push(void 0);return o},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.WorkspaceView=function(){function t(t,n,i){this.el=t,this.submitForTestingCallback=n,this.submitForPreviewCallback=i,this.handleMenuClick=e(this.handleMenuClick,this),this.initializeEditor=e(this.initializeEditor,this),this.el.find(".editor textarea").each(this.initializeEditor),this.el.on("click",".cc-editor-menu a",this.handleMenuClick),this.el.find(".cc-editor-menu .selected").click()}return t.prototype.initializeEditor=function(e,t){return this.editors||(this.editors=[]),this.editors.push(new CodeChallenge.EditorView(t,this.submitForTestingCallback,this.submitForPreviewCallback))},t.prototype.handleMenuClick=function(e){var t,n;return e.preventDefault(),n=$(e.target),this.el.find(".cc-editor-menu .selected").removeClass("selected"),n.addClass("selected"),t=this.el.find(".cc-editor-menu a").index(n),this.el.find(".editor.selected").removeClass("selected"),this.el.find(".editor").eq(t).addClass("selected"),this.editors[t].codeMirror.refresh()},t.prototype.getFiles=function(){var e=this;return $.map(this.editors,function(t,n){var i,r;return r=e.el.find(".cc-editor-menu a").eq(n).text(),i=t.getValue(),{source:r,content:i}})},t}()}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.toggleCompletedCards=t(this.toggleCompletedCards,this),this.element=$(e),this.toggle=$("div[data-featurette='expandable-content-card'].completed"),this.icon=this.element.find(".icon"),this.text=this.element.find(".toggle-text"),this.element.on("click",this.toggleCompletedCards)}return e.prototype.toggleCompletedCards=function(){return"Hide"===this.text.html()?this.contract():this.expand()},e.prototype.expand=function(){return this.toggle.removeClass("hidden"),this.text.html("Hide"),this.icon.removeClass("icon-chevron-down").addClass("icon-chevron-up")},e.prototype.contract=function(){return this.toggle.addClass("hidden"),this.text.html("Show"),this.icon.removeClass("icon-chevron-up").addClass("icon-chevron-down")},e}(),Featurette.register("completed-card-toggle",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.respectAnchor=t(this.respectAnchor,this),this.element=$(e),_.delay(this.respectAnchor,500)}return e.prototype.respectAnchor=function(){var e,t;return e=window.location.hash.substring(1),""===e?null:(t=Featurette.get(e),void 0!==t?(_.each(this.element.find("[data-featurette='expandable-content-card']"),function(e){return Featurette.get($(e).attr("id")).contract(0)}),t.expand(0),$(window).scrollTop($(window).scrollTop()-100)):void 0)},e}(),Featurette.register("content-cards",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.displayErrors=t(this.displayErrors,this),this.formSubmit=t(this.formSubmit,this),this.el=$(e),this.fieldValidation(),this.el.find("#payment_card_number").on("keyup",this.getCardType),this.el.on("submit",this.formSubmit)}return e.prototype.formSubmit=function(e){return e.preventDefault(),this.reset(),$.ajax({url:"/payments/verify_credit_card",type:"POST",data:this.el.serialize(),headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:this.displayErrors})},e.prototype.displayErrors=function(e){var t;return null===e.errors?this.el.get(0).submit():(t=_.keys(e.errors),_.each(t,function(t){var n,i;return n=$("[data-errors-on~="+t+"]"),i=e.errors[t],0===$("p.error-message",n).length&&i.length>0?(n.addClass("field_with_errors"),n.append("<p class='error-message'>"+i[0]+"</p>")):void 0}))},e.prototype.fieldValidation=function(){return $("#payment_card_number").payment("formatCardNumber"),$("#payment_card_cvc").payment("formatCardCVC"),$("#payment_card_expiration").payment("formatCardExpiry")},e.prototype.getCardType=function(){var e,t;return t=$("#payment_card_number").val(),e=$.payment.cardType(t),$("#payment_card_type").val(e),$("#cards img").removeClass("selected"),null!==e?$("#card-"+e).addClass("selected"):void 0},e.prototype.reset=function(){return $("p.error-message").remove(),$(".field_with_errors").removeClass("field_with_errors")},e}(),Featurette.register("credit-card-form",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.resize=t(this.resize,this),this.dropdown=$(e),this.dropdown.wrap("<span class='drop-down-container' />"),this.wrapper=this.dropdown.parent(),this.dropdown.chosen({no_results_text:"No results for",allow_single_deselect:!0}),this.button=this.wrapper.find(".chzn-single"),this.center(),void 0!==this.dropdown.data("autocomplete-url")?(this.dropdown.data("existing",this.dropdown.html()),this.autocomplete()):this.wrapper.find(".chzn-search").hide(),$(document).on("liszt:updated",this.resize),this.dropdown.on("change",this.resize),this.resize()}return e.prototype.resize=function(){return this.button.parent().removeAttr("style"),this.center()},e.prototype.center=function(){var e,t,n;return e=this.wrapper.width(),t=this.wrapper.find(".chzn-drop").width(),n=e/2-t/2,this.wrapper.find(".chzn-drop").css("margin-left",n)},e.prototype.autocomplete=function(){var e=this;return this.input=this.wrapper.find(".chzn-search input"),this.input.autocomplete({delay:500,minLength:5,source:function(t,n){return $.ajax({url:e.dropdown.data("autocomplete-url"),data:{location:e.input.val()},dataType:"json",beforeSend:function(){return e.wrapper.find("ul.chzn-results, select").empty()},success:function(i){var r;return e.addExisting(),r=_.each(i,function(n){return e.dropdown.append("<option>"+n+"</option>"),e.dropdown.trigger("liszt:updated"),e.input.val(t.term)}),n(r)}})}})},e.prototype.addExisting=function(){return this.dropdown.prepend(this.dropdown.data("existing")),this.dropdown.trigger("liszt:updated")},e}(),Featurette.register("drop-down",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.toggleSteps=t(this.toggleSteps,this),this.element=$(e),this.list=this.element.find(".achievement-steps ul"),this.toggle=this.element.find(".toggle-steps"),this.message=this.element.find(".toggle-steps i"),this.element.on("click",".toggle-steps",this.toggleSteps)}return e.prototype.toggleSteps=function(){return"Hide"===this.message.html()?this.contract():this.expand()},e.prototype.expand=function(e){return null==e&&(e="fast"),this.list.stop(!0,!0).slideDown(e),this.toggle.addClass("selected"),this.message.html("Hide"),this.element.find(".toggle-steps").addClass("selected")},e.prototype.contract=function(e){return null==e&&(e="fast"),this.list.stop(!0,!0).slideUp(e),this.toggle.removeClass("selected"),this.message.html("Show"),this.element.find(".toggle-steps").removeClass("selected")},e}(),Featurette.register("expandable-content-card",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.toggleContent=t(this.toggleContent,this),this.root=$(e),this.root.on("click",".expander-trigger",this.toggleContent),this.parentSelector=this.root.data("parent-selector")
}return e.prototype.toggleContent=function(e){var t,n,i,r;return e.preventDefault(),i=$(e.currentTarget),n=i.parents(this.parentSelector),n.toggleClass("expanded"),n.hasClass("expanded")&&(r=n.data("content-path"))&&(t=n.find(".expander-content-container"),t.hasClass("is-empty"))?$.get(r,function(e){return t.html(e).removeClass("is-empty")}):void 0},e}(),Featurette.register("expander",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.listener=t(this.listener,this),this.init=t(this.init,this),this.element=$(e),this.element.on("filter-list:updated",this.init),this.element.trigger("filter-list:updated"),this.initialValue()}return e.prototype.init=function(){return this.filters=this.element.find("a"),this.filters.off("click",this.listener),this.filters.on("click",this.listener)},e.prototype.initialValue=function(){var e;return(e=this.queryString()[this.element.attr("id")])&&this.val(e.replace(/\+/g," ")),void 0===this.val()?this.val(""):void 0},e.prototype.listener=function(e){var t;return e.preventDefault(),t=$(e.target),this.val(t.data("filter-value"))},e.prototype.val=function(e,t){var n;return null==t&&(t=!0),void 0===e?this.filters.filter(".selected").first().data("filter-value"):(this.filters.removeClass("selected"),n=this.filters.filter("[data-filter-value='"+e+"']"),1===n.length&&n.addClass("selected"),t?this.element.trigger("change"):void 0)},e.prototype.queryString=function(){var e,t,n,i,r,o;if(e=new Object,n=location.href.split("?")[1],!n)return e;for(o=n.split("&"),i=0,r=o.length;r>i;i++)t=o[i],t=t.split("="),e[t[0]]=t[1];return e},e}(),Featurette.register("filter-list",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.cancelNewComment=t(this.cancelNewComment,this),this.showNewComment=t(this.showNewComment,this),this.$el=$(e),this.id=this.$el.data("item-id"),this.type=this.$el.data("item-type"),this.$addEl=$("#add-"+this.type+"-comment-"+this.id),this.$newEl=$("#new-"+this.type+"-comment-"+this.id),this.$cancelEl=$("#cancel-new-"+this.type+"-comment-"+this.id),this.$el.click(this.showNewComment),this.$cancelEl.click(this.cancelNewComment)}return e.prototype.showNewComment=function(e){return e.preventDefault(),this.$addEl.hide(),this.$newEl.show()},e.prototype.cancelNewComment=function(e){return e.preventDefault(),this.$newEl.hide().find("textarea").val(""),this.$addEl.show()},e}(),Featurette.register("forum-commenting",e)}.call(this),function(){var e;e=function(){function e(e){var t=this;this.$el=$(e),this.id=this.$el.data("item-id"),this.type=this.$el.data("item-type"),this.$showEl=$("#show-"+this.type+"-"+this.id),this.$editEl=$("#edit-"+this.type+"-"+this.id),this.$cancelEl=$("#cancel-edit-"+this.type+"-"+this.id),this.$el.click(function(){return t.previousValue=t.$editEl.find("textarea").val(),t.$showEl.hide(),t.$editEl.show()}),this.$cancelEl.click(function(e){return e.preventDefault(),t.$editEl.hide(),t.$showEl.show(),t.$editEl.find("textarea").val(t.previousValue)})}return e}(),Featurette.register("forum-editing",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.updateVotingCounts=t(this.updateVotingCounts,this),this.vote=t(this.vote,this),this.selectBest=t(this.selectBest,this),this.$el=$(e),this.id=this.$el.data("answer-id"),this.cancelVoteUrl=this.$el.data("cancel-vote-url"),this.$answerWrap=this.$el.find(".discussion-highlight"),this.$bestEl=this.$el.find(".vote-best-answer"),this.$upvoteEl=this.$el.find(".vote-up"),this.$downvoteEl=this.$el.find(".vote-down"),this.$bestEl.find("a").click(this.selectBest),this.$upvoteEl.find("a").click(this.vote),this.$downvoteEl.find("a").click(this.vote)}return e.prototype.selectBest=function(e){var t,n,i=this;return e.preventDefault(),n=this.$bestEl.find("a").data("url"),this.$answerWrap.hasClass("discussion-answer-best")?(t=this.$answerWrap,this.$answerWrap.removeClass("discussion-answer-best"),this.$bestEl.addClass("selected")):(t=$(".discussion-answer-best"),t.removeClass("discussion-answer-best"),t.find(".vote-best-answer").addClass("selected"),this.$answerWrap.addClass("discussion-answer-best"),this.$bestEl.removeClass("selected")),$.ajax({url:n,type:"POST",error:function(){return i.$answerWrap.removeClass("discussion-answer-best"),i.$bestEl.addClass("selected"),t.addClass("discussion-answer-best"),t.find(".vote-best-answer").removeClass("selected"),alert("There was a problem marking the answer as best.")}})},e.prototype.vote=function(e){var t,n,i,r,o,s,a,l,u=this;return e.preventDefault(),t=$(e.currentTarget),o={upvotes_count:this.$upvoteEl.find(".vote-count").text(),downvotes_count:this.$downvoteEl.find(".vote-count").text()},n=t.find(".vote-count"),t.hasClass("voted")?(s=this.cancelVoteUrl,i=t,t.removeClass("voted"),r=Math.max(parseInt(null!=(a=n.text())?a:0)-1,0)):(s=t.data("url"),i=this.$el.find(".voted"),i.removeClass("voted"),t.addClass("voted"),r=parseInt(null!=(l=n.text())?l:0)+1),n.text(r),$.ajax({url:s,type:"POST",success:this.updateVotingCounts,error:function(){return t.removeClass("voted"),i.addClass("voted"),u.updateVotingCounts(o),alert("There was a problem counting your vote.")}})},e.prototype.updateVotingCounts=function(e){var t,n,i,r;return n=parseInt(null!=(i=e.upvotes_count)?i:0),t=parseInt(null!=(r=e.downvotes_count)?r:0),this.$upvoteEl.find(".vote-count").text(n),this.$downvoteEl.find(".vote-count").text(t),this.$upvoteEl.find("a").toggleClass("vote-count-zero",0===n),this.$downvoteEl.find("a").toggleClass("vote-count-zero",0===t)},e}(),Featurette.register("forum-voting",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.renderRepos=t(this.renderRepos,this),this.getRepos=t(this.getRepos,this),this.el=$(e),this.githubUsername=this.el.data("github-username"),this.githubSection=this.el.find("ul"),this.getRepos(this.githubUsername,this.githubSection,this.renderRepos)}return e.prototype.getRepos=function(e,t){var n,i;return n="https://api.github.com/users/"+e+"/repos",i=this,$.ajax({url:n,dataType:"jsonp",crossDomain:!0,success:function(n){var r;return r=n.data,r=$.grep(r,function(e){return!e.fork}),r.sort(function(e,t){return t.watchers_count-e.watchers_count}),r=$(r),i.renderRepos(r,e,t)}})},e.prototype.renderRepos=function(e,t,n){return this.setToggle(n,e.length),e.each(function(e){var i,r;return i={repoName:this.name,repoDescription:this.description,repoUrl:this.html_url,repoForksUrl:""+this.html_url+"/forks",repoForks:""+this.forks+" fork"+(this.forks>1?"s":""),repoStargazersUrl:""+this.html_url+"/stargazers",repoStargazers:""+this.watchers+" stargazer"+(this.watchers>1?"s":""),repoOwner:this.owner.login===t},r=HoganTemplates["profile/github_repo"].render(i),e>1&&(r=$(r).hide()),n.append(r)})},e.prototype.setToggle=function(e,t){var n;return n=e.parent(),t>0?n.find("a.show-all-repos").click(function(t){var n;return e.find("li").slice(2).slideToggle(),n=$(t.target),n.text("See all repositories"===n.text()?"Hide repositories":"See all repositories")}):n.find("a.show-all-repos").replaceWith("<span class='no-repos-found'>0 repositories</span>")},e}(),Featurette.register("github-profile",e)}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(){function e(e){var t;this.id=e.id,this.mikeId="mike",this.mikeSound="mike-sound",this.countCookie="mikeCounter",this.setupMike(),t=$(e),t.find(".close-message").click(function(){return t.hide(),$("body").removeClass("global-message-displayed")})}return e.prototype.setupMike=function(){var e=this;return this.canPlayMp3()||this.canPlayOgg()?$("#"+this.mikeId).click(function(){var t;return $("#"+e.id).slideToggle("fast"),t=parseInt($.cookie(e.countCookie))||0,0===t%10&&$("#"+e.mikeSound)[0].play(),$.cookie(e.countCookie,t+1)}):void 0},e.prototype.canPlayMp3=function(){var e;return e=document.createElement("audio"),!(!e.canPlayType||!e.canPlayType("audio/mpeg;").replace(/no/,""))},e.prototype.canPlayOgg=function(){var e;return e=document.createElement("audio"),!(!e.canPlayType||!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""))},e}(),Featurette.register("global-message-container",e),t=function(e){function t(e){var t;this.id=e.id,t=$(e),this.key=t.attr("data-hide"),"true"!==$.cookie(this.key)&&t.show(),t.find(".close-message").click(function(){return this.key=t.attr("data-hide"),t.hide(),$.cookie(this.key,"true",{expires:365,path:"/"}),$("body").removeClass("global-message-displayed")})}return i(t,e),t}(e),Featurette.register("global-message-container-with-key",t)}.call(this),function(){var e;e=function(){function e(e){var t=this;this.id=e.id,$(e).find("#contact-form .honey-pot-field").remove(),this.resetContactForm(),$(e).find("#contact-form").submit(function(e){return t.handleSubmit(e)})}return e.prototype.resetContactForm=function(){var e;return e=$("#"+this.id),e.find("#contact-form input").add("#"+this.id+" #contact-form textarea").removeClass("field_with_errors"),e.find("span.error-message").hide(),e.find(".message").hide(),window.element=e,this.hasBeenSubmitted&&e.find("#contact-form").css("visibility","visible"),this.hasBeenSubmitted&&e.find(".form-footer .button").css("visibility","visible"),this.hasBeenSubmitted=!1},e.prototype.handleSubmit=function(e){var t,n=this;return t=$("#"+this.id),this.resetContactForm(),t.find("#contact-form").css("visibility","hidden"),t.find(".form-footer .button").css("visibility","hidden"),t.find(".message.waiting").show(),$.ajax({url:"/contact.json",type:"POST",dataType:"json",data:t.find("form").serialize(),error:function(){return $(".contactForm .message").hide(),$(".contactForm .message.error").show()},success:function(e){return t.find(".message").hide(),$.isEmptyObject(e.errors)?(t.find(".message.success").show(),n.hasBeenSubmitted=!0,t.find("#contact-form textarea").val("")):(t.find(".message.error").show(),t.find("#contact-form").css("visibility","visible"),t.find(".form-footer .button").css("visibility","visible"),$.each(e.errors,function(e,n){return t.find("#contact_form_"+e).addClass("field_with_errors").closest("div.form-item").find("span.error-message").show().text(n[0])}))}}),e.preventDefault()},e}(),Featurette.register("help-form",e)}.call(this),function(){var e;e=function(){function e(e){var t;t=$(e),t.find(".play-button a").on("click",function(e){var n;return t.find(".video-feature").fadeOut(1e3),n=Featurette.get(t.find("video").attr("id")),n.endCallback=function(){return t.find(".video-feature").fadeIn(1e3)},n.player.play(),e.preventDefault()})}return e}(),Featurette.register("how-treehouse-works-video",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.removePathItem=t(this.removePathItem,this),this.addNewPathItem=t(this.addNewPathItem,this),this.onCourseSelection=t(this.onCourseSelection,this);var n;this.el=$(e),this.el.on("change",".select-course",this.onCourseSelection),this.el.on("click",".add-new",this.addNewPathItem),this.el.on("click",".remove-path-item",this.removePathItem),this.el.on("open",".dd-select",function(e){return $(e.target).parents(".item").css("z-index",200)}),this.el.on("close",".dd-select",function(e){return $(e.target).parents(".item").css("z-index","")}),n=this.el.find(".select-course select, .select-item select"),$.uniform.restore(n),this.initializeDropdowns(this.el)}return e.prototype.initializeDropdowns=function(e){return e.find(".select-course select").each(function(){return new Slick(this)}),e.find(".select-item select").each(function(){return new Slick(this)})},e.prototype.onCourseSelection=function(e){var t,n;return t=$(e.target),n=t.parents(".item").find(".select-item"),$.get("/learning-adventures/syllabus-options/"+t.val(),function(e){return n.find("select").html(e).change(),n.show()})},e.prototype.addNewPathItem=function(e){var t,n,i;return e.preventDefault(),this.template||(this.template=this.el.find("#path-item-fields-template").html()),n=(new Date).getTime(),i=new RegExp("new_path_item","g"),t=$(this.template.replace(i,n)),this.initializeDropdowns(t),this.el.find(".item:last").after(t),this.el.find(".item:visible").length>1?this.el.find(".item:visible:first .remove-path-item").show():void 0},e.prototype.removePathItem=function(e){var t,n;return e.preventDefault(),n=$(e.currentTarget).parents(".item"),t=n.find("input[type=hidden]"),t.length>0?(t.val("1"),n.hide()):n.remove(),1===this.el.find(".item:visible").length?this.el.find(".item:visible:first .remove-path-item").hide():void 0},e}(),Featurette.register("learning-adventure-form",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.requiredFields=t(this.requiredFields,this),this.form=$(e),this.contactEmailOnClick(),this.contactPhoneOnClick(),this.iePlaceholders(),this.requiredFields()}return e.prototype.contactEmailOnClick=function(){return $("#contact-email").click(function(){return $("#phone-email").val(""),$("#phone-email").attr("placeholder","Email Address"),$("#mailing-list-subscribe").removeClass("hide")})},e.prototype.contactPhoneOnClick=function(){return $("#contact-phone").click(function(){return $("#phone-email").val(""),$("#phone-email").attr("placeholder","Phone Number"),$("#mailing-list-subscribe").addClass("hide")})},e.prototype.requiredFields=function(){return this.form.submit(function(e){return $(this).find(".required").each(function(t,n){return n=$(n),n.removeClass("error"),n.parents(".form-element").removeClass("error"),n.val()===n.attr("placeholder")||""===$.trim(n.val())?(e.preventDefault(),n.parents(".form-element").addClass("error"),n.addClass("error"),$(".alert-box").show()):void 0})})},e.prototype.iePlaceholders=function(){return $("[placeholder]").focus(function(){var e;return e=$(this),e.val()===e.attr("placeholder")?(e.val(""),e.removeClass("placeholder")):void 0}),$("[placeholder").blur(function(){var e;return e=$(this),""===e.val()||e.val()===e.attr("placeholder")?(e.addClass("placeholder"),e.val(e.attr("placeholder"))):void 0}),$("[placeholder").blur(),$("[placeholder]").parents("form").submit(function(){var e;return e=$(this),e.val()===e.attr("placeholder")?e.val(""):void 0})},e}(),Featurette.register("library-inquiry-form",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.onFormSubmit=t(this.onFormSubmit,this);var n;this.textarea=$(e),this.form=this.textarea.closest("form"),this.textarea.mentionsInput({onDataRequest:this.onDataRequest,triggerChar:"@",minChars:1,showAvatars:!0,elastic:!1,templates:{autocompleteList:_.template('<ul class="user-tagging"></ul>'),autocompleteListItem:_.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><a><strong><%= content %></strong><p>@<%= username %></p></a></li>'),autocompleteListItemAvatar:_.template('<div class="avatar <%= type %>"><img src="<%= avatar %>" /></div>')}}),(n=this.textarea.data("mentions"))&&this.textarea.mentionsInput("setMentions",this.textarea.data("mentions-body"),n),this.form.on("submit",this.onFormSubmit)}return e.prototype.onFormSubmit=function(){var e=this;return this.textarea.mentionsInput("val",function(t){var n;return n=$("<input type='hidden' name='"+e.textarea.attr("name")+"'/>"),n.val(t),e.textarea.after(n),e.textarea.attr("name","gui_body")})},e.prototype.onDataRequest=function(e,t,n){return $.getJSON("/users/mention_search.json","query="+t,function(e){return n.call(this,e)})},e}(),Featurette.register("mentions",e)}.call(this),function(){var e,t,n,i,r={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(e){this.id=e.id,this.beforeClose=null,this.closeable=null==$(e).data("uncloseable"),this.lightbox=new LightBox("#"+this.id,this.closeable)}return e.prototype.showOverlay=function(){return this.lightbox.showOverlay()},e.prototype.closeOverlay=function(){return this.beforeClose&&this.beforeClose(),this.lightbox.closeOverlay()},e}(),Featurette.register("modal",n),t=function(e){function t(){return i=t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.showOverlay=function(){return Featurette.get("help-form").resetContactForm(),t.__super__.showOverlay.call(this)},t}(n),Featurette.register("help-modal",t),e=function(e){function t(e){this.onInput=s(this.onInput,this),this.setRating=s(this.setRating,this),this.removeStar=s(this.removeStar,this),this.setStar=s(this.setStar,this),this.closeFeedbackForm=s(this.closeFeedbackForm,this),this.afterFormSubmit=s(this.afterFormSubmit,this),this.onSubmit=s(this.onSubmit,this),this.el=$(e),this.el.on("mouseenter",".content-feedback-star",this.setStar),this.el.on("mouseleave",".content-feedback-star",this.removeStar),this.el.on("click",".content-feedback-star",this.setRating),this.el.on("input",".expanding-input",this.onInput),this.el.find(".expanding-input").trigger("input"),this.el.on("submit","form",this.onSubmit),this.el.on("click","#close-content-feedback",this.closeFeedbackForm),t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.onSubmit=function(e){var t;return e.preventDefault(),t=$(e.currentTarget),$.post(t.attr("action"),t.serialize(),this.afterFormSubmit)},t.prototype.afterFormSubmit=function(){return this.closeFeedbackForm(),$(".feedback-callout").hide()},t.prototype.closeFeedbackForm=function(){return LightBox.lastOpen?LightBox.lastOpen.showOverlay():this.closeOverlay()},t.prototype.setStar=function(e){return this.el.find(".content-feedback-star").removeClass("starred"),$(e.currentTarget).parent().prevAll().addBack().children("label").addClass("starred")},t.prototype.removeStar=function(e){return this.el.find(".content-feedback-star").removeClass("starred"),$(e.currentTarget).parent().prevAll().addBack().children("label").removeClass("starred")},t.prototype.setRating=function(e){return this.el.find(".content-feedback-star").removeClass("selected"),$(e.currentTarget).parent().prevAll().addBack().children("label").addClass("selected"),this.el.find(".expanding-input").focus(),this.el.find(".button").show()},t.prototype.onInput=function(e){var t,n;return n=$.trim($(e.currentTarget).val()),t=n?"fadeOut":"fadeIn",this.el.find(".label-optional")[t]()},t}(n),Featurette.register("content-modal",e)}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(){function e(e){var t,n=this;this.id=e.id,t=$(e),this.target=t.attr("data-target"),this.mobile_fallback=t.attr("data-mobile-fallback"),t.click(function(e){var t;return n.mobile_fallback&&$(window).width()<=480?!0:(t=Featurette.get(n.target),t.showOverlay(),e.preventDefault())})}return e}(),Featurette.register("modal-trigger",e),t=function(e){function t(e){var t,n=this;this.id=e.id,t=$(e),this.target=t.attr("data-target"),this.mobile_fallback=t.attr("data-mobile-fallback"),this.src=t.attr("data-src"),t.click(function(e){var t,i;return n.mobile_fallback&&$(window).width()<=480?!0:(t=function(e){return $("#"+i.id+" #modal_url_replace_me").html(e)},$.get(n.src,{},t),i=Featurette.get(n.target),i.showOverlay(),e.preventDefault())})}return i(t,e),t}(e),Featurette.register("modal-URL-trigger",t)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.updateNotificationsCount=t(this.updateNotificationsCount,this),this.markNotificationsRead=t(this.markNotificationsRead,this),this.sendWebkitNotification=t(this.sendWebkitNotification,this),this.addNewNotification=t(this.addNewNotification,this),this.hideDropdown=t(this.hideDropdown,this),this.showDropdown=t(this.showDropdown,this),this.toggleDropdown=t(this.toggleDropdown,this);var n,i,r=this;this.el=$(e),n=this.el.data("channel"),this.notificationsDropdown=this.el.find(".notifications-container"),this.notificationsLink=this.el.find("a:first-child"),this.counter=this.el.find(".notifications-count"),this.timeout=null,i={channel:n,subscribe_key:this.subKey,publish_key:this.pubKey,presence:!1,ssl:!0},pubnub.subscribe({channel:n,message:function(e){return"notification"===e.name?r.addNewNotification(e.data):void 0}}),this.el.click(function(){return r.toggleDropdown()}),this.notificationsDropdown.on("click",function(e){return e.stopPropagation()}),Tinycon.setOptions({width:7,height:9,font:"10px arial",colour:"#ffffff",background:"#ea6c6c",fallback:!0}),Tinycon.setBubble(parseInt(this.counter.text()))}return e.prototype.subKey="sub-e2de2b5c-13c2-11e2-b508-f53fda4cd93d",e.prototype.pubKey="pub-b8a18d09-58e0-4ec4-acd5-67ce32d576cd",e.prototype.toggleDropdown=function(){return"none"===this.notificationsDropdown.css("display")?this.showDropdown():this.hideDropdown()},e.prototype.showDropdown=function(){var e=this;return $(".click-toggled").hide(),this.notificationsDropdown.addClass("click-toggled").show(),this.notificationsLink.addClass("selected"),$("body").on("click",function(t){return e.bodyClick=t,$(t.target).closest("li.featurette").length?void 0:e.hideDropdown()}),$(document).keyup(function(t){return e.documentKeyup=t,27===t.keyCode?e.hideDropdown(!1):void 0}),this.el.off("mouseleave, mouseenter"),this.el.on("mouseleave",function(){return e.hideDropdown(!0,1e3)}),this.el.on("mouseenter",function(){return e.notificationsDropdown.stop(!0,!1)})},e.prototype.hideDropdown=function(e,t){var n=this;return null==e&&(e=!0),null==t&&(t=0),this.notificationsDropdown.delay(t).hide(0,function(){return n.notificationsLink.removeClass("selected"),n.bodyClick&&$("body").off(n.bodyClick),n.documentKeyup&&$(document).off(n.documentKeyup),n.notificationsDropdown.removeClass("click-toggled"),e?n.markNotificationsRead():void 0})},e.prototype.addNewNotification=function(e){var t,n;return t=$(e),0===$(t.attr("id")).length&&($(".global-notifications-list").prepend(t),n=parseInt(this.counter.text()),n++,this.updateNotificationsCount(n),window.webkitNotifications)?this.sendWebkitNotification(t):void 0},e.prototype.sendWebkitNotification=function(e){var t,n,i,r,o;return 0===window.webkitNotifications.checkPermission()?(r=e.children("h3").first().text(),n=e.find("p.notification-message").first().text(),t=e.find("img").first().attr("src"),t.match("^http")||(t="http:"+t),o=e.children("a").first().attr("href"),i=window.webkitNotifications.createNotification(t,r,n),i.onclick=function(){return window.open(o),i.close()},i.show()):void 0},e.prototype.markNotificationsRead=function(){var e,t,n=this;return e=this.el.find("input").serializeArray(),e.length?(t=window.location.protocol+"//"+window.location.host+"/notifications/mark-read",$.post(t,e,function(){return n.el.find(".notification-unread").removeClass("notification-unread"),n.el.find('input[name="unread"]').remove(),n.updateNotificationsCount(0),!0})):void 0},e.prototype.updateNotificationsCount=function(e){return 0===e?this.counter.addClass("hidden"):this.counter.removeClass("hidden"),this.counter.text(e),Tinycon.setBubble(e)},e}(),Featurette.register("notifications",e)}.call(this),function(){var e;e=function(){function e(e){var t=this;this.element=$(e),this.element.find("#email").remove(),this.donateButton=$("#scrollButton_donate"),this.signupButton=$("#scrollButton_signup"),this.signUpTarget=this.element.find("#scrollTarget_signup"),this.signupOffset=this.signUpTarget.offset().top,this.donationForm=this.element.find("form#scrollTarget_donate"),this.donateOffset=this.donationForm.offset().top,this.signupButton.click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:t.signupOffset},600)}),this.donateButton.click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:t.donateOffset},600)}),this.donationForm.submit(function(e){return e.preventDefault(),$("#donate-submit").attr("value","Submitting...").addClass("submitting"),$.post(t.donationForm.attr("action"),t.donationForm.serialize()).done(function(){return t.submittedSuccess()}).fail(function(){return t.submittedError()})}),setTimeout(function(){return $(".animation-container").addClass("start-animation")},600)}return e.prototype.submittedSuccess=function(){return $("#donate-submit").attr("value","Get in touch").removeClass("submitting"),this.donationForm[0].reset(),$("#default-form-content").hide(),$("#success-form-content").show()},e.prototype.submittedError=function(){return $("#donate-submit").attr("value","Get in touch").removeClass("submitting"),$("#error-alert").show()},e}(),Featurette.register("bogo-page",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.listeners=t(this.listeners,this),this.element=$(e),this.container=$("#forums-pjax"),_.delay(this.listeners,500)}return e.prototype.listeners=function(){return new Filters({basePath:"forum",container:"#forums-pjax",binds:{sort:Featurette.get("sort"),topic:Featurette.get("topic"),q:$("#q")}}),$(document).on("filters:serialized",function(){return $("#forum_post_topic_id option").each(function(){return this.text.toLowerCase()===Featurette.get("topic").val().replace("-"," ")?this.selected=!0:void 0}),$.uniform.update()})},e}(),Featurette.register("forum-index",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.showImagePreview=t(this.showImagePreview,this),this.el=$(e),$("#contact-method-selector").on("change",this.contactMethodToggle),$(".radio-replacement-wrapper").on("click",this.replaceRadios),$("#job_company_logo").on("change",this.showImagePreview),this.contactMethodInit(),this.setupRadios()}return e.prototype.contactMethodInit=function(){var e,t;return e=$(".contact_email"),t=$(".contact_url"),""!==e.children("input").val()?t.hide():($("#contact-method-selector").val("email"),e.hide())},e.prototype.contactMethodToggle=function(){var e;return e=$("#contact-method-selector").val(),$("#contact-method-selector-wrapper input").val("").parents(".form-item").hide(),$(".contact_"+e).show()},e.prototype.replaceRadios=function(e){var t;return t=$(e.delegateTarget),t.siblings(".radio-replacement-wrapper").removeClass("selected"),t.addClass("selected"),t.find("input[type='radio']").attr("checked","checked")},e.prototype.setupRadios=function(){var e;return e=$(".radio-replacement-wrapper input[type='radio']:checked"),0===e.length?$(".radio-collection").each(function(e,t){return $(t).find(":radio").first().attr("checked","checked").parents(".radio-replacement-wrapper").addClass("selected")}):e.parent().addClass("selected")},e.prototype.highlightRadioContainer=function(e){return $(e).parents(".radio-replacement-wrapper").addClass("selected")},e.prototype.showImagePreview=function(e){return window.File&&window.FileReader&&window.FileList&&window.Blob?_.each(e.target.files,function(e){var t;return t=new FileReader,t.onload=function(e){var t;return t=$(".company-logo").empty(),$("<img src='"+e.target.result+"' />").appendTo(t).hide().show(250),$(".company-logo").css({"background-image":"background-image",none:"none"})},t.readAsDataURL(e)}):void 0},e}(),Featurette.register("job-form",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.locationSource=t(this.locationSource,this),this.updateLocations=t(this.updateLocations,this),this.noResults=t(this.noResults,this),this.listeners=t(this.listeners,this),this.element=$(e),this.container=$("#job-pjax"),this.search=this.element.find("#search"),this.locationSearch=this.element.find("#job-location-search"),this.locationList=this.element.find("#location"),this.locationSearch.data("existing",this.element.find("#location").html()),this.locationSearch.on("keyup",this.updateLocations),this.container.on("pjax:end",this.noResults),_.delay(this.listeners,500)}return e.prototype.listeners=function(){return new Filters({basePath:"jobs",container:"#job-pjax",binds:{category:Featurette.get("category"),type:Featurette.get("type"),location:Featurette.get("location"),q:$("#q")}})},e.prototype.noResults=function(){return $("#no-results").hide(),0===this.container.find("li").length?$("#no-results").show():void 0},e.prototype.updateLocations=function(e){return e.preventDefault(),this.locationSearch.autocomplete({delay:500,minLength:5,source:this.locationSource})},e.prototype.locationSource=function(e,t){var n=this;return $.ajax({url:this.locationSearch.data("autocomplete-url"),data:{location:this.locationSearch.val()},dataType:"json",beforeSend:function(){return n.locationList.empty()},success:function(i){var r;return n.locationList.prepend(n.locationSearch.data("existing")),r=_.each(i,function(t){return n.locationList.append("<li><a data-filter-value='"+t+"'>"+t+"</a></li>"),n.locationSearch.val(e.term)}),t(r),n.locationList.trigger("filter-list:updated"),$(window).trigger("resize")}})},e}(),Featurette.register("job-index",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.dynamicTitle=t(this.dynamicTitle,this),this.noResults=t(this.noResults,this),this.listeners=t(this.listeners,this),this.element=$(e),this.container=$("#library-pjax"),_.delay(this.listeners,100),_.delay(this.dynamicTitle,200)}return e.prototype.listeners=function(){return this.container.on("pjax:end",this.noResults),this.filters=new Filters({basePath:"library",container:"#library-pjax",binds:{topic:Featurette.get("topic"),type:Featurette.get("type"),q:$("#q"),sort:Featurette.get("sort")}})},e.prototype.noResults=function(){return $("#no-results").hide(),0===this.container.find("li").length?$("#no-results").show():void 0},e.prototype.dynamicTitle=function(){return $("#library-pjax").on("pjax:end",function(){return $(".topic-heading").length>0?$(".primary-heading h1").html("<a class='all-topics' href='/library'><span class='icon icon-left'></span> Library</a>"):$(".primary-heading h1").html("Library")}),$(document).on("click","a.all-topics",function(e){return e.preventDefault(),Featurette.get("topic").val("")})},e}(),Featurette.register("library-index",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.scrollOffsetForEl=t(this.scrollOffsetForEl,this),this.onScroll=t(this.onScroll,this),this.el=$(e),$(window).on("scroll",this.onScroll)}return e.prototype.defaultScrollOffset=$(window).height()>620&&$(window).width()>640?100:0,e.prototype.onScroll=function(){var e,t,n,i,r,o;n=$(window).scrollTop(),i=$(window).height(),r=this.animations,o=[];for(t in r)e=r[t],o.push(e.call(this,n,i));return o},e.prototype.scrollOffsetForEl=function(e,t,n){return null==n&&(n=this.defaultScrollOffset),e.offset().top-t+n},e.prototype.animations={tracksGraph:function(e,t){var n,i,r,o,s,a;return i=$('[data-trigger-animation="tracks_html"]'),n=$(".graph-dot-html"),o=$('[data-trigger-animation="tracks_js"]'),r=$(".graph-dot-js"),s=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),a=this.scrollOffsetForEl(o,t-this.defaultScrollOffset),e>s&&(i.addClass("activated"),n.addClass("activated")),e>a?(o.addClass("activated"),r.addClass("activated")):void 0},tracksGoal:function(e,t){var n,i,r,o;return n=$('[data-trigger-animation="tracks_goal"]'),i=n.children("li"),o=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),e>o?(n.addClass("activated"),r=200,i.each(function(e){var t;return t=$(this),setTimeout(function(){return t.addClass("activated")},r*(e+1))})):void 0},tracksSteps:function(e,t){var n,i;return n=$('[data-trigger-animation="tracks_steps"]'),i=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),e>i?n.addClass("activated"):void 0},topicTag:function(e,t){var n,i;return n=$('[data-trigger-animation="topic_tags"]'),i=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),e>i?n.addClass("activated"):void 0},teacher:function(e,t){var n,i;return n=$('[data-trigger-animation="teachers"]'),i=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),e>i?n.addClass("activated"):void 0},badges:function(e,t){var n,i;return n=$('[data-trigger-animation="badges"]'),i=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),e>i?n.addClass("activated"):void 0},donut:function(e,t){var n,i;return n=$('[data-trigger-animation="donut"]'),i=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),e>i?(n.addClass("activated"),setTimeout(function(){return $(".mask-rotator").hide(),n.append('<span class="donut-right above"></span>')
},400),setTimeout(function(){return $(".mask-cover").hide()},750)):void 0},quiz:function(e,t){var n,i;return n=$('[data-trigger-animation="quiz"]'),i=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),e>i?n.addClass("activated"):void 0},points:function(e,t){var n,i;return n=$('[data-trigger-animation="points"]'),i=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),e>i?n.addClass("activated"):void 0},scrollyImage:function(e,t){var n,i,r;return n=$('[data-trigger-animation="access_anywhere"]'),r=e*-.2+820,i=this.scrollOffsetForEl(n,t),$(window).width()>460&&e>i?n.animate({top:r+"px"},0):void 0},forum:function(e,t){var n,i;return n=$('[data-trigger-animation="forum"]'),i=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),e>i?n.addClass("activated"):void 0},toolbelt:function(e,t){var n,i;return n=$('[data-trigger-animation="toolbelt"]'),i=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),e>i?n.addClass("activated"):void 0},jobCard:function(e,t){var n,i;return n=$('[data-trigger-animation="job_card"]'),i=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),e>i?n.addClass("activated"):void 0}},e}(),Featurette.register("marketing-features",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.scrollOffsetForEl=t(this.scrollOffsetForEl,this),this.onScroll=t(this.onScroll,this);var n;this.el=$(e),n=$(window).height(),$(window).on("scroll",this.onScroll),n>800&&$(document).trigger("scroll")}return e.prototype.defaultScrollOffset=100,e.prototype.onScroll=function(){var e,t,n,i,r,o;n=$(window).scrollTop(),i=$(window).height(),r=this.animations,o=[];for(t in r)e=r[t],o.push(e.call(this,n,i));return o},e.prototype.scrollOffsetForEl=function(e,t,n){return null==n&&(n=this.defaultScrollOffset),e.offset().top-t+n},e.prototype.animations={webApp:function(e,t){var n,i,r,o,s;return o=$("#webNavBar"),n=$("#webApp1"),i=$("#webApp2"),r=$("#webApp3"),s=this.scrollOffsetForEl($('[data-trigger-animation="learn"]'),t),e>s?(n.addClass("activated"),o.find("ul li:nth-child(3)").addClass("activated"),setTimeout(function(){return i.addClass("activated"),o.find("ul li").removeClass("activated"),o.find("ul li:nth-child(2)").addClass("activated")},1500),setTimeout(function(){return r.addClass("activated"),o.find("ul li").removeClass("activated"),o.find("ul li:nth-child(1)").addClass("activated")},3e3)):void 0},iPadApp:function(e,t){var n,i,r,o,s;return o=$("#ipadNavBar"),n=$("#ipadApp1"),i=$("#ipadApp2"),r=$("#ipadApp3"),s=this.scrollOffsetForEl($('[data-trigger-animation="learn"]'),t),e>s?(n.addClass("activated"),o.find("ul li:nth-child(3)").addClass("activated"),setTimeout(function(){return i.addClass("activated")},1650),setTimeout(function(){return r.addClass("activated"),o.find("ul li").removeClass("activated"),o.find("ul li:nth-child(2)").addClass("activated")},3150)):void 0},codeBlock:function(e,t){var n,i;return n=$(".fake-code-block"),i=this.scrollOffsetForEl($('[data-trigger-animation="practice"]'),t),e>i?(n.children("li:first-child").children(".pink-code-block").addClass("activated"),setTimeout(function(){return n.find("li:nth-child(2)").children(".purp-code-block").addClass("activated")},200),setTimeout(function(){return n.find("li:nth-child(2)").children(".white-code-block").addClass("activated")},400),setTimeout(function(){return n.find("li:nth-child(3)").children(".white-code-block").addClass("activated")},700),setTimeout(function(){return n.find("li:nth-child(3)").children(".pink-code-block").addClass("activated")},850),setTimeout(function(){return n.find("li:nth-child(4)").children(".pink-code-block").addClass("activated")},1100),setTimeout(function(){return n.find("li:nth-child(5)").children(".purp-code-block").addClass("activated")},1250),setTimeout(function(){return n.find("li:nth-child(5)").children(".white-code-block").addClass("activated")},1400)):void 0},badgeBlips:function(e,t){var n,i,r,o,s;return o=$(".red-blip"),n=$(".blue-blip"),i=$(".blue-plus"),r=$(".green-plus"),s=this.scrollOffsetForEl($('[data-trigger-animation="earn"]'),t),e>s?(o.addClass("activated"),setTimeout(function(){return i.addClass("activated")},200),setTimeout(function(){return n.addClass("activated")},400),setTimeout(function(){return r.addClass("activated")},500)):void 0}},e}(),Featurette.register("marketing-home",e)}.call(this),function(){var e;e=function(){function e(e){var t=this;this.element=$(e),this.details=$("#"+this.element.data("details")),this.element.find("a.button").on("click",function(e){return e.preventDefault(),t.show()}),this.element.find(".selection a").on("click",function(e){return e.preventDefault(),t.hide()}),this.details.find(".offer-close").on("click",function(e){return e.preventDefault(),t.hide()}),this.details.find("form").on("submit",function(e){return $.post(t.details.find("form").attr("action"),{_method:"PUT"},function(){return t.details.find(".offer-form").hide(),t.details.find(".thank-you").show()}),e.preventDefault()})}return e.prototype.show=function(){var t=this;return $(".expanded:visible").each(function(t,n){return e.hideExpandedDetails($(n))}),$(".selection:visible").fadeOut(200),this.details.length>0?($(window).width()<=767&&(this.details.after('<div class="placeholder-'+this.details.attr("id")+'"></div>'),this.element.parent().after(this.details)),this.details.slideDown(200,function(){return $("html, body").delay(200).animate({scrollTop:t.details.offset().top-100},200)}),this.element.find(".selection").fadeIn(200)):Featurette.get("perk-not-available").showOverlay()},e.prototype.hide=function(){return this.details.length>0?(this.element.find(".selection").fadeOut(200),e.hideExpandedDetails(this.details)):void 0},e.hideExpandedDetails=function(e){return e.slideUp(200,function(){return $(window).width()<=767?($(".placeholder-"+e.attr("id")).after(e),$(".placeholder-"+e.attr("id")).remove()):void 0})},e}.call(this),Featurette.register("perk",e)}.call(this),function(){var e;e=function(){function e(e){this.hasCanvasSupport()&&this.createChart(e)}return e.prototype.createChart=function(e){var t,n,i,r,o,s,a,l,u;i=e.getContext("2d"),n={html:"#39ADD1",css:"#2570a8",javascript:"#913B53",ruby:"#E15258",ios:"#53BBB4",business:"#F9845B",android:"#51B46D",php:"#665885",wordpress:"#9D8AC7",design:"#E0AB18","dev tools":"#62707D"},a=$(e).data("points"),r=[],l=0;for(s in a)u=a[s],l+=u,r.push({value:u,color:n[s]});return 0===l&&r.push({value:1,color:"#D4D9DD"}),o={segmentShowStroke:!1,segmentStrokeColor:"#fff",segmentStrokeWidth:0,percentageInnerCutout:55,width:240,height:240,animation:!1},t=new Chart(i).Doughnut(r,o)},e.prototype.hasCanvasSupport=function(){var e;return e=document.createElement("canvas"),!(!e.getContext||!e.getContext("2d"))},e}(),Featurette.register("points-chart",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.collapsePoints=t(this.collapsePoints,this),this.expandPoints=t(this.expandPoints,this);var n=this;this.el=$(e),this.total_div=this.el.find("#total-points"),this.small_donut=this.total_div.find(".points-donut"),this.expanded_div=this.el.find("#expanded-points"),this.toggle=this.el.find("a.toggle"),this.toggle_arrow=this.toggle.find("span"),this.started_collapsed=this.total_div.hasClass("collapsed"),this.current_state=this.started_collapsed?"collapsed":"expanded",this.animationTime=350,this.animating=!1,this.toggle.click(function(e){return e.preventDefault(),n.animating?void 0:(n.animating=!0,"collapsed"===n.current_state?(n.current_state="expanded",n.expandPoints()):(n.current_state="collapsed",n.collapsePoints()))})}return e.prototype.expandPoints=function(){var e=this;return this.started_collapsed?this.toggle_arrow.css("animation","arrowRotateUp .35s"):this.toggle_arrow.css("animation","arrowRotateDown .35s"),this.expanded_div.slideDown(this.animationTime),this.total_div.animate({"margin-bottom":"+=30px","padding-bottom":"+=25px"},this.animationTime,function(){return e.animating=!1,e.total_div.removeClass("collapsed",100),e.started_collapsed?e.toggle_arrow.css("transform","rotate(180deg)"):e.toggle_arrow.css("transform","rotate(0deg)")}),this.small_donut.fadeOut(100),this.total_div.find("h1").animate({"padding-left":"-=80",queue:!1},this.animationTime),this.total_div.find("p").animate({"padding-left":"-=80",queue:!1},this.animationTime)},e.prototype.collapsePoints=function(){var e=this;return this.started_collapsed?this.toggle_arrow.css("animation","arrowRotateDown .35s"):this.toggle_arrow.css("animation","arrowRotateUp .35s"),this.expanded_div.slideUp(this.animationTime),this.total_div.addClass("collapsed",100),this.total_div.find("h1").css({"padding-left":"0px"}),this.total_div.find("p").css({"padding-left":"0px"}),this.total_div.animate({"margin-bottom":"-=30px","padding-bottom":"-=25px"},this.animationTime,function(){return e.started_collapsed?e.toggle_arrow.css("transform","rotate(0deg)"):e.toggle_arrow.css("transform","rotate(180deg)"),e.total_div.find("h1").animate({"padding-left":"+=80"},e.animationTime-100),e.total_div.find("p").animate({"padding-left":"+=80"},e.animationTime-100),e.small_donut.fadeIn(e.animationTime-100,function(){return e.animating=!1})})},e}(),Featurette.register("points-expander",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.el=e,this.generateAnswers=t(this.generateAnswers,this),this.generateQuestion=t(this.generateQuestion,this),this.generateScore=t(this.generateScore,this),this.generateFeedback=t(this.generateFeedback,this),this.nextQuestion=t(this.nextQuestion,this),this.initializeQuiz=t(this.initializeQuiz,this),this.processResponse=t(this.processResponse,this),this.submitAnswer=t(this.submitAnswer,this),this.el=$(this.el),this.quizData=this.el.data("quiz"),this.initializeQuiz(this.quizData),this.questionAnswered=!1,this.el.on("click",".quiz-answers a",this.submitAnswer),this.el.on("click",".feedback a",this.nextQuestion),this.el.on("submit","#fill-in-blank",function(e){return e.preventDefault(),$(e.currentTarget).parents(".quiz-answers").find("a").click()}),this.el.data("unavailable")===!0&&setTimeout(function(){return Featurette.get("quiz-unavailable").showOverlay()},100)}return e.prototype.submitAnswer=function(e){var t,n,i=this;return e.preventDefault(),this.questionAnswered?void 0:(this.questionAnswered=!0,n=e.currentTarget,$(n).addClass("selected"),$(".quiz-answers").addClass("inactive"),t={fitb_answers:$("#fill-in-blank").serializeArray()},this.quizData.quiz_attempt&&(t.quiz_attempt=this.quizData.quiz_attempt),$.ajax({type:"POST",url:n.href,data:t,dataType:"json",success:function(e){return i.processResponse(e)},error:function(e){return debug("Error",e)}}))},e.prototype.processResponse=function(e){return this.quizData=e,"passed"===this.quizData.quiz_status?this.quizData.badge_earned===!0?e.video?(Featurette.get("badge-video-modal").showOverlay(),$("#reward-video-container").html(e.video),$("#reward-video").show(),setTimeout(function(){return $(".achievement-rewards-callout").fadeOut()},5e3),this.player=new MediaElementPlayer($("#player"))):(Featurette.get("badge-modal").showOverlay(),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300)):$("#quiz-completed-modal").size()>0?(Featurette.get("quiz-completed-modal").showOverlay(),$(".modal .points-earned").addClass("active"),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300)):(Featurette.get("badge-modal").showOverlay(),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300)):"failed"===this.quizData.quiz_status&&Featurette.get("failed-quiz-modal").showOverlay(),this.generateFeedback(this.quizData),this.generateScore(this.quizData)},e.prototype.initializeQuiz=function(e){return this.generateScore(e),this.generateQuestion(e),this.generateAnswers(e)},e.prototype.nextQuestion=function(e){var t;return e.preventDefault(),this.questionAnswered=!1,t=e.currentTarget,$("#feedback").empty(),this.generateQuestion(this.quizData),this.generateAnswers(this.quizData)},e.prototype.generateFeedback=function(e){var t;return t=HoganTemplates["quizzes/feedback"].render(e),this.el.find("#feedback").html(t)},e.prototype.generateScore=function(e){var t;return e.label=e.score.answers_to_pass>1?"answers":"answer",t=HoganTemplates["quizzes/score"].render(e),this.el.find("#score").html(t)},e.prototype.generateQuestion=function(e){var t;return t=HoganTemplates["quizzes/question"].render(e),this.el.find("#question").html(t)},e.prototype.generateAnswers=function(e){var t;return t="","MultipleChoice"===e.question.question_type?t=HoganTemplates["quizzes/multiple_choice"].render(e):"TrueFalse"===e.question.question_type?t=HoganTemplates["quizzes/true_false"].render(e):"FillInTheBlank"===e.question.question_type&&(t=HoganTemplates["quizzes/fill_in_the_blank"].render(e)),this.el.find("#answers").html(t)},e}(),Featurette.register("quiz",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){this.scrollButton=t(this.scrollButton,this),this.scrollButton()}return e.prototype.scrollButton=function(){var e,t,n;return t=$('[data-featurette="scroll-button"]'),e=$("[data-scroll-stop]"),n=e.offset().top,t.on("click",function(e){return e.preventDefault(),$("html, body").animate({scrollTop:n},600)})},Featurette.register("scroll-button",e),e}()}.call(this),function(){var e;e=function(){function e(e){var t=this;this.element=$(e),this.base_url=this.element.data("remote-path"),this.has_query_string=this.base_url.indexOf("?")>0,this.page=1,this.element.click(function(){var e;return t.page+=1,e=t.has_query_string?t.base_url+("&page="+t.page):t.base_url+("?page="+t.page),$.ajax({url:e,type:"get",dataType:"script"})})}return e}(),Featurette.register("show-more",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.pingItGood=t(this.pingItGood,this),this.pingStyles=t(this.pingStyles,this),this.el=$(e),setInterval(this.pingItGood,5e3)}return e.prototype.pingStyles=function(){return{position:"absolute",top:this.el.position().top,left:this.el.position().left,width:this.el.width()+parseInt(this.el.css("border-top-width"))+parseInt(this.el.css("border-bottom-width")),height:this.el.height()+parseInt(this.el.css("border-left-width"))+parseInt(this.el.css("border-right-width")),marginTop:this.el.css("margin-top"),marginBottom:this.el.css("margin-bottom"),marginLeft:this.el.css("margin-left"),marginRight:this.el.css("margin-right"),borderTopLeftRadius:this.el.css("border-top-left-radius"),borderTopRightRadius:this.el.css("border-top-right-radius"),borderBottomLeftRadius:this.el.css("border-bottom-left-radius"),borderBottomRightRadius:this.el.css("border-bottom-right-radius"),zIndex:this.el.css("z-index")-1,animation:"sonarPing 1.3s ease-out 250ms"}},e.prototype.pingItGood=function(){return this.ping&&this.ping.remove(),this.ping=$("<span></span>").css(this.pingStyles()),this.el.after(this.ping)},e}(),Featurette.register("sonar-ping",e)}.call(this),function(){var e;e=function(){function e(e){var t,n,i,r=this;this.el=$(e),n=this.el.find(".trigger-unremove-content-block"),t=this.el.find(".trigger-destroy-content-block"),i=this.el.find(".trigger-remove-content-block"),i.on("click",function(e){return $(this).siblings(".remove-content-block").show().css({opacity:"1"}),e.preventDefault()}),n.on("click",function(e){var t;return e.preventDefault(),t=$(this),t.parent(".remove-content-block").css({opacity:"0"}),t.delay(200).queue(function(){return t.parent(".remove-content-block").hide(),t.dequeue()})}),t.on("click",function(e){var t;return r.removeCard(),e.preventDefault(),t=$(e.currentTarget),t.parent(".remove-content-block").css({opacity:"0"}),t.closest("li").addClass("destroyed"),t.delay(500).queue(function(){return t.closest("li").hide(),t.dequeue()})})}return e.prototype.removeCard=function(){return $.post(this.el.data("remove-card-url"),{_method:"DELETE",id:this.el.data("remove-card-id")})},e}(),Featurette.register("started-card-remover",e)}.call(this),function(){var e;e=function(){function e(e){var t,n,i,r=this;this.id=e.id,t=$(e),this.class_to_close=t.attr("data-class-to-close"),t.hasClass("tooltip-left")||t.hasClass("tooltip-right")?(n=(parseInt(t.height())+24)/2,t.css({top:"50%",marginTop:-n})):t.hasClass("tooltip-top")?(n=(parseInt(t.width())+30)/2,i=parseInt(t.height()+30),t.css({top:-i,left:"50%",marginLeft:-n})):t.hasClass("tooltip-bottom")&&(n=(parseInt(t.width())+24)/2,i=parseInt(t.height()+30),t.css({top:"auto",bottom:-i,left:"50%",marginLeft:-n})),t.find(".close-tooltip").click(function(){return r.close()}),"true"!==t.attr("data-hide")&&setTimeout(function(){return t.fadeIn()},200)}return e.prototype.close=function(){var e,t;return e=$("#"+this.id),e.fadeOut(),this.class_to_close&&$("."+this.class_to_close).fadeOut(),(t=e.attr("data-flag"))?$.post("/dashboard/flag",{_method:"PUT",flag:t}):void 0},e}(),Featurette.register("tooltip",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.setActiveTab=t(this.setActiveTab,this),this.loading=t(this.loading,this);var n;this.el=$(e),this.targetContainer=$("#courses-container"),this.el.pjax("a[data-pjax='true']",{container:"#courses-container",scrollTo:!1,timeout:0}),location.hash&&(n=location.hash.split("#")[1],this.el.find("a[data-pjax='true'][href$='"+n+"']").click()),this.targetContainer.on("pjax:start",this.loading),this.targetContainer.on("pjax:end",this.setActiveTab),this.setActiveTab()}return e.prototype.loading=function(){return this.targetContainer.addClass("inactive")},e.prototype.setActiveTab=function(){return this.targetContainer.removeClass("inactive"),this.el.find("a").removeClass("selected"),this.el.find("a[href$='"+window.location.pathname+"']").addClass("selected"),this.targetContainer.find(".achievement-list > li").length>3?$(".roadmap-callout").show():$(".roadmap-callout").hide(),"/library"!==location.pathname?$("#featured-stages").hide():$("#featured-stages").show()},e}(),Featurette.register("topic-tabs",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.collapseList=t(this.collapseList,this),this.expandList=t(this.expandList,this);var n=this;this.el=$(e),this.chevron=this.el.find(".icon-chevron-down"),this.text=this.el.find("#snapshot-state"),this.toggleElements=$(".full-view"),this.current_state="collapsed",this.animationTime=200,this.animating=!1,this.el.click(function(e){return e.preventDefault(),n.animating?void 0:(n.animating=!0,"collapsed"===n.current_state?(n.current_state="expanded",n.expandList()):(n.current_state="collapsed",n.collapseList()))})}return e.prototype.expandList=function(){var e=this;return this.chevron.css("animation","arrowRotateUp .20s"),this.text.html("Show snapshot"),this.toggleElements.slideToggle(this.animationTime,function(){return e.chevron.css("transform","rotate(180deg)"),e.animating=!1})},e.prototype.collapseList=function(){var e=this;return this.chevron.css("animation","arrowRotateDown .20s"),this.text.html("Show all steps"),this.toggleElements.slideToggle(this.animationTime,function(){return e.chevron.css("transform","rotate(0deg)"),e.animating=!1})},e}(),Featurette.register("track-snapshot-expander",e)}.call(this),function(){var e;e=function(){function e(e){var t,n=this;this.id=e.id,t=$(e),this.target=t.attr("data-target"),this.poster=t.attr("data-poster"),this.src=t.attr("data-src"),this.captionSrc=t.attr("data-captions"),t.click(function(e){var t,i;return t=Featurette.get(n.target),$("#"+t.id).html(Video.render("player",n.poster,n.src,n.captionSrc,{autoplay:!0})),i=Video.initPlayer($("#player")),t.lightbox.beforeClose=function(){return i.pause()},t.showOverlay(),e.preventDefault()})}return e}(),Featurette.register("video-modal-trigger",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.addSpeedControls=t(this.addSpeedControls,this),this.setSpeed=t(this.setSpeed,this),this.transitionToPlaying=t(this.transitionToPlaying,this),this.transitionToPaused=t(this.transitionToPaused,this),this.onEnd=t(this.onEnd,this),this.recordViewEvent=t(this.recordViewEvent,this),this.addEvents=t(this.addEvents,this);var n;this.el=$(e),this.endCallback=null,this.el.attr("data-autoplay")&&(this.autoplay=!0),$(document).bind("contextmenu",function(e){return"VIDEO"===e.target.tagName.toUpperCase()?!1:void 0}),n={enableAutosize:!0,success:this.addEvents},this.el.attr("data-force-flash")&&(n.mode="shim"),this.el.attr("data-start-language")&&(n.startLanguage=this.el.attr("data-start-language")),this.didPlay=!1,this.player=Video.initPlayer(e,n),this.speed=this.player.media.defaultPlaybackRate=1,this.addSpeedControls(),$(".rewatch-video").on("click",function(){return $("#next-step-overlay").removeClass("active"),$(".feedback-callout").removeClass("fly-in"),mejs.players[0].setCurrentTime(0),mejs.players[0].play()}),this.enableChromeFreezeFix()}return e.speeds=[.5,.75,1,1.25,1.5,1.75,2],e.prototype.addEvents=function(e){var t;return this.mejsObj=e,e.addEventListener("pause",this.transitionToPaused),e.addEventListener("play",this.transitionToPlaying),e.addEventListener("timeupdate",this.recordViewEvent),e.addEventListener("ended",this.onEnd),this.autoplay?(t=function(){return e.play()},setTimeout(t,1e3)):void 0},e.prototype.recordViewEvent=function(){return this.mejsObj.currentTime>10?(this.mejsObj.removeEventListener("timeupdate",this.recordViewEvent),$.post(this.el.data("record-video-view-url"),"_method=PUT")):void 0},e.prototype.onEnd=function(){var e;return this.mejsObj.currentTime<10&&$.post(this.el.data("record-video-view-url"),"_method=PUT"),e=$("#"+this.el.data("post-roll-overlay")),e.addClass("active"),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300),this.endCallback&&this.endCallback(),!0},e.prototype.transitionToPaused=function(){return this.player.container.addClass("mejs-treehouse-is-paused"),this.player.container.removeClass("mejs-treehouse-is-playing")},e.prototype.transitionToPlaying=function(){return this.player.container.addClass("mejs-treehouse-is-playing"),this.player.container.removeClass("mejs-treehouse-is-paused"),this.setSpeed(this.speed)},e.prototype.setSpeed=function(e){var t,n;return null==e&&(e=this.player.media.defaultPlaybackRate),this.speed=this.player.media.playbackRate=e,n=$("#"+this.player.id).find(".mejs-speed"),n.removeClass("current-speed"),n.filter("[data-speed='"+this.speed+"']").addClass("current-speed"),t=$(".mejs-speed-button"),t.removeClass("mejs-speed-15x mejs-speed-2x"),this.speed>=2?t.addClass("mejs-speed-2x"):this.speed>=1.5?t.addClass("mejs-speed-15x"):void 0},e.prototype.addSpeedControls=function(){var t,n,i,r,o,s,a,l,u=this;if(null!=this.player.media.playbackRate&&"flash"!==this.player.media.pluginType){for(o="<div class='mejs-button mejs-speed-button'>\n  <button type='button' aria-controls='"+this.player.id+"' title='Speed'></button>\n  <div class='mejs-speed-controls' style='display: none;'><ol></ol></div>\n</div>",n=$(o),i=n.find(".mejs-speed-controls"),n.on("mouseenter",function(){return i.show()}),n.on("mouseleave",function(){return i.hide()}),l=e.speeds,s=0,a=l.length;a>s;s++)r=l[s],t=$("<li class='mejs-speed' data-speed='"+r+"'>"+r+"x<span class='speed-tooltip'>"+r+"x</span></li>"),r===this.speed&&t.addClass("current-speed"),t.on("click",function(e){return u.setSpeed($(e.target).data("speed"))}),n.find(".mejs-speed-controls ol").prepend(t);return $("#"+this.player.id).find(".mejs-duration-container").after(n)}},e.prototype.enableChromeFreezeFix=function(){return this.el.on("error",function(){var e,t;return t=this,e=t.currentTime,$(t).one("loadeddata",function(){return t.currentTime=e}),setTimeout(function(){return t.load()},100)})},e}(),Featurette.register("video-player",e)}.call(this),function(){$(function(){var e,t,n;return t=$(".start-discussion"),n=$(".start-a-discussion"),e=$(".forum-actions, .forum-actions-mobile"),t.on("click",function(i){return i.preventDefault(),t.addClass("inactive"),e.hide(),n.show().find(".new-discussion, .title-note").show(),$("#forum_post_forum_topic_id").focus()}),n.find("input").focus(function(){return n.addClass("active").find(".new-discussion, .new-discussion .title-note").show()}),$(".cheatsheet-toggle").on("click",function(e){return e.preventDefault(),$(this).closest("form").find(".markdown-cheatsheet").slideToggle(200)}),$(".cheatsheet-close").on("click",function(e){return e.preventDefault(),$(this).closest("form").find(".markdown-cheatsheet").slideUp(200)}),$(".form-close").on("click",function(i){return i.preventDefault(),n.hide(),t.removeClass("inactive"),e.removeAttr("style")}),$("#edit-post").on("click",function(e){return e.preventDefault(),$("#display-post").hide(),$("#edit-post-form").show(),$("textarea.autogrow").trigger("autosize.resize")}),$("#cancel-edit-post").on("click",function(e){return e.preventDefault(),$("#edit-post-form").hide(),$("#display-post").show(),$("textarea.autogrow").trigger("autosize.resize")}),$(".new-discussion button[type=submit], .discussion-reply button[type=submit]").on("click",function(){var e=this;return _.defer(function(){return $(e).attr({disabled:"disabled"})})})})}.call(this),function(){$(function(){var e;return e=function(){function e(){}return e.modals={},e.handleTrigger=function(t){var n,i;return $.browser.mobile?!0:(e.container||(e.container=$("#mini-profile-container")),t.preventDefault(),i=$(t.currentTarget),n=i.data("profile-name"),e.modals[n]?e.modals[n].showOverlay():e.createModalFor(n))},e.createModalFor=function(e){var t,n=this;return t=$("<div class='modal mini-profile' id='mini-profile-"+e+"' style='display: none'/>"),t.load("/mini_profile/"+e,function(){return n.container.append(t),new Featurette.registered_features["points-chart"](t.find(".chart")[0]),n.modals[e]=new Featurette.registered_features.modal(t[0]),n.modals[e].showOverlay()})},e}.call(this),$(document).on("click","[data-behavior=mini-profile-trigger]",e.handleTrigger)})}.call(this),function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};e=70,t=function(){function t(e){this.element=e,this.headingToggles=n(this.headingToggles,this),this.resize=n(this.resize,this),this.reposition=n(this.reposition,this),this.collapse=n(this.collapse,this),this.wrapContents=n(this.wrapContents,this),this.init=n(this.init,this),this.element.length&&($(window).on("resize",_.throttle(this.init,200)),$(window).trigger("resize"))}return t.prototype.init=function(){return this.reposition(),this.resize(),this.wrapContents(),this.collapse(),this.headingToggles()},t.prototype.wrapContents=function(){return this.element.find(".scroll-container").length||this.element.wrapInner("<div class='scroll-mask' />"),this.wrapper=this.element.find(".scroll-mask"),this.element.find(".scroll-container").length?void 0:this.wrapper.wrapInner("<div class='scroll-container' />")},t.prototype.collapse=function(){var t;return t=this.wrapper.height()+e>$(window).height(),this.wrapper.css("height",$(window).height()-e),this.element.toggleClass("collapsed",t)},t.prototype.reposition=function(){var e;return $("#content-container").removeClass("pull-20"),$(window).innerWidth()>1022?this.nofix?this.element.css({position:"static","float":"right",left:""}):(this.element.css({position:"relative",left:"80%","float":""}),e=this.element.offset().left,this.element.css({position:"fixed",left:e,right:"auto"})):this.element.css({position:"relative","float":"none",left:""})},t.prototype.resize=function(){return $.browser.mozilla?$("body").innerWidth()>1022?this.element.css("width",.2*$(".grid-container").width()):this.element.css("width","100%"):$(window).innerWidth()>1022?this.element.css("width",.2*$(".grid-container").width()):this.element.css("width","100%")},t.prototype.headingToggles=function(){return this.element.find(".form-group h4").off("click").on("click",function(e){var t;return t=$(e.currentTarget),t.toggleClass("selected"),t.siblings("ul").slideToggle("fast")})},t}(),$(function(){return window.Sidebar=new t($(".fixed-sidebar"))})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){this.duplicate=t(this.duplicate,this),this.originContent=$("[data-markup-duplicate]").html(),this.duplicate($("[data-markup-duplicate]"),$("[data-markup-duplicate-target]"))}return e.prototype.duplicate=function(e,t){return t.html(this.originContent)},e}(),$(function(){return new e})}.call(this),function(){var e,t,n,i,r;window.debug=function(){return this.console?console.log(Array.prototype.slice.call(arguments)):void 0},t=function(){function e(){}return e.check=function(){return null===$.cookie("notbot")?$.post("/visitors/not-bot",{_method:"PUT"}):void 0},e}(),window.NotBot=t,n=function(){function e(){$(".clickonce").click(function(){return $(".clickonce").click(function(e){return e.preventDefault()})})}return e}(),window.PreventDoubleSubmit=n,i=function(){function t(){var t=this;this.silverLightbox=new e("#silver-modal"),this.goldLightbox=new e("#gold-modal"),this.cancelLightbox=new e("#cancel-account-modal"),this.pauseLightbox=new e("#pause-account-modal"),$("#switchToSilver").click(function(e){return e.preventDefault(),t.silverLightbox.showOverlay()}),$("#switchToGold").click(function(e){return e.preventDefault(),t.goldLightbox.showOverlay()}),$("#cancel-account").click(function(e){return e.preventDefault(),t.cancelLightbox.showOverlay()}),$("#pause-account").click(function(e){return e.preventDefault(),t.pauseLightbox.showOverlay()}),$(".cancel-modal").click(function(e){return e.preventDefault(),t.silverLightbox.closeOverlay(),t.goldLightbox.closeOverlay(),t.cancelLightbox.closeOverlay(),t.pauseLightbox.closeOverlay()})}return t}(),window.SubscriptionChangePage=i,r=function(){function e(){}return e.render=function(e,t,n,i,r){var o;return o='<video id="'+e+'" style="width: 100%; height: 100%;" type="video/mp4"\n    controls="controls" preload="none" poster="'+t+'"\n    src="'+n+'" '+(r.autoplay?"autoplay":void 0)+">",i&&(o+='<track kind="subtitles" src="'+i+'" srclang="en">'),o+="</video>"},e.initPlayer=function(e,t){var n,i,r;return null==t&&(t={}),n=$(e),$.extend(t,{enableAutosize:!0}),n.attr("data-force-flash")&&(t.mode="shim"),n.attr("data-start-language")?t.startLanguage=n.attr("data-start-language"):$.cookie("captionLanguage")&&(t.startLanguage=$.cookie("captionLanguage")),n.attr("data-captions-preferences-url")&&(i=n.attr("data-captions-preferences-url")),r=t.success,t.success=function(e,t){return $(t).closest(".mejs-container").find(".mejs-captions-selector input[type=radio]").click(function(e){var t;return t=e.target.value,"none"===t&&(t=null),$.cookie("captionLanguage",t,{expires:1095}),i?$.post(i,{language:t}):void 0}),r?r(e,t):void 0},new MediaElementPlayer(n,t)},e}(),window.Video=r,e=function(){function e(t,n){null==n&&(n=!0),this.$tarp=$(".modal-tarp"),this.$lightboxElement=$(t),this.visible=!1,this.closeable=n,this.beforeClose=null,this.attachCloseEvents(),this.animation="slideIn",e.instances.push(this)}return e.instances=[],e.lastOpen=null,e.prototype.showOverlay=function(){var t,n,i,r,o,s,a,l;for(l=e.instances,s=0,a=l.length;a>s;s++)t=l[s],t.visible&&(t.closeOverlay(),e.lastOpen=t);return o=this.$lightboxElement.width(),n=$(document).width()/2-o/2,r=$(window).scrollTop(),i=r+this.windowHeight(),this.$lightboxElement.css({display:"block",top:i,opacity:0,zIndex:600,left:n}),this.$tarp.css({zIndex:500,opacity:0}).show(),this.$tarp.animate({opacity:1},100),this.$lightboxElement.delay(100).animate({opacity:1,top:r},150),this.visible=!0},e.prototype.closeOverlay=function(){var e,t,n=this;return this.beforeClose&&this.beforeClose(),t=parseInt(this.$lightboxElement.css("top")),e=t+this.windowHeight(),this.$lightboxElement.animate({top:e,opacity:.001},50,function(){return n.$lightboxElement.hide()}),this.$tarp.delay(50).hide(),this.visible=!1},e.prototype.finalizeClose=function(){return this.$tarp.css({zIndex:-500}),this.$lightboxElement.css({zIndex:-600,top:0}),this.visible=!1},e.prototype.windowHeight=function(){return window.innerHeight||document.documentElement.clientHeight||getElementsByTagName("body")[0].clientHeight},e.prototype.tarpClick=function(e){return $(e.target).hasClass("modal-tarp")&&this.visible&&this.closeable?(e.stopPropagation(),this.closeOverlay()):void 0},e.prototype.attachCloseEvents=function(){var e=this;return $(document).keyup(function(t){return 27===t.which&&e.visible&&e.closeable?e.closeOverlay():void 0}),this.$lightboxElement.find(".modal-close, .modal-close-extra").click(function(t){return e.visible&&e.closeable?(e.closeOverlay(),t.preventDefault()):void 0
}),$(document).click(function(t){return e.tarpClick(t)}),$(document).on("touchstart",function(t){return e.tarpClick(t)})},e}(),window.LightBox=e,$(document).ready(function(){var e;return e="#habla_wcsend_input",$(document).on("focus",e,function(){return $(document).click()})}),$(document).on("click","a[data-see-more-target]",function(e){var t,n,i;return e.preventDefault(),t=$(e.currentTarget),i=t.data("see-more-target"),n=$("#"+i),n.is(":visible")||"none"!==n.css("display")?(t.text(t.data("see-more-show-text")),n.hide()):(t.text(t.data("see-more-hide-text")),n.show())}),$(".inactive a").live("click",function(e){return e.preventDefault()})}.call(this),function(){var e,t,n,i=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s=[].slice;t=function(){function e(e){var t=this;this.formPrefix=null!=e?e:"account_signup",this.paymentType=$("#"+this.formPrefix+"_payment_method_credit_card, #"+this.formPrefix+"_payment_method_paypal"),this.paymentType.change(function(){return t.togglePaymentMethod()}),this.togglePaymentMethod(),$("#cvv-tooltip").mouseenter(function(){return $(this).find(".tooltip").css("display","block")}),$("#cvv-tooltip").mouseleave(function(){return $(this).find(".tooltip").hide()}),$("#subscribe_monthly").click(function(){var e;return $("#subscribe_monthly").addClass("selected"),$("#subscribe_annually").removeClass("selected"),$("#monthly-checkmark").show(),$("#annual-checkmark").hide(),$("#account_signup_billing_period_monthly").attr("checked","yes"),e=$.trim($("#monthly-charge").html()),$("#footer-price").html(e)}),$("#subscribe_annually").click(function(){var e;return $("#subscribe_annually").addClass("selected"),$("#subscribe_monthly").removeClass("selected"),$("#monthly-checkmark").hide(),$("#annual-checkmark").show(),$("#account_signup_billing_period_annual").attr("checked","yes"),e=$.trim($("#annual-charge").html()),$("#footer-price").html(e)})}return e.prototype.togglePaymentMethod=function(){var e;return e=$("input[name='"+this.formPrefix+"[payment_method]']:checked").val(),"paypal"===e?($(".credit-card-chosen").hide(),$(".paypal-chosen").show()):($(".credit-card-chosen").show(),$(".paypal-chosen").hide())},e}(),window.PaymentForm=t,n=function(){function e(e){var t;t=$(e).find(".tooltip").parent().find("input"),t.focus(function(){var e;return e=$(this).parent().find(".tooltip"),e.data("hide-on-mobile")&&$(window).width()<=480?void 0:e.fadeIn()}),t.blur(function(){return $(this).parent().find(".tooltip").fadeOut()}),$(e).submit(function(){return $(e).find("button#submit").html("Processing..."),$(e).find("button#submit").attr("disabled","true")})}return e}(),window.StandardForm=n,e=function(e){function t(e){this.unwrapErrors=i(this.unwrapErrors,this);var n=this;this.accountForm=$(e),this.accountEmail=this.accountForm.find("#account_signup_email, #person_email"),this.accountProfile=this.accountForm.find("#account_signup_profile_name, #person_profile_name"),this.accountName=this.accountForm.find("#account_signup_first_name, #account_signup_last_name, #person_first_name, #person_last_name"),this.accountProfileName=this.accountProfile.val(),this.currentEmail=this.accountEmail.val(),t.__super__.constructor.call(this,this.accountForm),this.accountEmail.change(function(){return n.verifyEmailAddress()}),this.accountProfile.change(function(){return n.verifyProfileName()}),this.accountName.change(function(){return n.suggestProfileName()}),this.verifyEmailAddress(),this.verifyProfileName(),this.suggestProfileName()}return o(t,e),t.prototype.verifyEmailAddress=function(){var e,t,n,i,r=this;return t=this.accountEmail,n=t.siblings("label"),e=t.val(),i=$("meta[name='csrf-token']").attr("content"),this.clearFormErrors(t),$("input").change(function(){return $(this).removeClass("error"),$(this).parent().removeClass("field_with_errors")}),e!==this.currentEmail?$.ajax("/account/email_address",{type:"POST",dataType:"json",data:{email:e},headers:{"X-CSRF-Token":i},error:function(e){var i;return r.unwrapErrors(t,n),r.clearFormErrors(t),t.siblings("label").wrap('<div class="field_with_errors" />'),t.wrap('<div class="field_with_errors" />'),i=JSON.parse(e.responseText),t.after("<p class='error-message'>"+i.error+"</p>")},success:function(){return r.unwrapErrors(t,n),null==t.val()?r.clearFormErrors(t):void 0}}):void 0},t.prototype.verifyProfileName=function(){var e,t,n,i,r,o,s=this;return e=this.accountProfile,n=e.siblings("label"),r=e.val(),t=$(this.accountName[0]).val(),i=$(this.accountName[1]).val(),o=$("meta[name='csrf-token']").attr("content"),r!==this.accountProfileName?$.ajax("/account/profile_name",{type:"POST",dataType:"json",data:{profile_name:r,first_name:t,last_name:i},headers:{"X-CSRF-Token":o},error:function(t){var i;return s.unwrapErrors(e,n),s.clearFormErrors(e),e.siblings("label").wrap('<div class="field_with_errors" />'),e.wrap('<div class="field_with_errors" />'),i=JSON.parse(t.responseText),e.val(i.suggestion),e.after("<p class='error-message'>"+i.error+"</p>")},success:function(){return s.unwrapErrors(e,n),s.clearFormErrors(e)}}):void 0},t.prototype.suggestProfileName=function(){var e,t,n,i;return e=$(this.accountName[0]).val().toLowerCase(),n=$(this.accountName[1]).val().toLowerCase(),t=!!e,i=!!n,!this.accountProfile.val()&&t&&i&&(this.accountProfile.val(""+e+n),this.accountProfile.blur()),this.verifyProfileName()},t.prototype.unwrapErrors=function(){var e,t,n,i,r;for(t=1<=arguments.length?s.call(arguments,0):[],r=[],n=0,i=t.length;i>n;n++)e=t[n],e.closest("div").hasClass("field_with_errors")?r.push(e.unwrap()):r.push(void 0);return r},t.prototype.clearFormErrors=function(e){return e.siblings("p.error-message").remove()},t}(n),window.AccountForm=e}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){this.hideSpinner=t(this.hideSpinner,this),this.showSpinner=t(this.showSpinner,this),this.clickToggle($(".trigger-account"),$(".account-container")),this.shadows(),this.toggleShelf(".trigger-shelf"),$(document).on("pjax:start",this.showSpinner),$(document).on("pjax:end",this.hideSpinner),$(document).on("pjax:end",function(){return"undefined"!=typeof _gaq&&null!==_gaq?_gaq.push(["_trackPageview"]):void 0})}return e.prototype.hover=function(e,t){var n;return n=e.add(t),n.off("hover").hover(function(){return t.stop(!0).show(150)},function(){return t.delay(500).hide(150)})},e.prototype.clickToggle=function(e,t){var n,i;return i=function(){return t.delay(1e3).hide(0)},n=e.add(t),n.on("click",function(){return"none"===t.css("display")?($(".click-toggled").hide(),t.show().addClass("click-toggled"),n.on("mouseleave",function(){return t.delay(1e3).hide(0)}),n.on("mouseenter",function(){return t.stop(!0,!1)})):(t.hide().removeClass("click-toggled"),t.stop(!0,!0).off("mouseleave, mouseover"))})},e.prototype.shadows=function(){var e,t;return e=function(){return $(".heading-pocket").toggleClass("shadowy",$(window).scrollTop()>0)},$(window).on("scroll",_.throttle(e,100)),t=function(){return $(".fixed-sidebar").toggleClass("shadowy",$(".fixed-sidebar .scroll-container").scrollTop()>0)},$(".scroll-container").scroll(_.throttle(t,100))},e.prototype.toggleShelf=function(e){return $(e).on("click",function(){return $("body").toggleClass("shelf-open"),_.delay(function(){return $(window).trigger("resize")},200)})},e.prototype.showSpinner=function(){return $("#content-container").css({opacity:.3}),$(".loading-spinner").css({display:"inline-block"})},e.prototype.hideSpinner=function(){return $("#content-container").css({opacity:1}),$(".loading-spinner").css({display:"none"})},e}(),$(function(){return new e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){this.move=t(this.move,this),this.resize=t(this.resize,this),this.init=t(this.init,this),this.originContent=$("[data-markup-move]").html(),$(window).on("resize",_.throttle(this.init,200)),$(window).trigger("resize")}return e.prototype.init=function(){return this.resize()},e.prototype.resize=function(){return $(window).width()<1022?this.move($("[data-markup-move]"),$("[data-markup-move-target]")):this.move($("[data-markup-move-target]"),$("[data-markup-move]"))},e.prototype.move=function(e,t){return e.html(""),t.html(this.originContent)},e}(),$(function(){return new e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){var n=this;this.element=e,this.setCurrentOption=t(this.setCurrentOption,this),this.createSelect=t(this.createSelect,this),this.element.length&&(this.createSelect(),setTimeout(function(){return n.setCurrentOption()},20))}return e.prototype.createSelect=function(){var e,t,n;return n=[],e=$("[data-ul-select]"),t=$("[data-ul-select-target]"),$("[data-ul-select]").find("a").each(function(){var e,n,i;return e=$(this).attr("href"),i=$(this).text(),n=$("<option />").attr("value",e).text(i),t.append(n)})},e.prototype.setCurrentOption=function(){var e,t;return e=$("[data-ul-select-target]"),t=$("[data-ul-select]").find("a.selected").text(),e.prev("span").text(t),$('option[value="http://'+window.location.hostname+window.location.pathname+'"]').attr("selected",!0)},e}(),$(function(){return new e($("[data-ul-select]"))})}.call(this),function(){var TreehouseTour,__bind=function(e,t){return function(){return e.apply(t,arguments)}};TreehouseTour=function(){function TreehouseTour(e){var t=this;this.element=e,this.killTour=__bind(this.killTour,this),this.prevTourStep=__bind(this.prevTourStep,this),this.nextTourStep=__bind(this.nextTourStep,this),this.startTour=__bind(this.startTour,this),this.moveTour=__bind(this.moveTour,this),this.scrollStep=__bind(this.scrollStep,this),this.stepIndicator=__bind(this.stepIndicator,this),this.fadeOutStep=__bind(this.fadeOutStep,this),this.positionElement=__bind(this.positionElement,this),this.fadeInStep=__bind(this.fadeInStep,this),this.handleKeyEvent=__bind(this.handleKeyEvent,this),this.offscreenCheck=__bind(this.offscreenCheck,this),this.handlePosition=__bind(this.handlePosition,this),this.applyOffsets=__bind(this.applyOffsets,this),this.tourRefresh=__bind(this.tourRefresh,this),this.element.length&&($(document).on("tour:refresh",this.tourRefresh),$(document).on("pjax:end",function(){return _.delay(t.tourRefresh,2500)}),$(document).trigger("tour:refresh"),$(window).on("resize",_.throttle(function(){return $(window).width()<1022?t.killTour():void 0},200)))}return TreehouseTour.prototype.tourRefresh=function(){var e,t,n,i;return this.$modalTarp=$(".modal-tarp"),this.$tourContainer=$("[data-tour]"),this.$tourTips=this.$tourContainer.children("li"),this.$window=$(window),this.$body=$("body"),this.$headerElements=$("#content, .fixed-heading"),this.totalTourSteps=this.$tourTips.length-1,this.windowHeight=this.$window.height(),this.windowWidth=this.$window.width(),this.modalTarpWidth=this.$modalTarp.outerWidth(),this.classToggleSpeed=100,this.fadeSpeed=300,this.smoothScrollSpeed=400,this.currentStep=0,this.parentCollection=[],this.tourControlBarClass="tour-control-bar",this.tourBarPrevClass="tour-prev",this.tourBarNextClass="tour-next",this.tourBarCloseClass="tour-close",this.tourStepIndicatorClass="step-indicator",this.tourActionListClass="tour-actions",this.tourTitle=this.$tourContainer.data("tour"),this.tourControlBar="<div class='"+this.tourControlBarClass+" closed'><div><h3>"+this.tourTitle+"</h3><ul class='"+this.tourActionListClass+"'><li><a class='"+this.tourBarPrevClass+"' data-tour-trigger-prev>Previous Step</a></li><li class='"+this.tourStepIndicatorClass+"'><span>- of -</span></li><li><a class='"+this.tourBarNextClass+"' data-tour-trigger-step>Next Step</a></li><li><a class='"+this.tourBarCloseClass+"' data-tour-trigger-death>Close Tour</a></li></ul></div></div>",this.applyOffsets(),this.$body.append(this.tourControlBar),this.$tourContainer.children("a").on("click",function(e){return e.preventDefault()}),n="[data-tour-trigger-start]",i="[data-tour-trigger-step]",t="[data-tour-trigger-prev]",e="[data-tour-trigger-death]",$(n).off("click",this.startTour),$(i).off("click",this.nextTourStep),$(t).off("click",this.prevTourStep),$(e).off("click",this.killTour),$(n).on("click",this.startTour),$(i).on("click",this.nextTourStep),$(t).on("click",this.prevTourStep),$(e).on("click",this.killTour),$(document).keydown(this.handleKeyEvent)},TreehouseTour.prototype.applyOffsets=function(){return $(this.$tourTips).each(function(){var e,t;return t=$(this).data("tour-step-selector"),e=$(t).offset().top,$(this).attr("data-offset",e)})},TreehouseTour.prototype.handlePosition=function(e,t){var n,i;return i=e.data("tour-position"),n=this.offscreenCheck(e,t),n&&("top"===i?i="bottom":"right"===i?i="left":"bottom"===i?i="top":"left"===i&&(i="right")),e.attr("data-tour-position",i),e.css({left:t[i].left,top:t[i].top})},TreehouseTour.prototype.offscreenCheck=function(e,t){var n,i,r;return r=e.offset(),i=e.data("tour-position"),n=!1,"top"===i?n=t[i].top<0:"right"===i?n=t[i].left+e.outerWidth()>this.windowWidth:"bottom"===i?n=t[i].top+e.height()>$(document).height():"left"===i&&(n=t[i].left<0),n},TreehouseTour.prototype.handleKeyEvent=function(e){var t,n,i,r;if(i="[data-tour-trigger-start]",r="[data-tour-trigger-step]",n="[data-tour-trigger-prev]",t="[data-tour-trigger-death]",this.$modalTarp.hasClass("tarp-opened"))switch(e.keyCode){case 27:return this.killTour(),$(t).addClass("active"),setTimeout(function(){return $(t).removeClass("active")},this.classToggleSpeed);case 37:return $(n).hasClass("inactive-step")||($(n).addClass("active"),setTimeout(function(){return $(n).removeClass("active")},this.classToggleSpeed)),this.prevTourStep();case 39:return $(r).hasClass("inactive-step")||($(r).addClass("active"),setTimeout(function(){return $(r).removeClass("active")},this.classToggleSpeed)),this.nextTourStep()}},TreehouseTour.prototype.fadeInStep=function(firstStep){var currentStep;return currentStep=$(this.$tourTips[this.currentStep]),currentStep.data("on-enter")&&eval(currentStep.data("on-enter")),this.positionElement(currentStep,firstStep),currentStep.delay(this.smoothScrollSpeed-100).fadeIn(this.fadeSpeed),$(this.parentCollection[this.currentStep]).addClass("active-tour-step")},TreehouseTour.prototype.positionElement=function(e,t){var n,i,r,o,s,a,l,u,c,d,h,p;return o=e.data("tour-step-selector"),n=$(o),r=n.offset(),s=r.top,d=$(".tour-control-bar").height(),t&&(s+=d),a=n.width(),i=n.outerHeight(),u=6,c=e.data("tour-step-width"),0===n.length?null:($(o).addClass("tour-parent"),this.parentCollection.push(n),e.css("width",null!=c?c:""),p=e.outerWidth(),h=e.outerHeight(),l={top:{left:r.left,top:s-h-u},right:{left:r.left+a+u,top:s},bottom:{left:r.left,top:s+i+u},left:{left:r.left-p-u,top:s}},this.handlePosition(e,l))},TreehouseTour.prototype.fadeOutStep=function(){var e;return e=$(".tour-parent"),e.removeClass("active-tour-step"),this.$tourTips.fadeOut(this.fadeSpeed)},TreehouseTour.prototype.stepIndicator=function(){return $("."+this.tourStepIndicatorClass+" span").text(""+(this.currentStep+1)+" of "+(this.totalTourSteps+1))},TreehouseTour.prototype.scrollStep=function(){var e,t,n,i,r;switch(this.$tourTips=$(this.$tourTips),i=this.$tourTips.eq(this.currentStep).data("offset"),t=this.$tourTips.eq(this.currentStep).outerHeight(),n=this.$tourTips.eq(this.currentStep).data("tour-position"),e=$(this.$tourTips.eq(this.currentStep)).outerHeight(),r=$(this.$tourTips.eq(this.currentStep).data("tour-step-selector")).height()>this.windowHeight?i/2-t:i-t-this.windowHeight/3,n){case"top":return $("html, body").animate({scrollTop:r},this.smoothScrollSpeed);case"right":return $("html, body").animate({scrollTop:i-this.windowHeight/2},this.smoothScrollSpeed);case"bottom":return $("html, body").animate({scrollTop:i+(t-this.windowHeight/2)},this.smoothScrollSpeed);case"left":return $("html, body").animate({scrollTop:i-this.windowHeight/2},this.smoothScrollSpeed)}},TreehouseTour.prototype.moveTour=function(e,t){switch(null==t&&(t=!1),this.fadeOutStep(),e){case 1:this.currentStep=this.currentStep+1;break;case 0:this.currentStep=0;break;case-1:this.currentStep=this.currentStep-1;break;case null:this.currentStep=!1}return this.scrollStep(),this.fadeInStep(t),this.stepIndicator(),0===this.currentStep?$("."+this.tourBarPrevClass).addClass("inactive-step"):this.currentStep===this.totalTourSteps?$("."+this.tourBarNextClass).addClass("inactive-step"):($("."+this.tourBarNextClass).removeClass("inactive-step"),$("."+this.tourBarPrevClass).removeClass("inactive-step"))},TreehouseTour.prototype.startTour=function(e){return e.preventDefault(),this.moveTour(0,!0),this.$modalTarp.fadeIn(this.fadeSpeed).addClass("tarp-opened"),this.$headerElements.addClass("tour-active"),$("."+this.tourControlBarClass).removeClass("closed"),Sidebar.nofix=!0,$(window).trigger("resize")},TreehouseTour.prototype.nextTourStep=function(){return this.currentStep<this.totalTourSteps?this.moveTour(1):void 0},TreehouseTour.prototype.prevTourStep=function(){return this.currentStep>0?this.moveTour(-1):void 0},TreehouseTour.prototype.killTour=function(){return this.$headerElements.hasClass("tour-active")?(this.fadeOutStep(),$("."+this.tourControlBarClass).addClass("closed"),this.$headerElements.removeClass("tour-active"),this.$modalTarp.delay(50).fadeOut(this.fadeSpeed).removeClass("tarp-opened"),$("html, body").animate({scrollTop:0},5),Sidebar.nofix=!1,$(window).trigger("resize")):void 0},TreehouseTour}(),$(function(){return new TreehouseTour($("[data-tour]"))})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.element=e,this.changeGlobalNav=t(this.changeGlobalNav,this),this.changeBulletNav=t(this.changeBulletNav,this),this.changeButtons=t(this.changeButtons,this),this.prevWelcomeStep=t(this.prevWelcomeStep,this),this.nextWelcomeStep=t(this.nextWelcomeStep,this),this.startWelcome=t(this.startWelcome,this),this.moveWelcome=t(this.moveWelcome,this),this.fadeOutStep=t(this.fadeOutStep,this),this.fadeInStep=t(this.fadeInStep,this),this.handleKeyEvent=t(this.handleKeyEvent,this),this.welcomeRefresh=t(this.welcomeRefresh,this),this.element.length&&($(document).on("welcome:refresh",this.welcomeRefresh),$(document).trigger("welcome:refresh"))}return e.prototype.welcomeRefresh=function(){var e,t,n;return this.$welcomeContainer=$("[data-welcome]"),this.$welcomeContent=this.$welcomeContainer.children("li"),this.totalWelcomeSteps=this.$welcomeContent.length-1,this.classToggleSpeed=100,this.fadeSpeed=300,this.currentStep=0,this.$welcomeContainer.children("a").on("click",function(e){return e.preventDefault()}),$(this.$welcomeContent).eq(0).show(),t="[data-welcome-trigger-start]",n="[data-welcome-trigger-step]",e="[data-welcome-trigger-prev]",$(t).off("click",this.startWelcome),$(n).off("click",this.nextWelcomeStep),$(e).off("click",this.prevWelcomeStep),$(t).on("click",this.startWelcome),$(n).on("click",this.nextWelcomeStep),$(e).on("click",this.prevWelcomeStep),$(document).keydown(this.handleKeyEvent)},e.prototype.handleKeyEvent=function(e){var t,n,i;switch(n="[data-welcome-trigger-start]",i="[data-welcome-trigger-step]",t="[data-welcome-trigger-prev]",e.keyCode){case 37:return this.prevWelcomeStep();case 39:return this.nextWelcomeStep()}},e.prototype.fadeInStep=function(){return $(this.$welcomeContent[this.currentStep]).fadeIn(this.fadeSpeed)},e.prototype.fadeOutStep=function(){var e;return e=$(".welcome-parent"),e.removeClass("active-welcome-step"),this.$welcomeContent.hide()},e.prototype.moveWelcome=function(e){switch(this.fadeOutStep(),e){case 1:this.currentStep=this.currentStep+1;break;case 0:this.currentStep=0;break;case-1:this.currentStep=this.currentStep-1}return this.fadeInStep(),this.changeButtons(),this.changeGlobalNav(),this.changeBulletNav()},e.prototype.startWelcome=function(e){return e.preventDefault(),this.moveWelcome(0)},e.prototype.nextWelcomeStep=function(){return this.currentStep<this.totalWelcomeSteps?this.moveWelcome(1):void 0},e.prototype.prevWelcomeStep=function(){return this.currentStep>0?this.moveWelcome(-1):void 0},e.prototype.changeButtons=function(){var e;return e=this.currentStep>=1&&this.currentStep<this.totalWelcomeSteps?2:this.currentStep===this.totalWelcomeSteps?3:1,$(".button-container").children("a").removeClass("active"),$(".button-welcome-"+e).addClass("active")},e.prototype.changeBulletNav=function(){return $(".onboarding-step-nav").children("li").children("a").removeClass("selected"),$(".trigger-step-"+(this.currentStep+1)).addClass("selected")},e.prototype.changeGlobalNav=function(){var e;return 0===this.currentStep?e=0:this.currentStep>0&&this.currentStep<this.totalWelcomeSteps&&(e=this.currentStep+1),this.currentStep===this.totalWelcomeSteps-1&&(e=1),$(".global-nav a").removeClass("selected"),e>0?$(".global-nav li:nth-child("+e+") a").addClass("selected"):void 0},e}(),$(function(){return new e($("[data-welcome]"))})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.Filters=function(){function t(t){var n=this;if(this.options=t,this.deserializeState=e(this.deserializeState,this),this.serializeState=e(this.serializeState,this),this.reset=e(this.reset,this),this.update=e(this.update,this),"object"!=typeof this.options)throw"options are not an object literal";if("string"!=typeof this.options.container)throw"didn't pass 'container' option";if("object"!=typeof this.options.binds)throw"didn't pass 'binds' option";if("string"!=typeof this.options.basePath)throw"didn't pass 'basePath' option";this.binds=t.binds,this.container=$(t.container),_.each(this.binds,function(e){var t;return e instanceof jQuery&&"text"===e.attr("type")?(t=null,e.on("keyup",function(){return clearTimeout(t),t=setTimeout(n.update,750)}),e.on("keydown",function(){return clearTimeout(t)}),e.on("keydown",function(e){return 13===e.which?e.preventDefault():void 0})):e.element.on("change",n.update)}),this.container.on("pjax:error pjax:timeout",function(){return!1}),$(document).on("click",".filter-reset",this.reset),$(document).on("click","[data-filter-list-val]",function(e){var t,i;return i=$(e.currentTarget),t=i.data("filter-list-val").split(":"),n.binds[t[0]].val(t[1])}),this.deserializeState()}return t.prototype.update=function(e){var t;return e&&e.preventDefault(),this.serializeState(),t=new Object,_.each(this.binds,function(e,n){return t[n]=e.val()}),$.pjax({push:!1,url:""+window.location.origin+"/"+this.options.basePath,container:this.container,data:t}),!1},t.prototype.reset=function(){return _.each(this.binds,function(e){return e.val("")})},t.prototype.serializeState=function(){var e;return e=_.reduce(this.binds,function(e,t,n){return t=t.val(),void 0===t&&(t=""),t=t.replace(" ","-"),t&&e.push(""+n+":"+t),e},[]),e=e.join("/"),history.replaceState(null,null,"/"+this.options.basePath+"/"+e),$(document).trigger("filters:serialized")},t.prototype.deserializeState=function(){var e,t=this;return e=location.pathname.split("?")[0],e=e.split("/"),e=_.without(e,this.options.basePath),_.each(e,function(e){var n,i;if(""!==e)return n=e.split(":")[0],i=e.split(":")[1],t.binds[n].val(i,!1)}),$(document).trigger("filters:deserialized")},t}()}.call(this),$(function(){$.browser.mozilla&&$("body").addClass("gecko"),$.browser.mozilla===!0&&parseFloat($.browser.version)>=24&&$("body").addClass("new-gecko"),$.browser.webkit&&$("body").addClass("webkit"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("body").addClass("mobile"),$.browser.msie&&$("body").addClass("ie"),NotBot.check(),$("select, textarea, input:file, input:text, input:password, input[type='email']").not(".editor textarea, select.drop-down").uniform(),$(".form-item label:not(.prefill)").inFieldLabels(),$(document).on("filters:deserialized",function(){$(".form-item label:not(.prefill)").inFieldLabels()}),$(".trigger-transcript").toggle(function(){$(".video-transcript").addClass("full-transcript"),$(this).text("Close transcript")},function(){$(".video-transcript").removeClass("full-transcript"),$(this).text("Show full transcript")}),$(".trigger-filters").on("click",function(){$(".filters-container").toggle(),$(this).toggleClass("selected"),$("i",this).toggle()}),$(".menu-toggle").on("click touch",function(){$(this).toggleClass("is-checked")}),$(".autogrow").autosize()}),$(function(){Featurette.load()}),$(document).ajaxSend(function(e,t){var n=$("meta[name='csrf-token']").attr("content");t.setRequestHeader("X-CSRF-Token",n)}),$(function(){$(".cheatsheet-toggle").on("click",function(e){$(this).closest(".markdown-cheatsheet").slideToggle(200),e.preventDefault()}),$(".cheatsheet-close").on("click",function(e){$(this).closest(".markdown-cheatsheet").slideUp(200),e.preventDefault()}),$(".edit-post").on("click",function(e){$(".discussion-footer").hide(),$("#display-post").hide(),$(".discussion-question .discussion-comments").hide(),$("#edit-post-form").show(),$(".autogrow").trigger("autosize.resize"),e.preventDefault()}),$("#cancel-edit-post").on("click",function(e){$("#display-post").show(),$(".discussion-question .discussion-comments").show(),$("#edit-post-form").hide(),$(".autogrow").trigger("autosize.resize"),$(".discussion-footer").show(),e.preventDefault()})}),$(function(){$(".trigger-referral-embed").on("click",function(){$(this).hide(),$(".referral-image").hide(),$(".referral-embed").show(),$(".referral-embed textarea").select()})}),$(function(){function e(){$(this).attr("size",$(this).val().length+1)}$(".trigger-mobile-shelf").funcToggle("click",function(){var e=$("#content").width();$("body").addClass("shelf-open"),$("body").css({overflow:"hidden"}),$("#content, .fixed-heading").css({width:e}),$(".heading-pocket").css({right:"-15px"})},function(){$("#content").width(),$("body").removeClass("shelf-open"),$("body").css({overflow:"auto"}),$("#content, .fixed-heading").css({width:"auto"}),$(".heading-pocket").css({right:""})}),$("#form-element-nav-list-select select").change(function(){window.location=$(this).find("option:selected").val()}),clearTimeout($(this).data("timeout")),setTimeout(function(){$(".adventure-clouds").animate({top:"25px"},500),$(".icon-adventures-landscape").animate({bottom:"-60px",opacity:".3"},500,function(){$(".adventures-hero .hero-content").animate({marginTop:"0",opacity:"1",top:"50px"},300),$(".icon-track-large").animate({top:"125px",opacity:"1"},200)})},200),$(".text-fill-in-blank").keydown(e).each(e),$(".achievement-steps li").on({mouseenter:function(){$(this).find(".button-reveal").animate({marginRight:"-15px"},100)},mouseleave:function(){$(this).find(".button-reveal").animate({marginRight:"-165px"},100)}}),$(".trigger-trailer").toggle(function(){$(".hero-meta").fadeOut(300);var e=$(".mejs-container").height()-165;$(".hero").animate({minHeight:e},300,function(){$(".trailer-backdrop").fadeIn(300,function(){$(".hero").css({"min-height":"0"})}),$("video")[0].player.play()}),$("i",this).toggle(),$(".icon",this).toggle()},function(){$("video")[0].player.pause(),$("i",this).toggle(),$(".icon",this).toggle(),$(".trailer-backdrop").fadeOut(800,function(){$(".hero-meta").fadeIn(800)}),$("video")[0].player.setCurrentTime(0)})}),$(function(){$("#launch_console").on("click",function(e){var t="top=100,left=100,height=600,width=800,scrollbars=0,location=0,menubar=0,toolbar=0",n=window.open("http://console.teamtreehouse.com:3388/window",null,t);null==n&&alert("It looks like your pop up blocker blocked the console window."),e.preventDefault()})}),$("input, textarea").placeholder();