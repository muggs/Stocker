/*!
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(e){mejs.YouTubeApi.flashReady(e)}!function(e,t){function i(e){var t=ft[e]={};return G.each(e.split(tt),function(e,i){t[i]=!0}),t}function n(e,i,n){if(n===t&&1===e.nodeType){var r="data-"+i.replace(gt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:mt.test(n)?G.parseJSON(n):n}catch(s){}G.data(e,i,n)}else n=t}return n}function r(e){var t;for(t in e)if(("data"!==t||!G.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function s(){return!1}function o(){return!0}function a(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,i){if(t=t||0,G.isFunction(t))return G.grep(e,function(e,n){var r=!!t.call(e,n,e);return r===i});if(t.nodeType)return G.grep(e,function(e){return e===t===i});if("string"==typeof t){var n=G.grep(e,function(e){return 1===e.nodeType});if(It.test(t))return G.filter(t,n,!i);t=G.filter(t,n)}return G.grep(e,function(e){return G.inArray(e,t)>=0===i})}function c(e){var t=Ot.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function h(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function d(e,t){if(1===t.nodeType&&G.hasData(e)){var i,n,r,s=G._data(e),o=G._data(t,s),a=s.events;if(a){delete o.handle,o.events={};for(i in a)for(n=0,r=a[i].length;r>n;n++)G.event.add(t,i,a[i][n])}o.data&&(o.data=G.extend({},o.data))}}function p(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),i=t.nodeName.toLowerCase(),"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),G.support.html5Clone&&e.innerHTML&&!G.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Kt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(G.expando))}function f(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){Kt.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=vi.length;r--;)if(t=vi[r]+i,t in e)return t;return n}function v(e,t){return e=t||e,"none"===G.css(e,"display")||!G.contains(e.ownerDocument,e)}function y(e,t){for(var i,n,r=[],s=0,o=e.length;o>s;s++)i=e[s],i.style&&(r[s]=G._data(i,"olddisplay"),t?(r[s]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&v(i)&&(r[s]=G._data(i,"olddisplay",k(i.nodeName)))):(n=ii(i,"display"),r[s]||"none"===n||G._data(i,"olddisplay",n)));for(s=0;o>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[s]||"":"none"));return e}function b(e,t,i){var n=ci.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function w(e,t,i,n){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,s=0;4>r;r+=2)"margin"===i&&(s+=G.css(e,i+gi[r],!0)),n?("content"===i&&(s-=parseFloat(ii(e,"padding"+gi[r]))||0),"margin"!==i&&(s-=parseFloat(ii(e,"border"+gi[r]+"Width"))||0)):(s+=parseFloat(ii(e,"padding"+gi[r]))||0,"padding"!==i&&(s+=parseFloat(ii(e,"border"+gi[r]+"Width"))||0));return s}function _(e,t,i){var n="width"===t?e.offsetWidth:e.offsetHeight,r=!0,s=G.support.boxSizing&&"border-box"===G.css(e,"boxSizing");if(0>=n||null==n){if(n=ii(e,t),(0>n||null==n)&&(n=e.style[t]),hi.test(n))return n;r=s&&(G.support.boxSizingReliable||n===e.style[t]),n=parseFloat(n)||0}return n+w(e,t,i||(s?"border":"content"),r)+"px"}function k(e){if(pi[e])return pi[e];var t=G("<"+e+">").appendTo(W.body),i=t.css("display");return t.remove(),("none"===i||""===i)&&(ni=W.body.appendChild(ni||G.extend(W.createElement("iframe"),{frameBorder:0,width:0,height:0})),ri&&ni.createElement||(ri=(ni.contentWindow||ni.contentDocument).document,ri.write("<!doctype html><html><body>"),ri.close()),t=ri.body.appendChild(ri.createElement(e)),i=ii(t,"display"),W.body.removeChild(ni)),pi[e]=i,i}function x(e,t,i,n){var r;if(G.isArray(t))G.each(t,function(t,r){i||wi.test(e)?n(e,r):x(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==G.type(t))n(e,t);else for(r in t)x(e+"["+r+"]",t[r],i,n)}function C(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r,s,o=t.toLowerCase().split(tt),a=0,l=o.length;if(G.isFunction(i))for(;l>a;a++)n=o[a],s=/^\+/.test(n),s&&(n=n.substr(1)||"*"),r=e[n]=e[n]||[],r[s?"unshift":"push"](i)}}function T(e,i,n,r,s,o){s=s||i.dataTypes[0],o=o||{},o[s]=!0;for(var a,l=e[s],u=0,c=l?l.length:0,h=e===Ii;c>u&&(h||!a);u++)a=l[u](i,n,r),"string"==typeof a&&(!h||o[a]?a=t:(i.dataTypes.unshift(a),a=T(e,i,n,r,a,o)));return!h&&a||o["*"]||(a=T(e,i,n,r,"*",o)),a}function S(e,i){var n,r,s=G.ajaxSettings.flatOptions||{};for(n in i)i[n]!==t&&((s[n]?e:r||(r={}))[n]=i[n]);r&&G.extend(!0,e,r)}function M(e,i,n){var r,s,o,a,l=e.contents,u=e.dataTypes,c=e.responseFields;for(s in c)s in n&&(i[c[s]]=n[s]);for(;"*"===u[0];)u.shift(),r===t&&(r=e.mimeType||i.getResponseHeader("content-type"));if(r)for(s in l)if(l[s]&&l[s].test(r)){u.unshift(s);break}if(u[0]in n)o=u[0];else{for(s in n){if(!u[0]||e.converters[s+" "+u[0]]){o=s;break}a||(a=s)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function E(e,t){var i,n,r,s,o=e.dataTypes.slice(),a=o[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=o[++u];)if("*"!==r){if("*"!==a&&a!==r){if(i=l[a+" "+r]||l["* "+r],!i)for(n in l)if(s=n.split(" "),s[1]===r&&(i=l[a+" "+s[0]]||l["* "+s[0]])){i===!0?i=l[n]:l[n]!==!0&&(r=s[0],o.splice(u--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}function D(){try{return new e.XMLHttpRequest}catch(t){}}function j(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function A(){return setTimeout(function(){Yi=t},0),Yi=G.now()}function $(e,t){G.each(t,function(t,i){for(var n=(Zi[t]||[]).concat(Zi["*"]),r=0,s=n.length;s>r;r++)if(n[r].call(e,t,i))return})}function P(e,t,i){var n,r=0,s=Gi.length,o=G.Deferred().always(function(){delete a.elem}),a=function(){for(var t=Yi||A(),i=Math.max(0,l.startTime+l.duration-t),n=i/l.duration||0,r=1-n,s=0,a=l.tweens.length;a>s;s++)l.tweens[s].run(r);return o.notifyWith(e,[l,r,i]),1>r&&a?i:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:G.extend({},t),opts:G.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Yi||A(),duration:i.duration,tweens:[],createTween:function(t,i){var n=G.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){for(var i=0,n=t?l.tweens.length:0;n>i;i++)l.tweens[i].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),u=l.props;for(N(u,l.opts.specialEasing);s>r;r++)if(n=Gi[r].call(l,e,u,l.opts))return n;return $(l,u),G.isFunction(l.opts.start)&&l.opts.start.call(e,l),G.fx.timer(G.extend(a,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function N(e,t){var i,n,r,s,o;for(i in e)if(n=G.camelCase(i),r=t[n],s=e[i],G.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),o=G.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=r)}else t[n]=r}function F(e,t,i){var n,r,s,o,a,l,u,c,h,d=this,p=e.style,f={},m=[],g=e.nodeType&&v(e);i.queue||(c=G._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,h=c.empty.fire,c.empty.fire=function(){c.unqueued||h()}),c.unqueued++,d.always(function(){d.always(function(){c.unqueued--,G.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===G.css(e,"display")&&"none"===G.css(e,"float")&&(G.support.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",G.support.shrinkWrapBlocks||d.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(s=t[n],Ki.exec(s)){if(delete t[n],l=l||"toggle"===s,s===(g?"hide":"show"))continue;m.push(n)}if(o=m.length){a=G._data(e,"fxshow")||G._data(e,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?G(e).show():d.done(function(){G(e).hide()}),d.done(function(){var t;G.removeData(e,"fxshow",!0);for(t in f)G.style(e,t,f[t])});for(n=0;o>n;n++)r=m[n],u=d.createTween(r,g?a[r]:0),f[r]=a[r]||G.style(e,r),r in a||(a[r]=u.start,g&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}function I(e,t,i,n,r){return new I.prototype.init(e,t,i,n,r)}function L(e,t){var i,n={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=gi[r],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function z(e){return G.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var O,H,W=e.document,R=e.location,B=e.navigator,q=e.jQuery,U=e.$,V=Array.prototype.push,Y=Array.prototype.slice,Q=Array.prototype.indexOf,K=Object.prototype.toString,X=Object.prototype.hasOwnProperty,J=String.prototype.trim,G=function(e,t){return new G.fn.init(e,t,O)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,it=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,nt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^[\],:{}\s]*$/,ot=/(?:^|:|,)(?:\s*\[)+/g,at=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ut=/^-ms-/,ct=/-([\da-z])/gi,ht=function(e,t){return(t+"").toUpperCase()},dt=function(){W.addEventListener?(W.removeEventListener("DOMContentLoaded",dt,!1),G.ready()):"complete"===W.readyState&&(W.detachEvent("onreadystatechange",dt),G.ready())},pt={};G.fn=G.prototype={constructor:G,init:function(e,i,n){var r,s,o;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:nt.exec(e),!r||!r[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(r[1])return i=i instanceof G?i[0]:i,o=i&&i.nodeType?i.ownerDocument||i:W,e=G.parseHTML(r[1],o,!0),rt.test(r[1])&&G.isPlainObject(i)&&this.attr.call(e,i,!0),G.merge(this,e);if(s=W.getElementById(r[2]),s&&s.parentNode){if(s.id!==r[2])return n.find(e);this.length=1,this[0]=s}return this.context=W,this.selector=e,this}return G.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),G.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,i){var n=G.merge(this.constructor(),e);return n.prevObject=this,n.context=this.context,"find"===t?n.selector=this.selector+(this.selector?" ":"")+i:t&&(n.selector=this.selector+"."+t+"("+i+")"),n},each:function(e,t){return G.each(this,e,t)},ready:function(e){return G.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(e){return this.pushStack(G.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:[].sort,splice:[].splice},G.fn.init.prototype=G.fn,G.extend=G.fn.extend=function(){var e,i,n,r,s,o,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||G.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(i in e)n=a[i],r=e[i],a!==r&&(c&&r&&(G.isPlainObject(r)||(s=G.isArray(r)))?(s?(s=!1,o=n&&G.isArray(n)?n:[]):o=n&&G.isPlainObject(n)?n:{},a[i]=G.extend(c,o,r)):r!==t&&(a[i]=r));return a},G.extend({noConflict:function(t){return e.$===G&&(e.$=U),t&&e.jQuery===G&&(e.jQuery=q),G},isReady:!1,readyWait:1,holdReady:function(e){e?G.readyWait++:G.ready(!0)},ready:function(e){if(e===!0?!--G.readyWait:!G.isReady){if(!W.body)return setTimeout(G.ready,1);G.isReady=!0,e!==!0&&--G.readyWait>0||(H.resolveWith(W,[G]),G.fn.trigger&&G(W).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===G.type(e)},isArray:Array.isArray||function(e){return"array"===G.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):pt[K.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==G.type(e)||e.nodeType||G.isWindow(e))return!1;try{if(e.constructor&&!X.call(e,"constructor")&&!X.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in e);return n===t||X.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var n;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||W,(n=rt.exec(e))?[t.createElement(n[1])]:(n=G.buildFragment([e],t,i?null:[]),G.merge([],(n.cacheable?G.clone(n.fragment):n.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=G.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):st.test(t.replace(at,"@").replace(lt,"]").replace(ot,""))?new Function("return "+t)():(G.error("Invalid JSON: "+t),void 0)):null},parseXML:function(i){var n,r;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(s){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||G.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ut,"ms-").replace(ct,ht)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,i,n){var r,s=0,o=e.length,a=o===t||G.isFunction(e);if(n)if(a){for(r in e)if(i.apply(e[r],n)===!1)break}else for(;o>s&&i.apply(e[s++],n)!==!1;);else if(a){for(r in e)if(i.call(e[r],r,e[r])===!1)break}else for(;o>s&&i.call(e[s],s,e[s++])!==!1;);return e},trim:J&&!J.call("﻿ ")?function(e){return null==e?"":J.call(e)}:function(e){return null==e?"":(e+"").replace(it,"")},makeArray:function(e,t){var i,n=t||[];return null!=e&&(i=G.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||G.isWindow(e)?V.call(n,e):G.merge(n,e)),n},inArray:function(e,t,i){var n;if(t){if(Q)return Q.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,r=e.length,s=0;if("number"==typeof n)for(;n>s;s++)e[r++]=i[s];else for(;i[s]!==t;)e[r++]=i[s++];return e.length=r,e},grep:function(e,t,i){var n,r=[],s=0,o=e.length;for(i=!!i;o>s;s++)n=!!t(e[s],s),i!==n&&r.push(e[s]);return r},map:function(e,i,n){var r,s,o=[],a=0,l=e.length,u=e instanceof G||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||G.isArray(e));if(u)for(;l>a;a++)r=i(e[a],a,n),null!=r&&(o[o.length]=r);else for(s in e)r=i(e[s],s,n),null!=r&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function(e,i){var n,r,s;return"string"==typeof i&&(n=e[i],i=e,e=n),G.isFunction(e)?(r=Y.call(arguments,2),s=function(){return e.apply(i,r.concat(Y.call(arguments)))},s.guid=e.guid=e.guid||G.guid++,s):t},access:function(e,i,n,r,s,o,a){var l,u=null==n,c=0,h=e.length;if(n&&"object"==typeof n){for(c in n)G.access(e,i,c,n[c],1,o,r);s=1}else if(r!==t){if(l=a===t&&G.isFunction(r),u&&(l?(l=i,i=function(e,t,i){return l.call(G(e),i)}):(i.call(e,r),i=null)),i)for(;h>c;c++)i(e[c],n,l?r.call(e[c],c,i(e[c],n)):r,a);s=1}return s?e:u?i.call(e):h?i(e[0],n):o},now:function(){return(new Date).getTime()}}),G.ready.promise=function(t){if(!H)if(H=G.Deferred(),"complete"===W.readyState)setTimeout(G.ready,1);else if(W.addEventListener)W.addEventListener("DOMContentLoaded",dt,!1),e.addEventListener("load",G.ready,!1);else{W.attachEvent("onreadystatechange",dt),e.attachEvent("onload",G.ready);var i=!1;try{i=null==e.frameElement&&W.documentElement}catch(n){}i&&i.doScroll&&!function r(){if(!G.isReady){try{i.doScroll("left")}catch(e){return setTimeout(r,50)}G.ready()}}()}return H.promise(t)},G.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),O=G(W);var ft={};G.Callbacks=function(e){e="string"==typeof e?ft[e]||i(e):G.extend({},e);var n,r,s,o,a,l,u=[],c=!e.once&&[],h=function(t){for(n=e.memory&&t,r=!0,l=o||0,o=0,a=u.length,s=!0;u&&a>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}s=!1,u&&(c?c.length&&h(c.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var t=u.length;!function i(t){G.each(t,function(t,n){var r=G.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),s?a=u.length:n&&(o=t,h(n))}return this},remove:function(){return u&&G.each(arguments,function(e,t){for(var i;(i=G.inArray(t,u,i))>-1;)u.splice(i,1),s&&(a>=i&&a--,l>=i&&l--)}),this},has:function(e){return G.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=n=t,this},disabled:function(){return!u},lock:function(){return c=t,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||r&&!c||(s?c.push(t):h(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},G.extend({Deferred:function(e){var t=[["resolve","done",G.Callbacks("once memory"),"resolved"],["reject","fail",G.Callbacks("once memory"),"rejected"],["notify","progress",G.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return G.Deferred(function(i){G.each(t,function(t,n){var s=n[0],o=e[t];r[n[1]](G.isFunction(o)?function(){var e=o.apply(this,arguments);e&&G.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s+"With"](this===r?i:this,[e])}:i[s])}),e=null}).promise()},promise:function(e){return null!=e?G.extend(e,n):n}},r={};return n.pipe=n.then,G.each(t,function(e,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[s[0]]=o.fire,r[s[0]+"With"]=o.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,s=Y.call(arguments),o=s.length,a=1!==o||e&&G.isFunction(e.promise)?o:0,l=1===a?e:G.Deferred(),u=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?Y.call(arguments):r,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>r;r++)s[r]&&G.isFunction(s[r].promise)?s[r].promise().done(u(r,n,s)).fail(l.reject).progress(u(r,i,t)):--a;return a||l.resolveWith(n,s),l.promise()}}),G.support=function(){var t,i,n,r,s,o,a,l,u,c,h,d=W.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*"),n=d.getElementsByTagName("a")[0],!i||!n||!i.length)return{};r=W.createElement("select"),s=r.appendChild(W.createElement("option")),o=d.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===o.value,optSelected:s.selected,getSetAttribute:"t"!==d.className,enctype:!!W.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==W.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===W.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!s.disabled;try{delete d.test}catch(p){t.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"),d.detachEvent("onclick",h)),o=W.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),d.appendChild(o),a=W.createDocumentFragment(),a.appendChild(d.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,a.removeChild(o),a.appendChild(d),d.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in d,c||(d.setAttribute(l,"return;"),c="function"==typeof d[l]),t[u+"Bubbles"]=c;return G(function(){var i,n,r,s,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=W.getElementsByTagName("body")[0];a&&(i=W.createElement("div"),i.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(i,a.firstChild),n=W.createElement("div"),i.appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=n.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===n.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(n,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width,s=W.createElement("div"),s.style.cssText=n.style.cssText=o,s.style.marginRight=s.style.width="0",n.style.width="1px",n.appendChild(s),t.reliableMarginRight=!parseFloat((e.getComputedStyle(s,null)||{}).marginRight)),"undefined"!=typeof n.style.zoom&&(n.innerHTML="",n.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div></div>",n.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==n.offsetWidth,i.style.zoom=1),a.removeChild(i),i=n=r=s=null)}),a.removeChild(d),i=n=r=s=o=a=d=null,t}();var mt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gt=/([A-Z])/g;G.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(G.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?G.cache[e[G.expando]]:e[G.expando],!!e&&!r(e)},data:function(e,i,n,r){if(G.acceptData(e)){var s,o,a=G.expando,l="string"==typeof i,u=e.nodeType,c=u?G.cache:e,h=u?e[a]:e[a]&&a;if(h&&c[h]&&(r||c[h].data)||!l||n!==t)return h||(u?e[a]=h=G.deletedIds.pop()||G.guid++:h=a),c[h]||(c[h]={},u||(c[h].toJSON=G.noop)),("object"==typeof i||"function"==typeof i)&&(r?c[h]=G.extend(c[h],i):c[h].data=G.extend(c[h].data,i)),s=c[h],r||(s.data||(s.data={}),s=s.data),n!==t&&(s[G.camelCase(i)]=n),l?(o=s[i],null==o&&(o=s[G.camelCase(i)])):o=s,o}},removeData:function(e,t,i){if(G.acceptData(e)){var n,s,o,a=e.nodeType,l=a?G.cache:e,u=a?e[G.expando]:G.expando;if(l[u]){if(t&&(n=i?l[u]:l[u].data)){G.isArray(t)||(t in n?t=[t]:(t=G.camelCase(t),t=t in n?[t]:t.split(" ")));for(s=0,o=t.length;o>s;s++)delete n[t[s]];if(!(i?r:G.isEmptyObject)(n))return}(i||(delete l[u].data,r(l[u])))&&(a?G.cleanData([e],!0):G.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,i){return G.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&G.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),G.fn.extend({data:function(e,i){var r,s,o,a,l,u=this[0],c=0,h=null;if(e===t){if(this.length&&(h=G.data(u),1===u.nodeType&&!G._data(u,"parsedAttrs"))){for(o=u.attributes,l=o.length;l>c;c++)a=o[c].name,a.indexOf("data-")||(a=G.camelCase(a.substring(5)),n(u,a,h[a]));G._data(u,"parsedAttrs",!0)}return h}return"object"==typeof e?this.each(function(){G.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",s=r[1]+"!",G.access(this,function(i){return i===t?(h=this.triggerHandler("getData"+s,[r[0]]),h===t&&u&&(h=G.data(u,e),h=n(u,e,h)),h===t&&r[1]?this.data(r[0]):h):(r[1]=i,this.each(function(){var t=G(this);t.triggerHandler("setData"+s,r),G.data(this,e,i),t.triggerHandler("changeData"+s,r)}),void 0)},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){G.removeData(this,e)})}}),G.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=G._data(e,t),i&&(!n||G.isArray(i)?n=G._data(e,t,G.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=G.queue(e,t),n=i.length,r=i.shift(),s=G._queueHooks(e,t),o=function(){G.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return G._data(e,i)||G._data(e,i,{empty:G.Callbacks("once memory").add(function(){G.removeData(e,t+"queue",!0),G.removeData(e,i,!0)})})}}),G.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?G.queue(this[0],e):i===t?this:this.each(function(){var t=G.queue(this,e,i);G._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&G.dequeue(this,e)})},dequeue:function(e){return this.each(function(){G.dequeue(this,e)})},delay:function(e,t){return e=G.fx?G.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,r=1,s=G.Deferred(),o=this,a=this.length,l=function(){--r||s.resolveWith(o,[o])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)n=G._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(l));return l(),s.promise(i)}});var vt,yt,bt,wt=/[\t\r\n]/g,_t=/\r/g,kt=/^(?:button|input)$/i,xt=/^(?:button|input|object|select|textarea)$/i,Ct=/^a(?:rea|)$/i,Tt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,St=G.support.getSetAttribute;G.fn.extend({attr:function(e,t){return G.access(this,G.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){G.removeAttr(this,e)})},prop:function(e,t){return G.access(this,G.prop,e,t,arguments.length>1)},removeProp:function(e){return e=G.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,r,s,o,a;if(G.isFunction(e))return this.each(function(t){G(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),i=0,n=this.length;n>i;i++)if(r=this[i],1===r.nodeType)if(r.className||1!==t.length){for(s=" "+r.className+" ",o=0,a=t.length;a>o;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");r.className=G.trim(s)}else r.className=e;return this},removeClass:function(e){var i,n,r,s,o,a,l;if(G.isFunction(e))return this.each(function(t){G(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(tt),a=0,l=this.length;l>a;a++)if(r=this[a],1===r.nodeType&&r.className){for(n=(" "+r.className+" ").replace(wt," "),s=0,o=i.length;o>s;s++)for(;n.indexOf(" "+i[s]+" ")>=0;)n=n.replace(" "+i[s]+" "," ");r.className=e?G.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t;return G.isFunction(e)?this.each(function(i){G(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var r,s=0,o=G(this),a=t,l=e.split(tt);r=l[s++];)a=n?a:!o.hasClass(r),o[a?"addClass":"removeClass"](r);else("undefined"===i||"boolean"===i)&&(this.className&&G._data(this,"__className__",this.className),this.className=this.className||e===!1?"":G._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(wt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,r,s=this[0];{if(arguments.length)return r=G.isFunction(e),this.each(function(n){var s,o=G(this);1===this.nodeType&&(s=r?e.call(this,n,o.val()):e,null==s?s="":"number"==typeof s?s+="":G.isArray(s)&&(s=G.map(s,function(e){return null==e?"":e+""})),i=G.valHooks[this.type]||G.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,s,"value")!==t||(this.value=s))});if(s)return i=G.valHooks[s.type]||G.valHooks[s.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(s,"value"))!==t?n:(n=s.value,"string"==typeof n?n.replace(_t,""):null==n?"":n)}}}),G.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,o=s?null:[],a=s?r+1:n.length,l=0>r?a:s?r:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==r||(G.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&G.nodeName(i.parentNode,"optgroup"))){if(t=G(i).val(),s)return t;o.push(t)}return o},set:function(e,t){var i=G.makeArray(t);return G(e).find("option").each(function(){this.selected=G.inArray(G(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,i,n,r){var s,o,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&G.isFunction(G.fn[i])?G(e)[i](n):"undefined"==typeof e.getAttribute?G.prop(e,i,n):(a=1!==l||!G.isXMLDoc(e),a&&(i=i.toLowerCase(),o=G.attrHooks[i]||(Tt.test(i)?yt:vt)),n!==t?null===n?(G.removeAttr(e,i),void 0):o&&"set"in o&&a&&(s=o.set(e,n,i))!==t?s:(e.setAttribute(i,n+""),n):o&&"get"in o&&a&&null!==(s=o.get(e,i))?s:(s=e.getAttribute(i),null===s?t:s))},removeAttr:function(e,t){var i,n,r,s,o=0;if(t&&1===e.nodeType)for(n=t.split(tt);o<n.length;o++)r=n[o],r&&(i=G.propFix[r]||r,s=Tt.test(r),s||G.attr(e,r,""),e.removeAttribute(St?r:i),s&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(kt.test(e.nodeName)&&e.parentNode)G.error("type property can't be changed");else if(!G.support.radioValue&&"radio"===t&&G.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return vt&&G.nodeName(e,"button")?vt.get(e,t):t in e?e.value:null},set:function(e,t,i){return vt&&G.nodeName(e,"button")?vt.set(e,t,i):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,n){var r,s,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!G.isXMLDoc(e),o&&(i=G.propFix[i]||i,s=G.propHooks[i]),n!==t?s&&"set"in s&&(r=s.set(e,n,i))!==t?r:e[i]=n:s&&"get"in s&&null!==(r=s.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):xt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:t}}}}),yt={get:function(e,i){var n,r=G.prop(e,i);return r===!0||"boolean"!=typeof r&&(n=e.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():t},set:function(e,t,i){var n;return t===!1?G.removeAttr(e,i):(n=G.propFix[i]||i,n in e&&(e[n]=!0),e.setAttribute(i,i.toLowerCase())),i}},St||(bt={name:!0,id:!0,coords:!0},vt=G.valHooks.button={get:function(e,i){var n;return n=e.getAttributeNode(i),n&&(bt[i]?""!==n.value:n.specified)?n.value:t},set:function(e,t,i){var n=e.getAttributeNode(i);return n||(n=W.createAttribute(i),e.setAttributeNode(n)),n.value=t+""}},G.each(["width","height"],function(e,t){G.attrHooks[t]=G.extend(G.attrHooks[t],{set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}})}),G.attrHooks.contenteditable={get:vt.get,set:function(e,t,i){""===t&&(t="false"),vt.set(e,t,i)}}),G.support.hrefNormalized||G.each(["href","src","width","height"],function(e,i){G.attrHooks[i]=G.extend(G.attrHooks[i],{get:function(e){var n=e.getAttribute(i,2);return null===n?t:n}})}),G.support.style||(G.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),G.support.optSelected||(G.propHooks.selected=G.extend(G.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null
}})),G.support.enctype||(G.propFix.enctype="encoding"),G.support.checkOn||G.each(["radio","checkbox"],function(){G.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),G.each(["radio","checkbox"],function(){G.valHooks[this]=G.extend(G.valHooks[this],{set:function(e,t){return G.isArray(t)?e.checked=G.inArray(G(e).val(),t)>=0:void 0}})});var Mt=/^(?:textarea|input|select)$/i,Et=/^([^\.]*|)(?:\.(.+)|)$/,Dt=/(?:^|\s)hover(\.\S+|)\b/,jt=/^key/,At=/^(?:mouse|contextmenu)|click/,$t=/^(?:focusinfocus|focusoutblur)$/,Pt=function(e){return G.event.special.hover?e:e.replace(Dt,"mouseenter$1 mouseleave$1")};G.event={add:function(e,i,n,r,s){var o,a,l,u,c,h,d,p,f,m,g;if(3!==e.nodeType&&8!==e.nodeType&&i&&n&&(o=G._data(e))){for(n.handler&&(f=n,n=f.handler,s=f.selector),n.guid||(n.guid=G.guid++),l=o.events,l||(o.events=l={}),a=o.handle,a||(o.handle=a=function(e){return"undefined"==typeof G||e&&G.event.triggered===e.type?t:G.event.dispatch.apply(a.elem,arguments)},a.elem=e),i=G.trim(Pt(i)).split(" "),u=0;u<i.length;u++)c=Et.exec(i[u])||[],h=c[1],d=(c[2]||"").split(".").sort(),g=G.event.special[h]||{},h=(s?g.delegateType:g.bindType)||h,g=G.event.special[h]||{},p=G.extend({type:h,origType:c[1],data:r,handler:n,guid:n.guid,selector:s,needsContext:s&&G.expr.match.needsContext.test(s),namespace:d.join(".")},f),m=l[h],m||(m=l[h]=[],m.delegateCount=0,g.setup&&g.setup.call(e,r,d,a)!==!1||(e.addEventListener?e.addEventListener(h,a,!1):e.attachEvent&&e.attachEvent("on"+h,a))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),G.event.global[h]=!0;e=null}},global:{},remove:function(e,t,i,n,r){var s,o,a,l,u,c,h,d,p,f,m,g=G.hasData(e)&&G._data(e);if(g&&(d=g.events)){for(t=G.trim(Pt(t||"")).split(" "),s=0;s<t.length;s++)if(o=Et.exec(t[s])||[],a=l=o[1],u=o[2],a){for(p=G.event.special[a]||{},a=(n?p.delegateType:p.bindType)||a,f=d[a]||[],c=f.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=0;h<f.length;h++)m=f[h],!r&&l!==m.origType||i&&i.guid!==m.guid||u&&!u.test(m.namespace)||n&&n!==m.selector&&("**"!==n||!m.selector)||(f.splice(h--,1),m.selector&&f.delegateCount--,p.remove&&p.remove.call(e,m));0===f.length&&c!==f.length&&(p.teardown&&p.teardown.call(e,u,g.handle)!==!1||G.removeEvent(e,a,g.handle),delete d[a])}else for(a in d)G.event.remove(e,a+t[s],i,n,!0);G.isEmptyObject(d)&&(delete g.handle,G.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,r,s){if(!r||3!==r.nodeType&&8!==r.nodeType){var o,a,l,u,c,h,d,p,f,m,g=i.type||i,v=[];if(!$t.test(g+G.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),r&&!G.event.customEvent[g]||G.event.global[g]))if(i="object"==typeof i?i[G.expando]?i:new G.Event(g,i):new G.Event(g),i.type=g,i.isTrigger=!0,i.exclusive=a,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=g.indexOf(":")<0?"on"+g:"",r){if(i.result=t,i.target||(i.target=r),n=null!=n?G.makeArray(n):[],n.unshift(i),d=G.event.special[g]||{},!d.trigger||d.trigger.apply(r,n)!==!1){if(f=[[r,d.bindType||g]],!s&&!d.noBubble&&!G.isWindow(r)){for(m=d.delegateType||g,u=$t.test(m+g)?r:r.parentNode,c=r;u;u=u.parentNode)f.push([u,m]),c=u;c===(r.ownerDocument||W)&&f.push([c.defaultView||c.parentWindow||e,m])}for(l=0;l<f.length&&!i.isPropagationStopped();l++)u=f[l][0],i.type=f[l][1],p=(G._data(u,"events")||{})[i.type]&&G._data(u,"handle"),p&&p.apply(u,n),p=h&&u[h],p&&G.acceptData(u)&&p.apply&&p.apply(u,n)===!1&&i.preventDefault();return i.type=g,s||i.isDefaultPrevented()||d._default&&d._default.apply(r.ownerDocument,n)!==!1||"click"===g&&G.nodeName(r,"a")||!G.acceptData(r)||h&&r[g]&&("focus"!==g&&"blur"!==g||0!==i.target.offsetWidth)&&!G.isWindow(r)&&(c=r[h],c&&(r[h]=null),G.event.triggered=g,r[g](),G.event.triggered=t,c&&(r[h]=c)),i.result}}else{o=G.cache;for(l in o)o[l].events&&o[l].events[g]&&G.event.trigger(i,n,o[l].handle.elem,!0)}}},dispatch:function(i){i=G.event.fix(i||e.event);var n,r,s,o,a,l,u,c,h,d=(G._data(this,"events")||{})[i.type]||[],p=d.delegateCount,f=Y.call(arguments),m=!i.exclusive&&!i.namespace,g=G.event.special[i.type]||{},v=[];if(f[0]=i,i.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,i)!==!1){if(p&&(!i.button||"click"!==i.type))for(s=i.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||"click"!==i.type){for(a={},u=[],n=0;p>n;n++)c=d[n],h=c.selector,a[h]===t&&(a[h]=c.needsContext?G(h,this).index(s)>=0:G.find(h,this,null,[s]).length),a[h]&&u.push(c);u.length&&v.push({elem:s,matches:u})}for(d.length>p&&v.push({elem:this,matches:d.slice(p)}),n=0;n<v.length&&!i.isPropagationStopped();n++)for(l=v[n],i.currentTarget=l.elem,r=0;r<l.matches.length&&!i.isImmediatePropagationStopped();r++)c=l.matches[r],(m||!i.namespace&&!c.namespace||i.namespace_re&&i.namespace_re.test(c.namespace))&&(i.data=c.data,i.handleObj=c,o=((G.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,f),o!==t&&(i.result=o,o===!1&&(i.preventDefault(),i.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,r,s,o=i.button,a=i.fromElement;return null==e.pageX&&null!=i.clientX&&(n=e.target.ownerDocument||W,r=n.documentElement,s=n.body,e.pageX=i.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),e.pageY=i.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?i.toElement:a),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[G.expando])return e;var t,i,n=e,r=G.event.fixHooks[e.type]||{},s=r.props?this.props.concat(r.props):this.props;for(e=G.Event(n),t=s.length;t;)i=s[--t],e[i]=n[i];return e.target||(e.target=n.srcElement||W),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,n):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){G.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,n){var r=G.extend(new G.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?G.event.trigger(r,null,t):G.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},G.event.handle=G.event.dispatch,G.removeEvent=W.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&("undefined"==typeof e[n]&&(e[n]=null),e.detachEvent(n,i))},G.Event=function(e,t){return this instanceof G.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?o:s):this.type=e,t&&G.extend(this,t),this.timeStamp=e&&e.timeStamp||G.now(),this[G.expando]=!0,void 0):new G.Event(e,t)},G.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s},G.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){G.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,s=e.handleObj;return s.selector,(!r||r!==n&&!G.contains(n,r))&&(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),G.support.submitBubbles||(G.event.special.submit={setup:function(){return G.nodeName(this,"form")?!1:(G.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=G.nodeName(i,"input")||G.nodeName(i,"button")?i.form:t;n&&!G._data(n,"_submit_attached")&&(G.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),G._data(n,"_submit_attached",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&G.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return G.nodeName(this,"form")?!1:(G.event.remove(this,"._submit"),void 0)}}),G.support.changeBubbles||(G.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(G.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),G.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),G.event.simulate("change",this,e,!0)})),!1):(G.event.add(this,"beforeactivate._change",function(e){var t=e.target;Mt.test(t.nodeName)&&!G._data(t,"_change_attached")&&(G.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||G.event.simulate("change",this.parentNode,e,!0)}),G._data(t,"_change_attached",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return G.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),G.support.focusinBubbles||G.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){G.event.simulate(t,e.target,G.event.fix(e),!0)};G.event.special[t]={setup:function(){0===i++&&W.addEventListener(e,n,!0)},teardown:function(){0===--i&&W.removeEventListener(e,n,!0)}}}),G.fn.extend({on:function(e,i,n,r,o){var a,l;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(l in e)this.on(l,i,n,e[l],o);return this}if(null==n&&null==r?(r=i,n=i=t):null==r&&("string"==typeof i?(r=n,n=t):(r=n,n=i,i=t)),r===!1)r=s;else if(!r)return this;return 1===o&&(a=r,r=function(e){return G().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=G.guid++)),this.each(function(){G.event.add(this,e,r,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,G(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,i,e[o]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=s),this.each(function(){G.event.remove(this,e,n,i)})},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,i){return G(this.context).on(e,this.selector,t,i),this},die:function(e,t){return G(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){G.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?G.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,i=e.guid||G.guid++,n=0,r=function(i){var r=(G._data(this,"lastToggle"+e.guid)||0)%n;return G._data(this,"lastToggle"+e.guid,r+1),i.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=i;n<t.length;)t[n++].guid=i;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),G.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){G.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},jt.test(t)&&(G.event.fixHooks[t]=G.event.keyHooks),At.test(t)&&(G.event.fixHooks[t]=G.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(e,t){function i(e,t,i,n){i=i||[],t=t||A;var r,s,o,a,l=t.nodeType;if(!e||"string"!=typeof e)return i;if(1!==l&&9!==l)return[];if(o=_(t),!o&&!n&&(r=it.exec(e)))if(a=r[1]){if(9===l){if(s=t.getElementById(a),!s||!s.parentNode)return i;if(s.id===a)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&k(t,s)&&s.id===a)return i.push(s),i}else{if(r[2])return I.apply(i,L.call(t.getElementsByTagName(e),0)),i;if((a=r[3])&&dt&&t.getElementsByClassName)return I.apply(i,L.call(t.getElementsByClassName(a),0)),i}return m(e.replace(J,"$1"),t,i,n,o)}function n(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function r(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function s(e){return O(function(t){return t=+t,O(function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function o(e,t,i){if(e===t)return i;for(var n=e.nextSibling;n;){if(n===t)return-1;n=n.nextSibling}return 1}function a(e,t){var n,r,s,o,a,l,u,c=R[D][e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=b.preFilter;a;){(!n||(r=Z.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=et.exec(a))&&(s.push(n=new j(r.shift())),a=a.slice(n.length),n.type=r[0].replace(J," "));for(o in b.filter)!(r=at[o].exec(a))||u[o]&&!(r=u[o](r))||(s.push(n=new j(r.shift())),a=a.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?a.length:a?i.error(e):R(e,l).slice(0)}function l(e,t,i){var n=t.dir,r=i&&"parentNode"===t.dir,s=N++;return t.first?function(t,i,s){for(;t=t[n];)if(r||1===t.nodeType)return e(t,i,s)}:function(t,i,o){if(o){for(;t=t[n];)if((r||1===t.nodeType)&&e(t,i,o))return t}else for(var a,l=P+" "+s+" ",u=l+v;t=t[n];)if(r||1===t.nodeType){if((a=t[D])===u)return t.sizset;if("string"==typeof a&&0===a.indexOf(l)){if(t.sizset)return t}else{if(t[D]=u,e(t,i,o))return t.sizset=!0,t;t.sizset=!1}}}}function u(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function c(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,u=null!=t;l>a;a++)(s=e[a])&&(!i||i(s,n,r))&&(o.push(s),u&&t.push(a));return o}function h(e,t,i,n,r,s){return n&&!n[D]&&(n=h(n)),r&&!r[D]&&(r=h(r,s)),O(function(s,o,a,l){var u,h,d,p=[],m=[],g=o.length,v=s||f(t||"*",a.nodeType?[a]:a,[]),y=!e||!s&&t?v:c(v,p,e,a,l),b=i?r||(s?e:g||n)?[]:o:y;if(i&&i(y,b,a,l),n)for(u=c(b,m),n(u,[],a,l),h=u.length;h--;)(d=u[h])&&(b[m[h]]=!(y[m[h]]=d));if(s){if(r||e){if(r){for(u=[],h=b.length;h--;)(d=b[h])&&u.push(y[h]=d);r(null,b=[],u,l)}for(h=b.length;h--;)(d=b[h])&&(u=r?z.call(s,d):p[h])>-1&&(s[u]=!(o[u]=d))}}else b=c(b===o?b.splice(g,b.length):b),r?r(null,o,b,l):I.apply(o,b)})}function d(e){for(var t,i,n,r=e.length,s=b.relative[e[0].type],o=s||b.relative[" "],a=s?1:0,c=l(function(e){return e===t},o,!0),p=l(function(e){return z.call(t,e)>-1},o,!0),f=[function(e,i,n){return!s&&(n||i!==S)||((t=i).nodeType?c(e,i,n):p(e,i,n))}];r>a;a++)if(i=b.relative[e[a].type])f=[l(u(f),i)];else{if(i=b.filter[e[a].type].apply(null,e[a].matches),i[D]){for(n=++a;r>n&&!b.relative[e[n].type];n++);return h(a>1&&u(f),a>1&&e.slice(0,a-1).join("").replace(J,"$1"),i,n>a&&d(e.slice(a,n)),r>n&&d(e=e.slice(n)),r>n&&e.join(""))}f.push(i)}return u(f)}function p(e,t){var n=t.length>0,r=e.length>0,s=function(o,a,l,u,h){var d,p,f,m=[],g=0,y="0",w=o&&[],_=null!=h,k=S,x=o||r&&b.find.TAG("*",h&&a.parentNode||a),C=P+=null==k?1:Math.E;for(_&&(S=a!==A&&a,v=s.el);null!=(d=x[y]);y++){if(r&&d){for(p=0;f=e[p];p++)if(f(d,a,l)){u.push(d);break}_&&(P=C,v=++s.el)}n&&((d=!f&&d)&&g--,o&&w.push(d))}if(g+=y,n&&y!==g){for(p=0;f=t[p];p++)f(w,m,a,l);if(o){if(g>0)for(;y--;)w[y]||m[y]||(m[y]=F.call(u));m=c(m)}I.apply(u,m),_&&!o&&m.length>0&&g+t.length>1&&i.uniqueSort(u)}return _&&(P=C,S=k),w};return s.el=0,n?O(s):s}function f(e,t,n){for(var r=0,s=t.length;s>r;r++)i(e,t[r],n);return n}function m(e,t,i,n,r){var s,o,l,u,c,h=a(e);if(h.length,!n&&1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(l=o[0]).type&&9===t.nodeType&&!r&&b.relative[o[1].type]){if(t=b.find.ID(l.matches[0].replace(ot,""),t,r)[0],!t)return i;e=e.slice(o.shift().length)}for(s=at.POS.test(e)?-1:o.length-1;s>=0&&(l=o[s],!b.relative[u=l.type]);s--)if((c=b.find[u])&&(n=c(l.matches[0].replace(ot,""),nt.test(o[0].type)&&t.parentNode||t,r))){if(o.splice(s,1),e=n.length&&o.join(""),!e)return I.apply(i,L.call(n,0)),i;break}}return x(e,h)(n,t,r,i,nt.test(e)),i}function g(){}var v,y,b,w,_,k,x,C,T,S,M=!0,E="undefined",D=("sizcache"+Math.random()).replace(".",""),j=String,A=e.document,$=A.documentElement,P=0,N=0,F=[].pop,I=[].push,L=[].slice,z=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},O=function(e,t){return e[D]=null==t||t,e},H=function(){var e={},t=[];return O(function(i,n){return t.push(i)>b.cacheLength&&delete e[t.shift()],e[i+" "]=n},e)},W=H(),R=H(),B=H(),q="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",V=U.replace("w","w#"),Y="([*^$|!~]?=)",Q="\\["+q+"*("+U+")"+q+"*(?:"+Y+q+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+V+")|)|)"+q+"*\\]",K=":("+U+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+Q+")|[^:]|\\\\.)*|.*))\\)|)",X=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)",J=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),Z=new RegExp("^"+q+"*,"+q+"*"),et=new RegExp("^"+q+"*([\\x20\\t\\r\\n\\f>+~])"+q+"*"),tt=new RegExp(K),it=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,nt=/[\x20\t\r\n\f]*[+~]/,rt=/h\d/i,st=/input|select|textarea|button/i,ot=/\\(?!\\)/g,at={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),NAME:new RegExp("^\\[name=['\"]?("+U+")['\"]?\\]"),TAG:new RegExp("^("+U.replace("w","w*")+")"),ATTR:new RegExp("^"+Q),PSEUDO:new RegExp("^"+K),POS:new RegExp(X,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),needsContext:new RegExp("^"+q+"*[>+~]|"+X,"i")},lt=function(e){var t=A.createElement("div");try{return e(t)}catch(i){return!1}finally{t=null}},ut=lt(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),ct=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==E&&"#"===e.firstChild.getAttribute("href")}),ht=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),dt=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),pt=lt(function(e){e.id=D+0,e.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",$.insertBefore(e,$.firstChild);var t=A.getElementsByName&&A.getElementsByName(D).length===2+A.getElementsByName(D+0).length;return y=!A.getElementById(D),$.removeChild(e),t});try{L.call($.childNodes,0)[0].nodeType}catch(ft){L=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){return i(t,null,null,[e]).length>0},w=i.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=w(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n];n++)i+=w(t);return i},_=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},k=i.contains=$.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:$.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},i.attr=function(e,t){var i,n=_(e);return n||(t=t.toLowerCase()),(i=b.attrHandle[t])?i(e):n||ht?e.getAttribute(t):(i=e.getAttributeNode(t),i?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null)},b=i.selectors={cacheLength:50,createPseudo:O,match:at,attrHandle:ct?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,i){if(typeof t.getElementById!==E&&!i){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}}:function(e,i,n){if(typeof i.getElementById!==E&&!n){var r=i.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==E&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:ut?function(e,t){return typeof t.getElementsByTagName!==E?t.getElementsByTagName(e):void 0}:function(e,t){var i=t.getElementsByTagName(e);if("*"===e){for(var n,r=[],s=0;n=i[s];s++)1===n.nodeType&&r.push(n);return r}return i},NAME:pt&&function(e,t){return typeof t.getElementsByName!==E?t.getElementsByName(name):void 0},CLASS:dt&&function(e,t,i){return typeof t.getElementsByClassName===E||i?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ot,""),e[3]=(e[4]||e[5]||"").replace(ot,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||i.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&i.error(e[0]),e},PSEUDO:function(e){var t,i;return at.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(i=a(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:y?function(e){return e=e.replace(ot,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(ot,""),function(t){var i=typeof t.getAttributeNode!==E&&t.getAttributeNode("id");return i&&i.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(ot,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=W[D][e+" "];return t||(t=new RegExp("(^|"+q+")"+e+"("+q+"|$)"))&&W(e,function(e){return t.test(e.className||typeof e.getAttribute!==E&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var s=i.attr(r,e);return null==s?"!="===t:t?(s+="","="===t?s===n:"!="===t?s!==n:"^="===t?n&&0===s.indexOf(n):"*="===t?n&&s.indexOf(n)>-1:"$="===t?n&&s.substr(s.length-n.length)===n:"~="===t?(" "+s+" ").indexOf(n)>-1:"|="===t?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n){return"nth"===e?function(e){var t,r,s=e.parentNode;if(1===i&&0===n)return!0;if(s)for(r=0,t=s.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return r-=n,r===i||0===r%i&&r/i>=0}:function(t){var i=t;switch(e){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===e)return!0;i=t;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var n,r=b.pseudos[e]||b.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return r[D]?r(t):r.length>1?(n=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?O(function(e,i){for(var n,s=r(e,t),o=s.length;o--;)n=z.call(e,s[o]),e[n]=!(i[n]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:O(function(e){var t=[],i=[],n=x(e.replace(J,"$1"));return n[D]?O(function(e,t,i,r){for(var s,o=n(e,null,r,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,r,s){return t[0]=e,n(t,null,s,i),!i.pop()}}),has:O(function(e){return function(t){return i(e,t).length>0}}),contains:O(function(e){return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return rt.test(e.nodeName)},text:function(e){var t,i;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:n("radio"),checkbox:n("checkbox"),file:n("file"),password:n("password"),image:n("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return st.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,i){return[0>i?i+t:i]}),even:s(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:s(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:s(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:s(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},C=$.compareDocumentPosition?function(e,t){return e===t?(T=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return T=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,n,r=[],s=[],a=e.parentNode,l=t.parentNode,u=a;if(a===l)return o(e,t);if(!a)return-1;if(!l)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=l;u;)s.unshift(u),u=u.parentNode;i=r.length,n=s.length;for(var c=0;i>c&&n>c;c++)if(r[c]!==s[c])return o(r[c],s[c]);return c===i?o(e,s[c],-1):o(r[c],t,1)},[0,0].sort(C),M=!T,i.uniqueSort=function(e){var t,i=[],n=1,r=0;if(T=M,e.sort(C),T){for(;t=e[n];n++)t===e[n-1]&&(r=i.push(n));for(;r--;)e.splice(i[r],1)}return e},i.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x=i.compile=function(e,t){var i,n=[],r=[],s=B[D][e+" "];if(!s){for(t||(t=a(e)),i=t.length;i--;)s=d(t[i]),s[D]?n.push(s):r.push(s);s=B(e,p(r,n))}return s},A.querySelectorAll&&!function(){var e,t=m,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,s=[":focus"],o=[":active"],l=$.matchesSelector||$.mozMatchesSelector||$.webkitMatchesSelector||$.oMatchesSelector||$.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||s.push("\\["+q+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||s.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&s.push("[*^$]="+q+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||s.push(":enabled",":disabled")}),s=new RegExp(s.join("|")),m=function(e,i,r,o,l){if(!o&&!l&&!s.test(e)){var u,c,h=!0,d=D,p=i,f=9===i.nodeType&&e;if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){for(u=a(e),(h=i.getAttribute("id"))?d=h.replace(n,"\\$&"):i.setAttribute("id",d),d="[id='"+d+"'] ",c=u.length;c--;)u[c]=d+u[c].join("");p=nt.test(e)&&i.parentNode||i,f=u.join(",")}if(f)try{return I.apply(r,L.call(p.querySelectorAll(f),0)),r}catch(m){}finally{h||i.removeAttribute("id")}}return t(e,i,r,o,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),o.push("!=",K)}catch(i){}}),o=new RegExp(o.join("|")),i.matchesSelector=function(t,n){if(n=n.replace(r,"='$1']"),!_(t)&&!o.test(n)&&!s.test(n))try{var a=l.call(t,n);if(a||e||t.document&&11!==t.document.nodeType)return a}catch(u){}return i(n,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=g.prototype=b.pseudos,b.setFilters=new g,i.attr=G.attr,G.find=i,G.expr=i.selectors,G.expr[":"]=G.expr.pseudos,G.unique=i.uniqueSort,G.text=i.getText,G.isXMLDoc=i.isXML,G.contains=i.contains}(e);var Nt=/Until$/,Ft=/^(?:parents|prev(?:Until|All))/,It=/^.[^:#\[\.,]*$/,Lt=G.expr.match.needsContext,zt={children:!0,contents:!0,next:!0,prev:!0};G.fn.extend({find:function(e){var t,i,n,r,s,o,a=this;if("string"!=typeof e)return G(e).filter(function(){for(t=0,i=a.length;i>t;t++)if(G.contains(a[t],this))return!0});for(o=this.pushStack("","find",e),t=0,i=this.length;i>t;t++)if(n=o.length,G.find(e,this[t],o),t>0)for(r=n;r<o.length;r++)for(s=0;n>s;s++)if(o[s]===o[r]){o.splice(r--,1);break}return o},has:function(e){var t,i=G(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(G.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Lt.test(e)?G(e,this.context).index(this[0])>=0:G.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,n=0,r=this.length,s=[],o=Lt.test(e)||"string"!=typeof e?G(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(o?o.index(i)>-1:G.find.matchesSelector(i,e)){s.push(i);break}i=i.parentNode}return s=s.length>1?G.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?"string"==typeof e?G.inArray(this[0],G(e)):G.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?G(e,t):G.makeArray(e&&e.nodeType?[e]:e),n=G.merge(this.get(),i);return this.pushStack(a(i[0])||a(n[0])?n:G.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),G.fn.andSelf=G.fn.addBack,G.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return G.dir(e,"parentNode")},parentsUntil:function(e,t,i){return G.dir(e,"parentNode",i)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return G.dir(e,"nextSibling")},prevAll:function(e){return G.dir(e,"previousSibling")},nextUntil:function(e,t,i){return G.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return G.dir(e,"previousSibling",i)},siblings:function(e){return G.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return G.sibling(e.firstChild)},contents:function(e){return G.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:G.merge([],e.childNodes)}},function(e,t){G.fn[e]=function(i,n){var r=G.map(this,t,i);return Nt.test(e)||(n=i),n&&"string"==typeof n&&(r=G.filter(n,r)),r=this.length>1&&!zt[e]?G.unique(r):r,this.length>1&&Ft.test(e)&&(r=r.reverse()),this.pushStack(r,e,Y.call(arguments).join(","))}}),G.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?G.find.matchesSelector(t[0],e)?[t[0]]:[]:G.find.matches(e,t)},dir:function(e,i,n){for(var r=[],s=e[i];s&&9!==s.nodeType&&(n===t||1!==s.nodeType||!G(s).is(n));)1===s.nodeType&&r.push(s),s=s[i];return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Ot="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ht=/ jQuery\d+="(?:null|\d+)"/g,Wt=/^\s+/,Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Bt=/<([\w:]+)/,qt=/<tbody/i,Ut=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,Yt=/<(?:script|object|embed|option|style)/i,Qt=new RegExp("<(?:"+Ot+")[\\s/>]","i"),Kt=/^(?:checkbox|radio)$/,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Jt=/\/(java|ecma)script/i,Gt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ei=c(W),ti=ei.appendChild(W.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,G.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),G.fn.extend({text:function(e){return G.access(this,function(e){return e===t?G.text(this):this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(G.isFunction(e))return this.each(function(t){G(this).wrapAll(e.call(this,t))});if(this[0]){var t=G(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return G.isFunction(e)?this.each(function(t){G(this).wrapInner(e.call(this,t))}):this.each(function(){var t=G(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=G.isFunction(e);return this.each(function(i){G(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){G.nodeName(this,"body")||G(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=G.clean(arguments);return this.pushStack(G.merge(e,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=G.clean(arguments);return this.pushStack(G.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)(!e||G.filter(e,[i]).length)&&(t||1!==i.nodeType||(G.cleanData(i.getElementsByTagName("*")),G.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&G.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return G.clone(this,e,t)})},html:function(e){return G.access(this,function(e){var i=this[0]||{},n=0,r=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(Ht,""):t;if(!("string"!=typeof e||Vt.test(e)||!G.support.htmlSerialize&&Qt.test(e)||!G.support.leadingWhitespace&&Wt.test(e)||Zt[(Bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Rt,"<$1></$2>");try{for(;r>n;n++)i=this[n]||{},1===i.nodeType&&(G.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(s){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return a(this[0])?this.length?this.pushStack(G(G.isFunction(e)?e():e),"replaceWith",e):this:G.isFunction(e)?this.each(function(t){var i=G(this),n=i.html();i.replaceWith(e.call(this,t,n))}):("string"!=typeof e&&(e=G(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;G(this).remove(),t?G(t).before(e):G(i).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,n){e=[].concat.apply([],e);var r,s,o,a,l=0,u=e[0],c=[],d=this.length;if(!G.support.checkClone&&d>1&&"string"==typeof u&&Xt.test(u))return this.each(function(){G(this).domManip(e,i,n)});if(G.isFunction(u))return this.each(function(r){var s=G(this);e[0]=u.call(this,r,i?s.html():t),s.domManip(e,i,n)});if(this[0]){if(r=G.buildFragment(e,this,c),o=r.fragment,s=o.firstChild,1===o.childNodes.length&&(o=s),s)for(i=i&&G.nodeName(s,"tr"),a=r.cacheable||d-1;d>l;l++)n.call(i&&G.nodeName(this[l],"table")?h(this[l],"tbody"):this[l],l===a?o:G.clone(o,!0,!0));o=s=null,c.length&&G.each(c,function(e,t){t.src?G.ajax?G.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):G.error("no ajax"):G.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Gt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),G.buildFragment=function(e,i,n){var r,s,o,a=e[0];return i=i||W,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,!(1===e.length&&"string"==typeof a&&a.length<512&&i===W&&"<"===a.charAt(0))||Yt.test(a)||!G.support.checkClone&&Xt.test(a)||!G.support.html5Clone&&Qt.test(a)||(s=!0,r=G.fragments[a],o=r!==t),r||(r=i.createDocumentFragment(),G.clean(e,i,r,n),s&&(G.fragments[a]=o&&r)),{fragment:r,cacheable:s}},G.fragments={},G.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){G.fn[e]=function(i){var n,r=0,s=[],o=G(i),a=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return o[t](this[0]),this;for(;a>r;r++)n=(r>0?this.clone(!0):this).get(),G(o[r])[t](n),s=s.concat(n);return this.pushStack(s,e,o.selector)}}),G.extend({clone:function(e,t,i){var n,r,s,o;if(G.support.html5Clone||G.isXMLDoc(e)||!Qt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ti.innerHTML=e.outerHTML,ti.removeChild(o=ti.firstChild)),!(G.support.noCloneEvent&&G.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||G.isXMLDoc(e)))for(p(e,o),n=f(e),r=f(o),s=0;n[s];++s)r[s]&&p(n[s],r[s]);if(t&&(d(e,o),i))for(n=f(e),r=f(o),s=0;n[s];++s)d(n[s],r[s]);return n=r=null,o},clean:function(e,t,i,n){var r,s,o,a,l,u,h,d,p,f,g,v=t===W&&ei,y=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=W),r=0;null!=(o=e[r]);r++)if("number"==typeof o&&(o+=""),o){if("string"==typeof o)if(Ut.test(o)){for(v=v||c(t),h=t.createElement("div"),v.appendChild(h),o=o.replace(Rt,"<$1></$2>"),a=(Bt.exec(o)||["",""])[1].toLowerCase(),l=Zt[a]||Zt._default,u=l[0],h.innerHTML=l[1]+o+l[2];u--;)h=h.lastChild;if(!G.support.tbody)for(d=qt.test(o),p="table"!==a||d?"<table>"!==l[1]||d?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes,s=p.length-1;s>=0;--s)G.nodeName(p[s],"tbody")&&!p[s].childNodes.length&&p[s].parentNode.removeChild(p[s]);!G.support.leadingWhitespace&&Wt.test(o)&&h.insertBefore(t.createTextNode(Wt.exec(o)[0]),h.firstChild),o=h.childNodes,h.parentNode.removeChild(h)}else o=t.createTextNode(o);o.nodeType?y.push(o):G.merge(y,o)}if(h&&(o=h=v=null),!G.support.appendChecked)for(r=0;null!=(o=y[r]);r++)G.nodeName(o,"input")?m(o):"undefined"!=typeof o.getElementsByTagName&&G.grep(o.getElementsByTagName("input"),m);if(i)for(f=function(e){return!e.type||Jt.test(e.type)?n?n.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):void 0},r=0;null!=(o=y[r]);r++)G.nodeName(o,"script")&&f(o)||(i.appendChild(o),"undefined"!=typeof o.getElementsByTagName&&(g=G.grep(G.merge([],o.getElementsByTagName("script")),f),y.splice.apply(y,[r+1,0].concat(g)),r+=g.length));return y},cleanData:function(e,t){for(var i,n,r,s,o=0,a=G.expando,l=G.cache,u=G.support.deleteExpando,c=G.event.special;null!=(r=e[o]);o++)if((t||G.acceptData(r))&&(n=r[a],i=n&&l[n])){if(i.events)for(s in i.events)c[s]?G.event.remove(r,s):G.removeEvent(r,s,i.handle);l[n]&&(delete l[n],u?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,G.deletedIds.push(n))}}}),function(){var e,t;G.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=G.uaMatch(B.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),G.browser=t,G.sub=function(){function e(t,i){return new e.fn.init(t,i)}G.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,n){return n&&n instanceof G&&!(n instanceof e)&&(n=e(n)),G.fn.init.call(this,i,n,t)},e.fn.init.prototype=e.fn;var t=e(W);return e}}();var ii,ni,ri,si=/alpha\([^)]*\)/i,oi=/opacity=([^)]*)/,ai=/^(top|right|bottom|left)$/,li=/^(none|table(?!-c[ea]).+)/,ui=/^margin/,ci=new RegExp("^("+Z+")(.*)$","i"),hi=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),di=new RegExp("^([-+])=("+Z+")","i"),pi={BODY:"block"},fi={position:"absolute",visibility:"hidden",display:"block"},mi={letterSpacing:0,fontWeight:400},gi=["Top","Right","Bottom","Left"],vi=["Webkit","O","Moz","ms"],yi=G.fn.toggle;G.fn.extend({css:function(e,i){return G.access(this,function(e,i,n){return n!==t?G.style(e,i,n):G.css(e,i)},e,i,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var i="boolean"==typeof e;return G.isFunction(e)&&G.isFunction(t)?yi.apply(this,arguments):this.each(function(){(i?e:v(this))?G(this).show():G(this).hide()})}}),G.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ii(e,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":G.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,a,l=G.camelCase(i),u=e.style;if(i=G.cssProps[l]||(G.cssProps[l]=g(u,l)),a=G.cssHooks[i]||G.cssHooks[l],n===t)return a&&"get"in a&&(s=a.get(e,!1,r))!==t?s:u[i];if(o=typeof n,"string"===o&&(s=di.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(G.css(e,i)),o="number"),!(null==n||"number"===o&&isNaN(n)||("number"!==o||G.cssNumber[l]||(n+="px"),a&&"set"in a&&(n=a.set(e,n,r))===t)))try{u[i]=n}catch(c){}}},css:function(e,i,n,r){var s,o,a,l=G.camelCase(i);return i=G.cssProps[l]||(G.cssProps[l]=g(e.style,l)),a=G.cssHooks[i]||G.cssHooks[l],a&&"get"in a&&(s=a.get(e,!0,r)),s===t&&(s=ii(e,i)),"normal"===s&&i in mi&&(s=mi[i]),n||r!==t?(o=parseFloat(s),n||G.isNumeric(o)?o||0:s):s},swap:function(e,t,i){var n,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];n=i.call(e);for(r in t)e.style[r]=s[r];return n}}),e.getComputedStyle?ii=function(t,i){var n,r,s,o,a=e.getComputedStyle(t,null),l=t.style;return a&&(n=a.getPropertyValue(i)||a[i],""!==n||G.contains(t.ownerDocument,t)||(n=G.style(t,i)),hi.test(n)&&ui.test(i)&&(r=l.width,s=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=n,n=a.width,l.width=r,l.minWidth=s,l.maxWidth=o)),n}:W.documentElement.currentStyle&&(ii=function(e,t){var i,n,r=e.currentStyle&&e.currentStyle[t],s=e.style;return null==r&&s&&s[t]&&(r=s[t]),hi.test(r)&&!ai.test(t)&&(i=s.left,n=e.runtimeStyle&&e.runtimeStyle.left,n&&(e.runtimeStyle.left=e.currentStyle.left),s.left="fontSize"===t?"1em":r,r=s.pixelLeft+"px",s.left=i,n&&(e.runtimeStyle.left=n)),""===r?"auto":r}),G.each(["height","width"],function(e,t){G.cssHooks[t]={get:function(e,i,n){return i?0===e.offsetWidth&&li.test(ii(e,"display"))?G.swap(e,fi,function(){return _(e,t,n)}):_(e,t,n):void 0},set:function(e,i,n){return b(e,i,n?w(e,t,n,G.support.boxSizing&&"border-box"===G.css(e,"boxSizing")):0)}}}),G.support.opacity||(G.cssHooks.opacity={get:function(e,t){return oi.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=G.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,t>=1&&""===G.trim(s.replace(si,""))&&i.removeAttribute&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=si.test(s)?s.replace(si,r):s+" "+r)}}),G(function(){G.support.reliableMarginRight||(G.cssHooks.marginRight={get:function(e,t){return G.swap(e,{display:"inline-block"},function(){return t?ii(e,"marginRight"):void 0})}}),!G.support.pixelPosition&&G.fn.position&&G.each(["top","left"],function(e,t){G.cssHooks[t]={get:function(e,i){if(i){var n=ii(e,t);return hi.test(n)?G(e).position()[t]+"px":n}}}})}),G.expr&&G.expr.filters&&(G.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!G.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ii(e,"display"))},G.expr.filters.visible=function(e){return!G.expr.filters.hidden(e)}),G.each({margin:"",padding:"",border:"Width"},function(e,t){G.cssHooks[e+t]={expand:function(i){var n,r="string"==typeof i?i.split(" "):[i],s={};for(n=0;4>n;n++)s[e+gi[n]+t]=r[n]||r[n-2]||r[0];return s}},ui.test(e)||(G.cssHooks[e+t].set=b)});var bi=/%20/g,wi=/\[\]$/,_i=/\r?\n/g,ki=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,xi=/^(?:select|textarea)/i;G.fn.extend({serialize:function(){return G.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?G.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||xi.test(this.nodeName)||ki.test(this.type))}).map(function(e,t){var i=G(this).val();return null==i?null:G.isArray(i)?G.map(i,function(e){return{name:t.name,value:e.replace(_i,"\r\n")}}):{name:t.name,value:i.replace(_i,"\r\n")}}).get()}}),G.param=function(e,i){var n,r=[],s=function(e,t){t=G.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)
};if(i===t&&(i=G.ajaxSettings&&G.ajaxSettings.traditional),G.isArray(e)||e.jquery&&!G.isPlainObject(e))G.each(e,function(){s(this.name,this.value)});else for(n in e)x(n,e[n],i,s);return r.join("&").replace(bi,"+")};var Ci,Ti,Si=/#.*$/,Mi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ei=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Di=/^(?:GET|HEAD)$/,ji=/^\/\//,Ai=/\?/,$i=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Pi=/([?&])_=[^&]*/,Ni=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Fi=G.fn.load,Ii={},Li={},zi=["*/"]+["*"];try{Ti=R.href}catch(Oi){Ti=W.createElement("a"),Ti.href="",Ti=Ti.href}Ci=Ni.exec(Ti.toLowerCase())||[],G.fn.load=function(e,i,n){if("string"!=typeof e&&Fi)return Fi.apply(this,arguments);if(!this.length)return this;var r,s,o,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),G.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(s="POST"),G.ajax({url:e,type:s,dataType:"html",data:i,complete:function(e,t){n&&a.each(n,o||[e.responseText,t,e])}}).done(function(e){o=arguments,a.html(r?G("<div>").append(e.replace($i,"")).find(r):e)}),this},G.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){G.fn[t]=function(e){return this.on(t,e)}}),G.each(["get","post"],function(e,i){G[i]=function(e,n,r,s){return G.isFunction(n)&&(s=s||r,r=n,n=t),G.ajax({type:i,url:e,data:n,success:r,dataType:s})}}),G.extend({getScript:function(e,i){return G.get(e,t,i,"script")},getJSON:function(e,t,i){return G.get(e,t,i,"json")},ajaxSetup:function(e,t){return t?S(e,G.ajaxSettings):(t=e,e=G.ajaxSettings),S(e,t),e},ajaxSettings:{url:Ti,isLocal:Ei.test(Ci[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":zi},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":G.parseJSON,"text xml":G.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(Ii),ajaxTransport:C(Li),ajax:function(e,i){function n(e,i,n,o){var u,h,y,b,_,x=i;2!==w&&(w=2,l&&clearTimeout(l),a=t,s=o||"",k.readyState=e>0?4:0,n&&(b=M(d,k,n)),e>=200&&300>e||304===e?(d.ifModified&&(_=k.getResponseHeader("Last-Modified"),_&&(G.lastModified[r]=_),_=k.getResponseHeader("Etag"),_&&(G.etag[r]=_)),304===e?(x="notmodified",u=!0):(u=E(d,b),x=u.state,h=u.data,y=u.error,u=!y)):(y=x,(!x||e)&&(x="error",0>e&&(e=0))),k.status=e,k.statusText=(i||x)+"",u?m.resolveWith(p,[h,x,k]):m.rejectWith(p,[k,x,y]),k.statusCode(v),v=t,c&&f.trigger("ajax"+(u?"Success":"Error"),[k,d,u?h:y]),g.fireWith(p,[k,x]),c&&(f.trigger("ajaxComplete",[k,d]),--G.active||G.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var r,s,o,a,l,u,c,h,d=G.ajaxSetup({},i),p=d.context||d,f=p!==d&&(p.nodeType||p instanceof G)?G(p):G.event,m=G.Deferred(),g=G.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,_="canceled",k={readyState:0,setRequestHeader:function(e,t){if(!w){var i=e.toLowerCase();e=b[i]=b[i]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===w?s:null},getResponseHeader:function(e){var i;if(2===w){if(!o)for(o={};i=Mi.exec(s);)o[i[1].toLowerCase()]=i[2];i=o[e.toLowerCase()]}return i===t?null:i},overrideMimeType:function(e){return w||(d.mimeType=e),this},abort:function(e){return e=e||_,a&&a.abort(e),n(0,e),this}};if(m.promise(k),k.success=k.done,k.error=k.fail,k.complete=g.add,k.statusCode=function(e){if(e){var t;if(2>w)for(t in e)v[t]=[v[t],e[t]];else t=e[k.status],k.always(t)}return this},d.url=((e||d.url)+"").replace(Si,"").replace(ji,Ci[1]+"//"),d.dataTypes=G.trim(d.dataType||"*").toLowerCase().split(tt),null==d.crossDomain&&(u=Ni.exec(d.url.toLowerCase()),d.crossDomain=!(!u||u[1]===Ci[1]&&u[2]===Ci[2]&&(u[3]||("http:"===u[1]?80:443))==(Ci[3]||("http:"===Ci[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=G.param(d.data,d.traditional)),T(Ii,d,i,k),2===w)return k;if(c=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Di.test(d.type),c&&0===G.active++&&G.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(Ai.test(d.url)?"&":"?")+d.data,delete d.data),r=d.url,d.cache===!1)){var x=G.now(),C=d.url.replace(Pi,"$1_="+x);d.url=C+(C===d.url?(Ai.test(d.url)?"&":"?")+"_="+x:"")}(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&k.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(r=r||d.url,G.lastModified[r]&&k.setRequestHeader("If-Modified-Since",G.lastModified[r]),G.etag[r]&&k.setRequestHeader("If-None-Match",G.etag[r])),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+zi+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)k.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,k,d)===!1||2===w))return k.abort();_="abort";for(h in{success:1,error:1,complete:1})k[h](d[h]);if(a=T(Li,d,i,k)){k.readyState=1,c&&f.trigger("ajaxSend",[k,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},d.timeout));try{w=1,a.send(y,n)}catch(S){if(!(2>w))throw S;n(-1,S)}}else n(-1,"No Transport");return k},active:0,lastModified:{},etag:{}});var Hi=[],Wi=/\?/,Ri=/(=)\?(?=&|$)|\?\?/,Bi=G.now();G.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Hi.pop()||G.expando+"_"+Bi++;return this[e]=!0,e}}),G.ajaxPrefilter("json jsonp",function(i,n,r){var s,o,a,l=i.data,u=i.url,c=i.jsonp!==!1,h=c&&Ri.test(u),d=c&&!h&&"string"==typeof l&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ri.test(l);return"jsonp"===i.dataTypes[0]||h||d?(s=i.jsonpCallback=G.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,o=e[s],h?i.url=u.replace(Ri,"$1"+s):d?i.data=l.replace(Ri,"$1"+s):c&&(i.url+=(Wi.test(u)?"&":"?")+i.jsonp+"="+s),i.converters["script json"]=function(){return a||G.error(s+" was not called"),a[0]},i.dataTypes[0]="json",e[s]=function(){a=arguments},r.always(function(){e[s]=o,i[s]&&(i.jsonpCallback=n.jsonpCallback,Hi.push(s)),a&&G.isFunction(o)&&o(a[0]),a=o=t}),"script"):void 0}),G.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return G.globalEval(e),e}}}),G.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),G.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=W.head||W.getElementsByTagName("head")[0]||W.documentElement;return{send:function(r,s){i=W.createElement("script"),i.async="async",e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,r){(r||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=t,r||s(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var qi,Ui=e.ActiveXObject?function(){for(var e in qi)qi[e](0,1)}:!1,Vi=0;G.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&D()||j()}:D,function(e){G.extend(G.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(G.ajaxSettings.xhr()),G.support.ajax&&G.ajaxTransport(function(i){if(!i.crossDomain||G.support.cors){var n;return{send:function(r,s){var o,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(u){}l.send(i.hasContent&&i.data||null),n=function(e,r){var a,u,c,h,d;try{if(n&&(r||4===l.readyState))if(n=t,o&&(l.onreadystatechange=G.noop,Ui&&delete qi[o]),r)4!==l.readyState&&l.abort();else{a=l.status,c=l.getAllResponseHeaders(),h={},d=l.responseXML,d&&d.documentElement&&(h.xml=d);try{h.text=l.responseText}catch(p){}try{u=l.statusText}catch(p){u=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(f){r||s(-1,f)}h&&s(a,u,h,c)},i.async?4===l.readyState?setTimeout(n,0):(o=++Vi,Ui&&(qi||(qi={},G(e).unload(Ui)),qi[o]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var Yi,Qi,Ki=/^(?:toggle|show|hide)$/,Xi=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Ji=/queueHooks$/,Gi=[F],Zi={"*":[function(e,t){var i,n,r=this.createTween(e,t),s=Xi.exec(t),o=r.cur(),a=+o||0,l=1,u=20;if(s){if(i=+s[2],n=s[3]||(G.cssNumber[e]?"":"px"),"px"!==n&&a){a=G.css(r.elem,e,!0)||i||1;do l=l||".5",a/=l,G.style(r.elem,e,a+n);while(l!==(l=r.cur()/o)&&1!==l&&--u)}r.unit=n,r.start=a,r.end=s[1]?a+(s[1]+1)*i:i}return r}]};G.Animation=G.extend(P,{tweener:function(e,t){G.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;r>n;n++)i=e[n],Zi[i]=Zi[i]||[],Zi[i].unshift(t)},prefilter:function(e,t){t?Gi.unshift(e):Gi.push(e)}}),G.Tween=I,I.prototype={constructor:I,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(G.cssNumber[i]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,i=I.propHooks[this.prop];return this.pos=t=this.options.duration?G.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=G.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){G.fx.step[e.prop]?G.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[G.cssProps[e.prop]]||G.cssHooks[e.prop])?G.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},G.each(["toggle","show","hide"],function(e,t){var i=G.fn[t];G.fn[t]=function(n,r,s){return null==n||"boolean"==typeof n||!e&&G.isFunction(n)&&G.isFunction(r)?i.apply(this,arguments):this.animate(L(t,!0),n,r,s)}}),G.fn.extend({fadeTo:function(e,t,i,n){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=G.isEmptyObject(e),s=G.speed(t,i,n),o=function(){var t=P(this,G.extend({},e),s);r&&t.stop(!0)};return r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,i,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=G.timers,o=G._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&Ji.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&G.dequeue(this,e)})}}),G.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){G.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),G.speed=function(e,t,i){var n=e&&"object"==typeof e?G.extend({},e):{complete:i||!i&&t||G.isFunction(e)&&e,duration:e,easing:i&&t||t&&!G.isFunction(t)&&t};return n.duration=G.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in G.fx.speeds?G.fx.speeds[n.duration]:G.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){G.isFunction(n.old)&&n.old.call(this),n.queue&&G.dequeue(this,n.queue)},n},G.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},G.timers=[],G.fx=I.prototype.init,G.fx.tick=function(){var e,i=G.timers,n=0;for(Yi=G.now();n<i.length;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||G.fx.stop(),Yi=t},G.fx.timer=function(e){e()&&G.timers.push(e)&&!Qi&&(Qi=setInterval(G.fx.tick,G.fx.interval))},G.fx.interval=13,G.fx.stop=function(){clearInterval(Qi),Qi=null},G.fx.speeds={slow:600,fast:200,_default:400},G.fx.step={},G.expr&&G.expr.filters&&(G.expr.filters.animated=function(e){return G.grep(G.timers,function(t){return e===t.elem}).length});var en=/^(?:body|html)$/i;G.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){G.offset.setOffset(this,e,t)});var i,n,r,s,o,a,l,u={top:0,left:0},c=this[0],h=c&&c.ownerDocument;if(h)return(n=h.body)===c?G.offset.bodyOffset(c):(i=h.documentElement,G.contains(i,c)?("undefined"!=typeof c.getBoundingClientRect&&(u=c.getBoundingClientRect()),r=z(h),s=i.clientTop||n.clientTop||0,o=i.clientLeft||n.clientLeft||0,a=r.pageYOffset||i.scrollTop,l=r.pageXOffset||i.scrollLeft,{top:u.top+a-s,left:u.left+l-o}):u)},G.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return G.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(G.css(e,"marginTop"))||0,i+=parseFloat(G.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var n=G.css(e,"position");"static"===n&&(e.style.position="relative");var r,s,o=G(e),a=o.offset(),l=G.css(e,"top"),u=G.css(e,"left"),c=("absolute"===n||"fixed"===n)&&G.inArray("auto",[l,u])>-1,h={},d={};c?(d=o.position(),r=d.top,s=d.left):(r=parseFloat(l)||0,s=parseFloat(u)||0),G.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(h.top=t.top-a.top+r),null!=t.left&&(h.left=t.left-a.left+s),"using"in t?t.using.call(e,h):o.css(h)}},G.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),n=en.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(G.css(e,"marginTop"))||0,i.left-=parseFloat(G.css(e,"marginLeft"))||0,n.top+=parseFloat(G.css(t[0],"borderTopWidth"))||0,n.left+=parseFloat(G.css(t[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||W.body;e&&!en.test(e.nodeName)&&"static"===G.css(e,"position");)e=e.offsetParent;return e||W.body})}}),G.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);G.fn[e]=function(r){return G.access(this,function(e,r,s){var o=z(e);return s===t?o?i in o?o[i]:o.document.documentElement[r]:e[r]:(o?o.scrollTo(n?G(o).scrollLeft():s,n?s:G(o).scrollTop()):e[r]=s,void 0)},e,r,arguments.length,null)}}),G.each({Height:"height",Width:"width"},function(e,i){G.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,r){G.fn[r]=function(r,s){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||s===!0?"margin":"border");return G.access(this,function(i,n,r){var s;return G.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(s=i.documentElement,Math.max(i.body["scroll"+e],s["scroll"+e],i.body["offset"+e],s["offset"+e],s["client"+e])):r===t?G.css(i,n,r,a):G.style(i,n,r,a)},i,o?r:t,o,null)}})}),e.jQuery=e.$=G,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return G})}(window),function(e,t){var i=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};i()&&e.error("jquery-ujs has already been loaded!");var n;e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},fire:function(t,i,n){var r=e.Event(i);return t.trigger(r,n),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var r,s,o,a,l,u,c,h;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===t?null:a,u=i.data("with-credentials")||null,c=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),s=i.attr("action"),o=i.serializeArray();var d=i.data("ujs:submit-button");d&&(o.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),s=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):(r=i.data("method"),s=n.href(i),o=i.data("params")||null);h={type:r||"GET",data:o,dataType:c,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},xhrFields:{withCredentials:u},crossDomain:l},s&&(h.url=s);var p=n.ajax(h);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var r=n.href(i),s=i.data("method"),o=i.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),u=e('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+s+'" type="hidden" />';l!==t&&a!==t&&(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),o&&u.attr("target",o),u.hide().append(c).appendTo("body"),u.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with",t[i]()),t[i](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[i](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,i,n){var r,s,o=e(),a=i||"input,textarea",l=t.find(a);return l.each(function(){if(r=e(this),s=r.is(":checkbox,:radio")?r.is(":checked"):r.val(),!s==!n){if(r.is(":radio")&&l.filter('input:radio:checked[name="'+r.attr("name")+'"]').length)return!0;o=o.add(r)}}),o.length?o:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,n){var r=i.data("events"),s=!0;return r!==t&&r.submit!==t&&e.each(r.submit,function(e,t){return"function"==typeof t.handler?s=t.handler(n):void 0}),s},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},n.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),e(document).delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),s=r.data("method"),o=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(!(!i.metaKey&&!i.ctrlKey||s&&"GET"!==s||o))return!0;var a=n.handleRemote(r);return a===!1?n.enableElement(r):a.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),e(document).delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),e(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var r=e(this),s=r.data("remote")!==t,o=n.blankInputs(r,n.requiredInputSelector),a=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(o&&r.attr("novalidate")==t&&n.fire(r,"ajax:aborted:required",[o]))return n.stopEverything(i);if(s){if(a){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return!e.support.submitBubbles&&e().jquery<"1.7"&&n.callFormSubmitBindings(r,i)===!1?n.stopEverything(i):(n.handleRemote(r),!1)}setTimeout(function(){n.disableFormElements(r)},13)}),e(document).delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),s=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",s)}),e(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),e(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),/*! jQuery UI - v1.9.2 - 2012-12-06
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.menu.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
function(e,t){function i(t,i){var r,s,o,a=t.nodeName.toLowerCase();return"area"===a?(r=t.parentNode,s=r.name,t.href&&s&&"map"===r.nodeName.toLowerCase()?(o=e("img[usemap=#"+s+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var n=this;setTimeout(function(){e(n).focus(),i&&i.call(n)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,r,s=e(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(s.css("zIndex"),10),!isNaN(r)&&0!==r))return r;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e(function(){var t=document.body,i=t.appendChild(i=document.createElement("div"));i.offsetHeight,e.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===i.offsetHeight,e.support.selectstart="onselectstart"in i,t.removeChild(i).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function r(t,i,n,r){return e.each(s,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var s="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(o,r(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(o,r(this,t,!0,i)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var r,s=e.ui[t].prototype;for(r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([i,n[r]])},call:function(e,t,i){var n,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<r.length;n++)e.options[r[n][0]]&&r[n][1].apply(e.element,i)}},contains:e.contains,hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return t[n]>0?!0:(t[n]=1,r=t[n]>0,t[n]=0,r)},isOverAxis:function(e,t,i){return e>t&&t+i>e},isOver:function(t,i,n,r,s,o){return e.ui.isOverAxis(t,n,s)&&e.ui.isOverAxis(i,r,o)}}))}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(s){}r(t)},e.widget=function(t,i,n){var r,s,o,a,l=t.split(".")[0];t=t.split(".")[1],r=l+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[l]=e[l]||{},s=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,r){e.isFunction(r)&&(n[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=n,t=r.apply(this,arguments),this._super=i,this._superApply=s,t}}())}),o.prototype=e.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix:t},n,{constructor:o,namespace:l,widgetName:t,widgetBaseClass:r,widgetFullName:r}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete s._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(i){for(var r,s,o=n.call(arguments,1),a=0,l=o.length;l>a;a++)for(r in o[a])s=o[a][r],o[a].hasOwnProperty(r)&&s!==t&&(i[r]=e.isPlainObject(s)?e.isPlainObject(i[r])?e.widget.extend({},i[r],s):e.widget.extend({},s):s);return i},e.widget.bridge=function(i,r){var s=r.prototype.widgetFullName||i;e.fn[i]=function(o){var a="string"==typeof o,l=n.call(arguments,1),u=this;return o=!a&&l.length?e.widget.extend.apply(null,[o].concat(l)):o,a?this.each(function(){var n,r=e.data(this,s);return r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,l),n!==r&&n!==t?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+o+"'")}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new r(o,this))}),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetName,this),e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var r,s,o,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},r=i.split("."),i=r.shift(),r.length){for(s=a[i]=e.widget.extend({},this.options[i]),o=0;o<r.length-1;o++)s[r[o]]=s[r[o]]||{},s=s[r[o]];if(i=r.pop(),n===t)return s[i]===t?null:s[i];s[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var r,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(n,o){function a(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+s.eventNamespace,c=l[2];c?r.delegate(c,u,a):i.bind(u,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var r,s,o=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(r in s)r in i||(i[r]=s[r]);return this.element.trigger(i,n),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?r===!0||"number"==typeof r?i:r.effect||i:t;r=r||{},"number"==typeof r&&(r={duration:r}),o=!e.isEmptyObject(r),r.complete=s,r.delay&&n.delay(r.delay),o&&e.effects&&(e.effects.effect[a]||e.uiBackCompat!==!1&&e.effects[a])?n[t](r):a!==t&&n[a]?n[a](r.duration,r.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e,t){function i(e,t,i){return[parseInt(e[0],10)*(d.test(e[0])?t/100:1),parseInt(e[1],10)*(d.test(e[1])?i/100:1)]}function n(t,i){return parseInt(e.css(t,i),10)||0}e.ui=e.ui||{};var r,s=Math.max,o=Math.abs,a=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+%?/,h=/^\w+/,d=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(r!==t)return r;var i,n,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),i=o.offsetWidth,s.css("overflow","scroll"),n=o.offsetWidth,i===n&&(n=s[0].clientWidth),s.remove(),r=i-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,s="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var r,d,f,m,g,v=e(t.of),y=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(y),w=v[0],_=(t.collision||"flip").split(" "),k={};return 9===w.nodeType?(d=v.width(),f=v.height(),m={top:0,left:0}):e.isWindow(w)?(d=v.width(),f=v.height(),m={top:v.scrollTop(),left:v.scrollLeft()}):w.preventDefault?(t.at="left top",d=f=0,m={top:w.pageY,left:w.pageX}):(d=v.outerWidth(),f=v.outerHeight(),m=v.offset()),g=e.extend({},m),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=l.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=l.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",e=c.exec(n[0]),i=c.exec(n[1]),k[this]=[e?e[0]:0,i?i[0]:0],t[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===t.at[0]?g.left+=d:"center"===t.at[0]&&(g.left+=d/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),r=i(k.at,d,f),g.left+=r[0],g.top+=r[1],this.each(function(){var l,u,c=e(this),h=c.outerWidth(),p=c.outerHeight(),w=n(this,"marginLeft"),x=n(this,"marginTop"),C=h+w+n(this,"marginRight")+b.width,T=p+x+n(this,"marginBottom")+b.height,S=e.extend({},g),M=i(k.my,c.outerWidth(),c.outerHeight());"right"===t.my[0]?S.left-=h:"center"===t.my[0]&&(S.left-=h/2),"bottom"===t.my[1]?S.top-=p:"center"===t.my[1]&&(S.top-=p/2),S.left+=M[0],S.top+=M[1],e.support.offsetFractions||(S.left=a(S.left),S.top=a(S.top)),l={marginLeft:w,marginTop:x},e.each(["left","top"],function(i,n){e.ui.position[_[i]]&&e.ui.position[_[i]][n](S,{targetWidth:d,targetHeight:f,elemWidth:h,elemHeight:p,collisionPosition:l,collisionWidth:C,collisionHeight:T,offset:[r[0]+M[0],r[1]+M[1]],my:t.my,at:t.at,within:y,elem:c})}),e.fn.bgiframe&&c.bgiframe(),t.using&&(u=function(e){var i=m.left-S.left,n=i+d-h,r=m.top-S.top,a=r+f-p,l={target:{element:v,left:m.left,top:m.top,width:d,height:f},element:{element:c,left:S.left,top:S.top,width:h,height:p},horizontal:0>n?"left":i>0?"right":"center",vertical:0>a?"top":r>0?"bottom":"middle"};h>d&&o(i+n)<d&&(l.horizontal="center"),p>f&&o(r+a)<f&&(l.vertical="middle"),l.important=s(o(i),o(n))>s(o(r),o(a))?"horizontal":"vertical",t.using.call(this,e,l)}),c.offset(e.extend(S,{using:u}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,u=a+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&0>=u?(i=e.left+l+t.collisionWidth-o-r,e.left+=l-i):e.left=u>0&&0>=l?r:l>u?r+o-t.collisionWidth:r:l>0?e.left+=l:u>0?e.left-=u:e.left=s(e.left-a,e.left)},top:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,u=a+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&0>=u?(i=e.top+l+t.collisionHeight-o-r,e.top+=l-i):e.top=u>0&&0>=l?r:l>u?r+o-t.collisionHeight:r:l>0?e.top+=l:u>0?e.top-=u:e.top=s(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,r=t.within,s=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,h=u+t.collisionWidth-a-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>c?(i=e.left+d+p+f+t.collisionWidth-a-s,(0>i||i<o(c))&&(e.left+=d+p+f)):h>0&&(n=e.left-t.collisionPosition.marginLeft+d+p+f-l,(n>0||o(n)<h)&&(e.left+=d+p+f))},top:function(e,t){var i,n,r=t.within,s=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,h=u+t.collisionHeight-a-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>c?(n=e.top+p+f+m+t.collisionHeight-a-s,e.top+p+f+m>c&&(0>n||n<o(c))&&(e.top+=p+f+m)):h>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>h&&(i>0||o(i)<h)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,r,s,o=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)t.style[s]=n[s];t.appendChild(a),i=o||document.documentElement,i.insertBefore(t,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=e(a).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",i.removeChild(t)}(),e.uiBackCompat!==!1&&!function(e){var i=e.fn.position;e.fn.position=function(n){if(!n||!n.offset)return i.call(this,n);var r=n.offset.split(" "),s=n.at.split(" ");return 1===r.length&&(r[1]=r[0]),/^\d/.test(r[0])&&(r[0]="+"+r[0]),/^\d/.test(r[1])&&(r[1]="+"+r[1]),1===s.length&&(/left|center|right/.test(s[0])?s[1]="center":(s[1]=s[0],s[0]="center")),i.call(this,e.extend(n,{at:s[0]+r[0]+" "+s[1]+r[1],offset:t}))}}(jQuery)}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,n;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,n=!0,i=!0,void 0;t=!1,n=!1,i=!1;var s=e.ui.keyCode;switch(r.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",r);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case s.UP:t=!0,this._keyEvent("previous",r);break;case s.DOWN:t=!0,this._keyEvent("next",r);break;case s.ENTER:case s.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case s.TAB:this.menu.active&&this.menu.select(r);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(t)return t=!1,n.preventDefault(),void 0;if(!i){var r=e.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0;var n=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,r){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,i=++t;return function(n){i===t&&e.__response(n),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(i){var n=e(i.target).closest(".ui-menu-item");!t&&n.not(".ui-state-disabled").length&&(t=!0,this.select(i),n.has(".ui-menu").length?this.expand(i):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(i){e(i.target).closest(".ui-menu").length||this.collapseAll(i),t=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,s,o,a,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,r=this.previousFilter||"",s=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),s===r?o=!0:s=r+s,a=new RegExp("^"+i(s),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(s=String.fromCharCode(t.keyCode),a=new RegExp("^"+i(s),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",n.attr("id"))}),t=n.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,r,s,o,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=t.height(),0>r?this.activeMenu.scrollTop(s+r):r+a>o&&this.activeMenu.scrollTop(s+r-o+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length
},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,r;return this.active?(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-r<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,n,r;return this.active?(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+r>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(){var e=this,t=e._,i={},n=Array.prototype,r=Object.prototype,s=Function.prototype,o=n.push,a=n.slice,l=n.concat,u=r.toString,c=r.hasOwnProperty,h=n.forEach,d=n.map,p=n.reduce,f=n.reduceRight,m=n.filter,g=n.every,v=n.some,y=n.indexOf,b=n.lastIndexOf,w=Array.isArray,_=Object.keys,k=s.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var C=x.each=x.forEach=function(e,t,n){if(null!=e)if(h&&e.forEach===h)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,s=e.length;s>r;r++)if(t.call(n,e[r],r,e)===i)return}else for(var o in e)if(x.has(e,o)&&t.call(n,e[o],o,e)===i)return};x.map=x.collect=function(e,t,i){var n=[];return null==e?n:d&&e.map===d?e.map(t,i):(C(e,function(e,r,s){n[n.length]=t.call(i,e,r,s)}),n)};var T="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,i,n){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return n&&(t=x.bind(t,n)),r?e.reduce(t,i):e.reduce(t);if(C(e,function(e,s,o){r?i=t.call(n,i,e,s,o):(i=e,r=!0)}),!r)throw new TypeError(T);return i},x.reduceRight=x.foldr=function(e,t,i,n){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return n&&(t=x.bind(t,n)),r?e.reduceRight(t,i):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}if(C(e,function(a,l,u){l=o?o[--s]:--s,r?i=t.call(n,i,e[l],l,u):(i=e[l],r=!0)}),!r)throw new TypeError(T);return i},x.find=x.detect=function(e,t,i){var n;return S(e,function(e,r,s){return t.call(i,e,r,s)?(n=e,!0):void 0}),n},x.filter=x.select=function(e,t,i){var n=[];return null==e?n:m&&e.filter===m?e.filter(t,i):(C(e,function(e,r,s){t.call(i,e,r,s)&&(n[n.length]=e)}),n)},x.reject=function(e,t,i){return x.filter(e,function(e,n,r){return!t.call(i,e,n,r)},i)},x.every=x.all=function(e,t,n){t||(t=x.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,n):(C(e,function(e,s,o){return(r=r&&t.call(n,e,s,o))?void 0:i}),!!r)};var S=x.some=x.any=function(e,t,n){t||(t=x.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,n):(C(e,function(e,s,o){return r||(r=t.call(n,e,s,o))?i:void 0}),!!r)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):S(e,function(e){return e===t})},x.invoke=function(e,t){var i=a.call(arguments,2),n=x.isFunction(t);return x.map(e,function(e){return(n?t:e[t]).apply(e,i)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,i){return x.isEmpty(t)?i?null:[]:x[i?"find":"filter"](e,function(e){for(var i in t)if(t[i]!==e[i])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var n={computed:-1/0,value:-1/0};return C(e,function(e,r,s){var o=t?t.call(i,e,r,s):e;o>=n.computed&&(n={value:e,computed:o})}),n.value},x.min=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var n={computed:1/0,value:1/0};return C(e,function(e,r,s){var o=t?t.call(i,e,r,s):e;n.computed>o&&(n={value:e,computed:o})}),n.value},x.shuffle=function(e){var t,i=0,n=[];return C(e,function(e){t=x.random(i++),n[i-1]=n[t],n[t]=e}),n};var M=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,i){var n=M(t);return x.pluck(x.map(e,function(e,t,r){return{value:e,index:t,criteria:n.call(i,e,t,r)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index<t.index?-1:1}),"value")};var E=function(e,t,i,n){var r={},s=M(t||x.identity);return C(e,function(t,o){var a=s.call(i,t,o,e);n(r,a,t)}),r};x.groupBy=function(e,t,i){return E(e,t,i,function(e,t,i){(x.has(e,t)?e[t]:e[t]=[]).push(i)})},x.countBy=function(e,t,i){return E(e,t,i,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,i,n){i=null==i?x.identity:M(i);for(var r=i.call(n,t),s=0,o=e.length;o>s;){var a=s+o>>>1;r>i.call(n,e[a])?s=a+1:o=a}return s},x.toArray=function(e){return e?x.isArray(e)?a.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:a.call(e,0,t)},x.initial=function(e,t,i){return a.call(e,0,e.length-(null==t||i?1:t))},x.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,i){return a.call(e,null==t||i?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var D=function(e,t,i){return C(e,function(e){x.isArray(e)?t?o.apply(i,e):D(e,t,i):i.push(e)}),i};x.flatten=function(e,t){return D(e,t,[])},x.without=function(e){return x.difference(e,a.call(arguments,1))},x.uniq=x.unique=function(e,t,i,n){x.isFunction(t)&&(n=i,i=t,t=!1);var r=i?x.map(e,i,n):e,s=[],o=[];return C(r,function(i,n){(t?n&&o[o.length-1]===i:x.contains(o,i))||(o.push(i),s.push(e[n]))}),s},x.union=function(){return x.uniq(l.apply(n,arguments))},x.intersection=function(e){var t=a.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=l.apply(n,a.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=a.call(arguments),t=x.max(x.pluck(e,"length")),i=Array(t),n=0;t>n;n++)i[n]=x.pluck(e,""+n);return i},x.object=function(e,t){if(null==e)return{};for(var i={},n=0,r=e.length;r>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},x.indexOf=function(e,t,i){if(null==e)return-1;var n=0,r=e.length;if(i){if("number"!=typeof i)return n=x.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,r+i):i}if(y&&e.indexOf===y)return e.indexOf(t,i);for(;r>n;n++)if(e[n]===t)return n;return-1},x.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(b&&e.lastIndexOf===b)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var r=n?i:e.length;r--;)if(e[r]===t)return r;return-1},x.range=function(e,t,i){1>=arguments.length&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),r=0,s=Array(n);n>r;)s[r++]=e,e+=i;return s},x.bind=function(e,t){if(e.bind===k&&k)return k.apply(e,a.call(arguments,1));var i=a.call(arguments,2);return function(){return e.apply(t,i.concat(a.call(arguments)))}},x.partial=function(e){var t=a.call(arguments,1);return function(){return e.apply(this,t.concat(a.call(arguments)))}},x.bindAll=function(e){var t=a.call(arguments,1);return 0===t.length&&(t=x.functions(e)),C(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var i={};return t||(t=x.identity),function(){var n=t.apply(this,arguments);return x.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},x.delay=function(e,t){var i=a.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(a.call(arguments,1)))},x.throttle=function(e,t){var i,n,r,s,o=0,a=function(){o=new Date,r=null,s=e.apply(i,n)};return function(){var l=new Date,u=t-(l-o);return i=this,n=arguments,0>=u?(clearTimeout(r),r=null,o=l,s=e.apply(i,n)):r||(r=setTimeout(a,u)),s}},x.debounce=function(e,t,i){var n,r;return function(){var s=this,o=arguments,a=function(){n=null,i||(r=e.apply(s,o))},l=i&&!n;return clearTimeout(n),n=setTimeout(a,t),l&&(r=e.apply(s,o)),r}},x.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var i=[e];return o.apply(i,arguments),t.apply(this,i)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)x.has(e,i)&&(t[t.length]=i);return t},x.values=function(e){var t=[];for(var i in e)x.has(e,i)&&t.push(e[i]);return t},x.pairs=function(e){var t=[];for(var i in e)x.has(e,i)&&t.push([i,e[i]]);return t},x.invert=function(e){var t={};for(var i in e)x.has(e,i)&&(t[e[i]]=i);return t},x.functions=x.methods=function(e){var t=[];for(var i in e)x.isFunction(e[i])&&t.push(i);return t.sort()},x.extend=function(e){return C(a.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},x.pick=function(e){var t={},i=l.apply(n,a.call(arguments,1));return C(i,function(i){i in e&&(t[i]=e[i])}),t},x.omit=function(e){var t={},i=l.apply(n,a.call(arguments,1));for(var r in e)x.contains(i,r)||(t[r]=e[r]);return t},x.defaults=function(e){return C(a.call(arguments,1),function(t){if(t)for(var i in t)null==e[i]&&(e[i]=t[i])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var j=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var r=u.call(e);if(r!=u.call(t))return!1;switch(r){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=i.length;s--;)if(i[s]==e)return n[s]==t;i.push(e),n.push(t);var o=0,a=!0;if("[object Array]"==r){if(o=e.length,a=o==t.length)for(;o--&&(a=j(e[o],t[o],i,n)););}else{var l=e.constructor,c=t.constructor;if(l!==c&&!(x.isFunction(l)&&l instanceof l&&x.isFunction(c)&&c instanceof c))return!1;for(var h in e)if(x.has(e,h)&&(o++,!(a=x.has(t,h)&&j(e[h],t[h],i,n))))break;if(a){for(h in t)if(x.has(t,h)&&!o--)break;a=!o}}return i.pop(),n.pop(),a};x.isEqual=function(e,t){return j(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=w||function(e){return"[object Array]"==u.call(e)},x.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return c.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,i){for(var n=Array(e),r=0;e>r;r++)n[r]=t.call(i,r);return n},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};A.unescape=x.invert(A.escape);var $={escape:RegExp("["+x.keys(A.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(A.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace($[e],function(t){return A[e][t]})}}),x.result=function(e,t){if(null==e)return null;var i=e[t];return x.isFunction(i)?i.call(e):i},x.mixin=function(e){C(x.functions(e),function(t){var i=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),L.call(this,i.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,i){var n;i=x.defaults({},i,x.templateSettings);var r=RegExp([(i.escape||N).source,(i.interpolate||N).source,(i.evaluate||N).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(r,function(t,i,n,r,a){return o+=e.slice(s,a).replace(I,function(e){return"\\"+F[e]}),i&&(o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),s=a+t.length,t}),o+="';\n",i.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=Function(i.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(t)return n(t,x);var l=function(e){return n.call(this,e,x)};return l.source="function("+(i.variable||"obj")+"){\n"+o+"}",l},x.chain=function(e){return x(e).chain()};var L=function(e){return this._chain?x(e).chain():e};x.mixin(x),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];x.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],L.call(this,i)}}),C(["concat","join","slice"],function(e){var t=n[e];x.prototype[e]=function(){return L.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),/*

Uniform v1.7.5
Copyright © 2009 Josh Pyles / Pixelmatrix Design LLC
http://pixelmatrixdesign.com

Requires jQuery 1.4 or newer

Much thanks to Thomas Reynolds and Buck Wilson for their help and advice on this

Disabling text selection is made possible by Mathias Bynens <http://mathiasbynens.be/>
and his noSelect plugin. <http://github.com/mathiasbynens/noSelect-jQuery-Plugin>

Also, thanks to David Kaneda and Eugene Bond for their contributions to the plugin

License:
MIT License - http://www.opensource.org/licenses/mit-license.php

Enjoy!

*/
function(e){e.uniform={options:{selectClass:"form-element",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose file",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"form-button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"form-element",resetSelector:!1,autoHide:!0},elements:[]},e.support.selectOpacity=e.browser.msie&&e.browser.version<7?!1:!0,e.fn.uniform=function(t){function i(t){$el=e(t),$el.addClass($el.attr("type")),u(t)}function n(t){e(t).addClass("form-element"),u(t)}function r(i){var n=e(i),r=e("<div>"),s=e("<span>");r.addClass(t.buttonClass),t.useID&&""!=n.attr("id")&&r.attr("id",t.idPrefix+"-"+n.attr("id"));var o;n.is("a")||n.is("button")?o=n.text():(n.is(":submit")||n.is(":reset")||n.is("input[type=button]"))&&(o=n.attr("value")),o=""==o?n.is(":reset")?"Reset":"Submit":o,s.html(o),n.css("opacity",0),n.wrap(r),n.wrap(s),r=n.closest("div"),s=n.closest("span"),n.is(":disabled")&&r.addClass(t.disabledClass),r.bind({"mouseenter.uniform":function(){r.addClass(t.hoverClass)},"mouseleave.uniform":function(){r.removeClass(t.hoverClass),r.removeClass(t.activeClass)},"mousedown.uniform touchbegin.uniform":function(){r.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){r.removeClass(t.activeClass)},"click.uniform touchend.uniform":function(t){if(e(t.target).is("span")||e(t.target).is("div"))if(i[0].dispatchEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),i[0].dispatchEvent(n)}else i[0].click()}}),i.bind({"focus.uniform":function(){r.addClass(t.focusClass)},"blur.uniform":function(){r.removeClass(t.focusClass)}}),e.uniform.noSelect(r),u(i)}function s(i){var n=e(i),r=e("<div />"),s=e("<span />");"none"==!n.css("display")&&t.autoHide&&r.hide(),r.addClass(t.selectClass),t.useID&&""!=i.attr("id")&&r.attr("id",t.idPrefix+"-"+i.attr("id"));var o=i.find(":selected:first");0==o.length&&(o=i.find("option:first")),s.html(o.html()),i.css("opacity",0),i.wrap(r),i.before(s),r=i.parent("div"),s=i.siblings("span"),i.bind({"change.uniform":function(){s.text(i.find(":selected").html()),r.removeClass(t.activeClass)},"focus.uniform":function(){r.addClass(t.focusClass)},"blur.uniform":function(){r.removeClass(t.focusClass),r.removeClass(t.activeClass)},"mousedown.uniform touchbegin.uniform":function(){r.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){r.removeClass(t.activeClass)},"click.uniform touchend.uniform":function(){r.removeClass(t.activeClass)},"mouseenter.uniform":function(){r.addClass(t.hoverClass)},"mouseleave.uniform":function(){r.removeClass(t.hoverClass),r.removeClass(t.activeClass)},"keyup.uniform":function(){s.text(i.find(":selected").html())}}),e(i).attr("disabled")&&r.addClass(t.disabledClass),e.uniform.noSelect(s),u(i)}function o(i){var n=e(i),r=e("<div />"),s=e("<span />");"none"==!n.css("display")&&t.autoHide&&r.hide(),r.addClass(t.checkboxClass),t.useID&&""!=i.attr("id")&&r.attr("id",t.idPrefix+"-"+i.attr("id")),e(i).wrap(r),e(i).wrap(s),s=i.parent(),r=s.parent(),e(i).css("opacity",0).bind({"focus.uniform":function(){r.addClass(t.focusClass)},"blur.uniform":function(){r.removeClass(t.focusClass)},"click.uniform touchend.uniform":function(){e(i).attr("checked")?s.addClass(t.checkedClass):s.removeClass(t.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){r.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){r.removeClass(t.activeClass)},"mouseenter.uniform":function(){r.addClass(t.hoverClass)},"mouseleave.uniform":function(){r.removeClass(t.hoverClass),r.removeClass(t.activeClass)}}),e(i).attr("checked")&&s.addClass(t.checkedClass),e(i).attr("disabled")&&r.addClass(t.disabledClass),u(i)}function a(i){var n=e(i),r=e("<div />"),s=e("<span />");"none"==!n.css("display")&&t.autoHide&&r.hide(),r.addClass(t.radioClass),t.useID&&""!=i.attr("id")&&r.attr("id",t.idPrefix+"-"+i.attr("id")),e(i).wrap(r),e(i).wrap(s),s=i.parent(),r=s.parent(),e(i).css("opacity",0).bind({"focus.uniform":function(){r.addClass(t.focusClass)},"blur.uniform":function(){r.removeClass(t.focusClass)},"click.uniform touchend.uniform":function(){if(e(i).attr("checked")){var n=t.radioClass.split(" ")[0];e("."+n+" span."+t.checkedClass+":has([name='"+e(i).attr("name")+"'])").removeClass(t.checkedClass),s.addClass(t.checkedClass)}else s.removeClass(t.checkedClass)},"mousedown.uniform touchend.uniform":function(){e(i).is(":disabled")||r.addClass(t.activeClass)},"mouseup.uniform touchbegin.uniform":function(){r.removeClass(t.activeClass)},"mouseenter.uniform touchend.uniform":function(){r.addClass(t.hoverClass)},"mouseleave.uniform":function(){r.removeClass(t.hoverClass),r.removeClass(t.activeClass)}}),e(i).attr("checked")&&s.addClass(t.checkedClass),e(i).attr("disabled")&&r.addClass(t.disabledClass),u(i)}function l(i){var n=e(i),r=e("<div />"),s=e("<span>"+t.fileDefaultText+"</span>"),o=e("<span>"+t.fileBtnText+"</span>");if("none"==!n.css("display")&&t.autoHide&&r.hide(),r.addClass(t.fileClass),s.addClass(t.filenameClass),o.addClass(t.fileBtnClass),t.useID&&""!=n.attr("id")&&r.attr("id",t.idPrefix+"-"+n.attr("id")),n.wrap(r),n.after(o),n.after(s),r=n.closest("div"),s=n.siblings("."+t.filenameClass),o=n.siblings("."+t.fileBtnClass),!n.attr("size")){var a=r.width();n.attr("size",a/10)}var l=function(){var e=n.val();""===e?e=t.fileDefaultText:(e=e.split(/[\/\\]+/),e=e[e.length-1]),s.text(e)};l(),n.css("opacity",0).bind({"focus.uniform":function(){r.addClass(t.focusClass)},"blur.uniform":function(){r.removeClass(t.focusClass)},"mousedown.uniform":function(){e(i).is(":disabled")||r.addClass(t.activeClass)},"mouseup.uniform":function(){r.removeClass(t.activeClass)},"mouseenter.uniform":function(){r.addClass(t.hoverClass)},"mouseleave.uniform":function(){r.removeClass(t.hoverClass),r.removeClass(t.activeClass)}}),e.browser.msie?n.bind("click.uniform.ie7",function(){setTimeout(l,0)}):n.bind("change.uniform",l),n.attr("disabled")&&r.addClass(t.disabledClass),e.uniform.noSelect(s),e.uniform.noSelect(o),u(i)}function u(t){t=e(t).get(),t.length>1?e.each(t,function(t,i){e.uniform.elements.push(i)}):e.uniform.elements.push(t)}t=e.extend(e.uniform.options,t);var c=this;return 0!=t.resetSelector&&e(t.resetSelector).mouseup(function(){function t(){e.uniform.update(c)}setTimeout(t,10)}),e.uniform.restore=function(t){void 0==t&&(t=e(e.uniform.elements)),e(t).each(function(){e(this).is(":checkbox")?e(this).unwrap().unwrap():e(this).is("select")?(e(this).siblings("span").remove(),e(this).unwrap()):e(this).is(":radio")?e(this).unwrap().unwrap():e(this).is(":file")?(e(this).siblings("span").remove(),e(this).unwrap()):e(this).is("button, :submit, :reset, a, input[type='button']")&&e(this).unwrap().unwrap(),e(this).unbind(".uniform"),e(this).css("opacity","1");var i=e.inArray(e(t),e.uniform.elements);e.uniform.elements.splice(i,1)})},e.uniform.noSelect=function(t){function i(){return!1}e(t).each(function(){this.onselectstart=this.ondragstart=i,e(this).mousedown(i).css({MozUserSelect:"none"})})},e.uniform.update=function(i){void 0==i&&(i=e(e.uniform.elements)),i=e(i),i.each(function(){var n=e(this);if(n.is("select")){var r=n.siblings("span"),s=n.parent("div");s.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),r.html(n.find(":selected").html()),n.is(":disabled")?s.addClass(t.disabledClass):s.removeClass(t.disabledClass)}else if(n.is(":checkbox")){var r=n.closest("span"),s=n.closest("div");s.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),r.removeClass(t.checkedClass),n.is(":checked")&&r.addClass(t.checkedClass),n.is(":disabled")?s.addClass(t.disabledClass):s.removeClass(t.disabledClass)}else if(n.is(":radio")){var r=n.closest("span"),s=n.closest("div");s.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),r.removeClass(t.checkedClass),n.is(":checked")&&r.addClass(t.checkedClass),n.is(":disabled")?s.addClass(t.disabledClass):s.removeClass(t.disabledClass)}else if(n.is(":file")){var s=n.parent("div"),o=n.siblings(t.filenameClass);btnTag=n.siblings(t.fileBtnClass),s.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),o.text(n.val()),n.is(":disabled")?s.addClass(t.disabledClass):s.removeClass(t.disabledClass)}else if(n.is(":submit")||n.is(":reset")||n.is("button")||n.is("a")||i.is("input[type=button]")){var s=n.closest("div");s.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),n.is(":disabled")?s.addClass(t.disabledClass):s.removeClass(t.disabledClass)}})},this.each(function(){if(e.support.selectOpacity){var t=e(this);t.is("select")?1!=t.attr("multiple")&&(void 0==t.attr("size")||t.attr("size")<=1)&&s(t):t.is(":checkbox")?o(t):t.is(":radio")?a(t):t.is(":file")?l(t):t.is(":text, :password, input[type='email']")?i(t):t.is("textarea")?n(t):(t.is("a")||t.is(":submit")||t.is(":reset")||t.is("button")||t.is("input[type=button]"))&&r(t)}})}}(jQuery),/*
 * jQuery Function Toggle Pluing
 * Copyright 2011, Felix Kling
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
function(e){e.fn.funcToggle=function(t,i){var n="jqp_eventtoggle_"+t+(new Date).getTime(),r=Array.prototype.slice.call(arguments,2),s=r.length,o=function(){},a=function(){return!1};if("object"==typeof t){for(var l in t)e.fn.funcToggle.apply(this,[l].concat(t[l]));return this}return(e.isFunction(i)||i===!1)&&(r=[i].concat(r),s+=1,i=void 0),r=e.map(r,function(t){return t===!1?a:e.isFunction(t)?t:o}),this.data(n,0),this.bind(t,i,function(t){var i=e(this).data(),o=i[n];r[o].call(this,t),i[n]=(o+1)%s}),this}}(jQuery),function(e){var t,i={className:"autosizejs",append:"",callback:!1,resizeDelay:10},n='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],s=e(n).data("autosize",!0)[0];s.style.lineHeight="99px","99px"===e(s).css("lineHeight")&&r.push("lineHeight"),s.style.lineHeight="",e.fn.autosize=function(n){return this.length?(n=e.extend({},i,n||{}),s.parentNode!==document.body&&e(document.body).append(s),this.each(function(){function i(){var t,i;"getComputedStyle"in window?(t=window.getComputedStyle(d,null),i=d.getBoundingClientRect().width,e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,n){i-=parseInt(t[n],10)}),s.style.width=i+"px"):s.style.width=Math.max(p.width(),0)+"px"}function o(){var o={};if(t=d,s.className=n.className,u=parseInt(p.css("maxHeight"),10),e.each(r,function(e,t){o[t]=p.css(t)}),e(s).css(o),i(),window.chrome){var a=d.style.width;d.style.width="0px",d.offsetWidth,d.style.width=a}}function a(){var e,r;t!==d?o():i(),s.value=d.value+n.append,s.style.overflowY=d.style.overflowY,r=parseInt(d.style.height,10),s.scrollTop=0,s.scrollTop=9e4,e=s.scrollTop,u&&e>u?(d.style.overflowY="scroll",e=u):(d.style.overflowY="hidden",c>e&&(e=c)),e+=f,r!==e&&(d.style.height=e+"px",m&&n.callback.call(d,d))}function l(){clearTimeout(h),h=setTimeout(function(){var e=p.width();e!==v&&(v=e,a())},parseInt(n.resizeDelay,10))}var u,c,h,d=this,p=e(d),f=0,m=e.isFunction(n.callback),g={height:d.style.height,overflow:d.style.overflow,overflowY:d.style.overflowY,wordWrap:d.style.wordWrap,resize:d.style.resize},v=p.width();p.data("autosize")||(p.data("autosize",!0),("border-box"===p.css("box-sizing")||"border-box"===p.css("-moz-box-sizing")||"border-box"===p.css("-webkit-box-sizing"))&&(f=p.outerHeight()-p.height()),c=Math.max(parseInt(p.css("minHeight"),10)-f||0,p.height()),p.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===p.css("resize")||"vertical"===p.css("resize")?"none":"horizontal"}),"onpropertychange"in d?"oninput"in d?p.on("input.autosize keyup.autosize",a):p.on("propertychange.autosize",function(){"value"===event.propertyName&&a()}):p.on("input.autosize",a),n.resizeDelay!==!1&&e(window).on("resize.autosize",l),p.on("autosize.resize",a),p.on("autosize.resizeIncludeStyle",function(){t=null,a()}),p.on("autosize.destroy",function(){t=null,clearTimeout(h),e(window).off("resize",l),p.off("autosize").off(".autosize").css(g).removeData("autosize")}),a())})):this}}(window.jQuery||window.$),/*!	
* FitText.js 1.0
*
* Copyright 2011, Dave Rupert http://daverupert.com
* Released under the WTFPL license 
* http://sam.zoy.org/wtfpl/
*
* Date: Thu May 05 14:23:00 2011 -0600
*/
function(e){e.fn.fitText=function(t,i){var n={minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY};return this.each(function(){var r=e(this),s=t||1;i&&e.extend(n,i);var o=function(){r.css("font-size",Math.max(Math.min(r.width()/(10*s),parseFloat(n.maxFontSize)),parseFloat(n.minFontSize)))};o(),e(window).resize(o)})}}(jQuery),/*

 |       __ _____                     ________                              __
 |      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 |  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 | /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 | \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 |           \/              /____/                              version 0.4.22
 http://terminal.jcubic.pl

 Licensed under GNU LGPL Version 3 license
 Copyright (c) 2011-2012 Jakub Jankiewicz <http://jcubic.pl>

 Includes:

 Storage plugin Distributed under the MIT License
 Copyright (c) 2010 Dave Schindler

 jQuery Timers licenced with the WTFPL
 <http://jquery.offput.ca/every/>

 Cross-Browser Split 1.1.1
 Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 Available under the MIT License

 Date: Thu, 15 Nov 2012 07:12:21 +0000
*/
function(k,H){function aa(e,t){var i;if("string"==typeof e&&"string"==typeof t)return localStorage[e]=t,!0;if("object"==typeof e&&"undefined"==typeof t){for(i in e)e.hasOwnProperty(i)&&(localStorage[i]=e[i]);return!0}return!1}function W(e,t){var i,n;if(i=new Date,i.setTime(i.getTime()+31536e6),i="; expires="+i.toGMTString(),"string"==typeof e&&"string"==typeof t)return document.cookie=e+"="+t+i+"; path=/",!0;if("object"==typeof e&&"undefined"==typeof t){for(n in e)e.hasOwnProperty(n)&&(document.cookie=n+"="+e[n]+i+"; path=/");return!0}return!1}function ba(e){return localStorage[e]}function ca(e){var t,i,n;for(e+="=",t=document.cookie.split(";"),i=0;i<t.length;i++){for(n=t[i];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return n.substring(e.length,n.length)}return null}function da(e){return delete localStorage[e]}function ea(e){return W(e,"",-1)}function U(e,t){var i=[],n=e.length;if(t>n)return[e];for(var r=0;n>r;r+=t)i.push(e.substring(r,r+t));return i}function X(e){return k("<div>"+k.terminal.strip(e)+"</div>").text().length}function Y(e){var t=e instanceof Array?e:e?[e]:[],i=0;k.extend(this,{left:function(){return 0===i?i=t.length-1:--i,t[i]},right:function(){return i===t.length-1?i=0:++i,t[i]},current:function(){return t[i]},data:function(){return t},length:function(){return t.length},reset:function(){i=0},append:function(e){t.push(e),this.reset()}})}function fa(e){var t=e?[e]:[];k.extend(this,{size:function(){return t.length},pop:function(){if(0===t.length)return null;var e=t[t.length-1];return t=t.slice(0,t.length-1),e},push:function(e){return t=t.concat([e]),e},top:function(){return t.length>0?t[t.length-1]:null}})}function ga(c){var g=!0;"string"==typeof c&&""!==c&&(c+="_");var e=k.Storage.get(c+"commands"),h=new Y(e?eval("("+e+")"):[""]);k.extend(this,{append:function(e){g&&(h.append(e),k.Storage.set(c+"commands",k.json_stringify(h.data())))},data:function(){return h.data()},next:function(){return h.right()},last:function(){h.reset()},previous:function(){return h.left()},clear:function(){h=new Y,k.Storage.remove(c+"commands")},enable:function(){g=!0},disable:function(){g=!1}})}k.omap=function(e,t){var i={};return k.each(e,function(n,r){i[n]=t.call(e,n,r)}),i};var R="undefined"!=typeof window.localStorage;k.extend({Storage:{set:R?aa:W,get:R?ba:ca,remove:R?da:ea}}),jQuery.fn.extend({everyTime:function(e,t,i,n,r){return this.each(function(){jQuery.timer.add(this,e,t,i,n,r)})},oneTime:function(e,t,i){return this.each(function(){jQuery.timer.add(this,e,t,i,1)})},stopTime:function(e,t){return this.each(function(){jQuery.timer.remove(this,e,t)})}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(e){if(e===H||null===e)return null;var t=this.regex.exec(jQuery.trim(e.toString()));return t[2]?parseInt(t[1],10)*(this.powers[t[2]]||1):e},add:function(e,t,i,n,r,s){var o=0;if(jQuery.isFunction(i)&&(r||(r=n),n=i,i=t),t=jQuery.timer.timeParse(t),!("number"!=typeof t||isNaN(t)||0>=t)){r&&r.constructor!==Number&&(s=!!r,r=0),r=r||0,s=s||!1,e.$timers||(e.$timers={}),e.$timers[i]||(e.$timers[i]={}),n.$timerID=n.$timerID||this.guid++;var a=function(){s&&a.inProgress||(a.inProgress=!0,(++o>r&&0!==r||n.call(e,o)===!1)&&jQuery.timer.remove(e,i,n),a.inProgress=!1)};a.$timerID=n.$timerID,e.$timers[i][n.$timerID]||(e.$timers[i][n.$timerID]=window.setInterval(a,t)),this.global[i]||(this.global[i]=[]),this.global[i].push(e)}},remove:function(e,t,i){var n,r=e.$timers;if(r){if(t){if(r[t]){if(i)i.$timerID&&(window.clearInterval(r[t][i.$timerID]),delete r[t][i.$timerID]);else for(var s in r[t])r[t].hasOwnProperty(s)&&(window.clearInterval(r[t][s]),delete r[t][s]);for(n in r[t])if(r[t].hasOwnProperty(n))break;n||(n=null,delete r[t])}}else for(var o in r)r.hasOwnProperty(o)&&this.remove(e,o,i);for(n in r)if(r.hasOwnProperty(n))break;n||(e.$timers=null)}}}}),jQuery.browser.msie&&jQuery(window).one("unload",function(){var e,t=jQuery.timer.global;for(e in t)if(t.hasOwnProperty(e))for(var i=t[e],n=i.length;--n;)jQuery.timer.remove(i[n],e)}),function(e){if(String.prototype.split.toString().match(/\[native/)){var t,i=String.prototype.split,n=/()??/.exec("")[1]===e;return t=function(t,r,s){if("[object RegExp]"!==Object.prototype.toString.call(r))return i.call(t,r,s);var o,a,l,u=[],c=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),h=0;for(r=RegExp(r.source,c+"g"),t+="",n||(o=RegExp("^"+r.source+"$(?!\\s)",c)),s=s===e?4294967295:s>>>0;(a=r.exec(t))&&(c=a.index+a[0].length,!(c>h&&(u.push(t.slice(h,a.index)),!n&&a.length>1&&a[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(a[t]=e)}),a.length>1&&a.index<t.length&&Array.prototype.push.apply(u,a.slice(1)),l=a[0].length,h=c,u.length>=s)));)r.lastIndex===a.index&&r.lastIndex++;return h===t.length?(l||!r.test(""))&&u.push(""):u.push(t.slice(h)),u.length>s?u.slice(0,s):u},String.prototype.split=function(e,i){return t(this,e,i)},t}}(),k.json_stringify=function(e,t){var i,n="";switch(t=t===H?1:t,typeof e){case"function":n+=e;break;case"boolean":n+=e?"true":"false";break;case"object":if(null===e)n+="null";else if(e instanceof Array){n+="[";var r=e.length;for(i=0;r-1>i;++i)n+=k.json_stringify(e[i],t+1);n+=k.json_stringify(e[r-1],t+1)+"]"}else{n+="{";for(r in e)e.hasOwnProperty(r)&&(n+='"'+r+'":'+k.json_stringify(e[r],t+1));n+="}"}break;case"string":r=e;var s={"\\\\":"\\\\",'"':'\\"',"/":"\\/","\\n":"\\n","\\r":"\\r","\\t":"\\t"};for(i in s)s.hasOwnProperty(i)&&(r=r.replace(RegExp(i,"g"),s[i]));n+='"'+r+'"';break;case"number":n+=String(e)}return n+=t>1?",":"",1===t&&(n=n.replace(/,([\]}])/g,"$1")),n.replace(/([\[{]),/g,"$1")},k.fn.cmd=function(e){function t(){x.toggleClass("inverted")}function i(){d="(reverse-i-search)`"+g+"': ",T()}function n(e){var t=f.data(),i=RegExp("^"+g),n=t.length;for(e&&v>0&&(n-=v),e=n;e--;)if(i.test(t[e])){v=t.length-e,w=0,a.set(t[e],!0),C();break}}function r(e){var t=e.substring(0,u-c);return e=e.substring(u-c),[t].concat(U(e,u))}function s(){l.focus(),a.oneTime(1,function(){a.insert(l.val()),l.blur().val("")})}function o(t){if(e.keydown&&e.keydown(t)===!1)return!1;if(_){var r;if(!m||35!==t.which&&36!==t.which&&37!==t.which&&38!==t.which&&39!==t.which&&40!==t.which&&66!==t.which&&13!==t.which&&27!==t.which){if(t.altKey)return 68===t.which?(a.set(b.slice(0,w)+b.slice(w).replace(/[^ ]+ |[^ ]+$/,""),!0),!1):!0;if(13===t.keyCode)f&&b&&(e.historyFilter&&e.historyFilter(b)||!e.historyFilter)&&f.data().slice(-1)[0]!==b&&f.append(b),f.last(),t=b,a.set(""),e.commands&&e.commands(t),"function"==typeof d&&T();else if(32===t.which)m?(g+=" ",i()):a.insert(" ");else if(8===t.which)m?(g=g.slice(0,-1),i()):""!==b&&w>0&&(b=b.slice(0,w-1)+b.slice(w,b.length),--w,C());else if(9!==t.which||t.ctrlKey||t.altKey){if(46===t.which)return""!==b&&w<b.length&&(b=b.slice(0,w)+b.slice(w+1,b.length),C()),!0;if(f&&38===t.which||80===t.which&&t.ctrlKey)a.set(f.previous());else if(f&&40===t.which||78===t.which&&t.ctrlKey)a.set(f.next());else if(37===t.which||66===t.which&&t.ctrlKey)if(t.ctrlKey&&66!==t.which){for(r=w-1,t=0," "===b[r]&&--r;r>0;--r){if(" "===b[r]&&" "!==b[r+1]){t=r+1;break}if("\n"===b[r]&&"\n"!==b[r+1]){t=r;break}}a.position(t)}else w>0&&(--w,C());else if(82===t.which&&t.ctrlKey)m?n(!0):(h=d,i(),b="",C(),m=!0);else if(39===t.which||70===t.which&&t.ctrlKey)t.ctrlKey&&70!==t.which?(" "===b[w]&&++w,t=b.slice(w).match(/\S[\n\s]{2,}|[\n\s]+\S?/),!t||t[0].match(/^\s+$/)?w=b.length:" "!==t[0][0]?w+=t.index+1:(w+=t.index+t[0].length-1," "!==t[0][t[0].length-1]&&--w),C()):w<b.length&&(++w,C());else{if(123===t.which)return!0;if(36===t.which)a.position(0);else if(35===t.which)a.position(b.length);else{if(!t.ctrlKey&&!t.metaKey)return!0;if(t.shiftKey){if(84===t.which)return!0}else if(65===t.which)a.position(0);else if(69===t.which)a.position(b.length);else{if(88===t.which||67===t.which||87===t.which||84===t.which)return!0;if(86===t.which)return s(),!0;if(75===t.which)0===w?a.set(""):w!==b.length&&a.set(b.slice(0,w));else if(85===t.which)a.set(b.slice(w,b.length)),a.position(0);else if(17===t.which)return!0}}}}else a.insert("	")}else d=h,m=!1,v=null,g="",T(),27===t.which&&(b=""),C(),o.call(this,t);return!1}}var a=this;a.addClass("cmd"),a.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');var l=k("<textarea/>").addClass("clipboard").appendTo(a);e.width&&a.width(e.width);var u,c,h,d,p,f,m=!1,g="",v=null,y=e.mask||!1,b="",w=0,_=e.enabled,x=a.find(".cursor"),C=function(e){function t(e,t){if(t===e.length)o.html(k.terminal.encode(e)),x.html("&nbsp;"),a.html("");else if(0===t)o.html(""),x.html(k.terminal.encode(e.slice(0,1))),a.html(k.terminal.encode(e.slice(1)));else{var i=k.terminal.encode(e.slice(0,t));o.html(i),i=e.slice(t,t+1),x.html(" "===i?"&nbsp;":k.terminal.encode(i)),t===e.length-1?a.html(""):a.html(k.terminal.encode(e.slice(t+1)))}}function i(e){return"<div>"+k.terminal.encode(e)+"</div>"}function n(e){var t=a;k.each(e,function(e,n){t=k(i(n)).insertAfter(t).addClass("clear")})}function s(e){k.each(e,function(e,t){o.before(i(t))})}var o=x.prev(),a=x.next();return function(){var l,h,d=y?b.replace(/./g,"*"):b;if(e.find("div").remove(),o.html(""),d.length>u-c-1||d.match(/\n/)){var p,f=d.match(/\t/g),m=f?3*f.length:0;if(f&&(d=d.replace(/\t/g,"\x00\x00\x00\x00")),d.match(/\n/)){var g=d.split("\n");for(h=u-c-1,l=0;l<g.length-1;++l)g[l]+=" ";for(g[0].length>h?(p=[g[0].substring(0,h)],p=p.concat(U(g[0].substring(h),u))):p=[g[0]],l=1;l<g.length;++l)g[l].length>u?p=p.concat(U(g[l],u)):p.push(g[l])}else p=r(d);if(f&&(p=k.map(p,function(e){return e.replace(/\x00\x00\x00\x00/g,"	")})),h=p[0].length,h>w)t(p[0],w),n(p.slice(1));else if(w===h)o.before(i(p[0])),t(p[1],0),n(p.slice(2));else if(l=p.length,h>w)t(p[0],w),n(p.slice(1));else if(w===h)o.before(i(p[0])),t(p[1],0),n(p.slice(2));else{f=p.slice(-1)[0],g=d.length-w;var v=f.length;if(d=0,v>=g)s(p.slice(0,-1)),t(f,(v===g?0:v-g)+m);else if(3===l)o.before("<div>"+k.terminal.encode(p[0])+"</div>"),t(p[1],w-h-1),a.after('<div class="clear">'+k.terminal.encode(p[2])+"</div>");else{for(d=w,l=0;l<p.length&&(h=p[l].length,d>h);++l)d-=h;h=p[l],m=l,d===h.length&&(d=0,h=p[++m]),t(h,d),s(p.slice(0,m)),n(p.slice(m+1))}}}else""===d?(o.html(""),x.html("&nbsp;"),a.html("")):t(d,w)}}(a),T=function(){var e=a.find(".prompt");return function(){"string"==typeof d?(c=X(d),e.html(k.terminal.format(d))):d(function(t){c=X(t),e.html(k.terminal.format(t))})}}();return k.extend(a,{name:function(e){return e===H?p:(p=e,f=new ga(e),void 0)},history:function(){return f},set:function(t,i){t!==H&&(b=t,i||(w=b.length),C(),"function"==typeof e.onCommandChange&&e.onCommandChange(b))},insert:function(t,i){w===b.length?b+=t:b=0===w?t+b:b.slice(0,w)+t+b.slice(w),i||(w+=t.length),C(),"function"==typeof e.onCommandChange&&e.onCommandChange(b)},get:function(){return b},commands:function(t){return t?(e.commands=t,void 0):t},destroy:function(){k(document.documentElement).unbind(".commandline"),a.find(".prompt").remove()},prompt:function(e){if(e===H)return d;if("string"!=typeof e&&"function"!=typeof e)throw"prompt must be a function or string";d=e,T(),C()},position:function(e){return"number"!=typeof e?w:(w=0>e?0:e>b.length?b.length:e,C(),void 0)},visible:function(){var e=a.visible;return function(){e.apply(a,[]),C(),T()}}(),show:function(){var e=a.show;return function(){e.apply(a,[]),C(),T()}}(),resize:function(e){if(e)u=e;else{e=a.width();var t=x.innerWidth();u=Math.floor(e/t)}C()},enable:function(){_||(x.addClass("inverted"),a.everyTime(500,"blink",t),_=!0)},isenabled:function(){return _},disable:function(){_&&(a.stopTime("blink",t),x.removeClass("inverted"),_=!1)},mask:function(e){return"boolean"!=typeof e?y:(y=e,C(),void 0)}}),a.name(e.name||""),d=e.prompt||"> ",T(),(e.enabled===H||e.enabled===!0)&&a.enable(),k(k.browser.msie?document.documentElement:window).keypress(function(t){var r;if(t.ctrlKey&&99===t.which)return!0;if(!m&&e.keypress&&(r=e.keypress(t)),r!==H&&!r)return r;if(_){if(k.inArray(t.which,[38,32,13,0,8])>-1&&123!==t.keyCode&&(38!==t.which||!t.shiftKey))return!1;if(!(t.ctrlKey||t.altKey&&100===t.which))return m?(g+=String.fromCharCode(t.which),i(),n()):a.insert(String.fromCharCode(t.which)),!1;t.altKey&&(m?(g+=String.fromCharCode(t.which),i(),n()):a.insert(String.fromCharCode(t.which)))}}).keydown(o),a};var ha=/(\[\[[gbius]*;[^;]*;[^\]]*\](?:[^\]\[]*|\[*(?!\[)[^\]]*\][^\]]*)\])/g,Z=/\[\[([gbius]*);([^;]*);([^;\]]*;|[^\]]*);?([^\]]*)\]([^\]\[]*|[^\[]*\[(?!\[)*[^\]]*\][^\]]*)\]/g,$=/#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})/,ia=/(https?:((?!&[^;]+;)[^\s:"'<)])+)/g,ja=/((([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g;k.terminal={split_equal:function(e,t){for(var i=e.split(/\n/g),n=/(\[\[[gbius]*;[^;]*;[^\]]*\][^\]\[]*\]?)/g,r=/(\[\[[gbius]*;[^;]*;[^\]]*\])/,s=/\[\[[gbius]*;?[^;]*;?[^\]]*\]?$/,o=!1,a=!1,l="",u=[],c=0,h=i.length;h>c;++c){if(""!==l){if(""===i[c]){u.push(l+"]");continue}i[c]=l+i[c],l=""}else if(""===i[c]){u.push("");continue}for(var d=i[c],p=0,f=0,m=0,g=d.length;g>m;++m)if("["===d[m]&&"["===d[m+1]?o=!0:o&&"]"===d[m]?a=a?o=!1:!0:(o&&a||!o)&&++f,f===t||m===g-1){var v=d.substring(p,m+1);l&&(v=l+v,v.match("]")&&(l="")),p=m+1,f=0;var y=v.match(n);y&&(y=y[y.length-1],"]"!==y[y.length-1]?(l=y.match(r)[1],v+="]"):v.match(s)&&(v=v.replace(s,""),l=y.match(r)[1])),u.push(v)}}return u},encode:function(e){return e.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},format:function(e){if("string"==typeof e){e=k.terminal.encode(k.terminal.from_ansi(e));var t=e.split(ha);return t&&t.length>1&&(e=k.map(t,function(e){return""===e?e:"["===e.substring(0,1)?e.replace(Z,function(e,t,i,n,r,s){if(""===s)return"<span>&nbsp;</span>";e="",-1!==t.indexOf("b")&&(e+="font-weight:bold;");var o="text-decoration:";return-1!==t.indexOf("u")&&(o+="underline "),-1!==t.indexOf("s")&&(o+="line-through"),(-1!==t.indexOf("s")||-1!==t.indexOf("u"))&&(e+=o+";"),-1!==t.indexOf("i")&&(e+="font-style:italic;"),i.match($)&&(e+="color:"+i+";",-1!==t.indexOf("g")&&(e+="text-shadow: 0 0 5px "+i+";")),n.match($)&&(e+="background-color:"+n),'<span style="'+e+'"'+(""!=r?' class="'+r+'"':"")+">"+s+"</span>"}):"<span>"+e+"</span>"}).join("")),e.replace(ia,function(e){var t=e.match(/\.$/);return e=e.replace(/\.$/,""),'<a target="_blank" href="'+e+'">'+e+"</a>"+(t?".":"")}).replace(ja,'<a href="mailto:$1">$1</a>').replace(/<span><br\/?><\/span>/g,"<br/>")}return""},strip:function(e){return e.replace(Z,"$5")},active:function(){return O.front()},ansi_colors:{normal:{black:"#000",red:"#AA0000",green:"#008400",yellow:"#AA5500",blue:"#0000AA",magenta:"#AA00AA",cyan:"#00AAAA",white:"#fff"},bold:{white:"#fff",red:"#FF5555",green:"#44D544",yellow:"#FFFF55",blue:"#5555FF",magenta:"#FF55FF",cyan:"#55FFFF",black:"#000"}},from_ansi:function(){function e(e){var n,r=e.split(";");e=[];var s,o="",a="";for(s in r)n=parseInt(r[s],10),1===n&&e.push("b"),4===n&&e.push("u"),i[n]&&(a=i[n]),t[n]&&(o=t[n]);for(n=r=k.terminal.ansi_colors.normal,s=e.length;s--;)if("b"==e[s]){""==o&&(o="white"),n=k.terminal.ansi_colors.bold;break}return"[["+[e.join(""),n[o],r[a]].join(";")+"]"}var t={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white"},i={40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white"};return function(t){var i=t.split(/(\[[0-9;]*m)/g);if(1==i.length)return t;t=[],i.length>3&&"[0m"==i.slice(0,3).join("")&&(i=i.slice(3));for(var n=!1,r=0;r<i.length;++r){var s=i[r].match(/^\[([0-9;]*)m$/);s?""!=s[1]&&(n?(t.push("]"),"0"==s[1]?n=!1:t.push(e(s[1]))):(n=!0,t.push(e(s[1])))):t.push(i[r])}return n&&t.push("]"),t.join("")}}()},k.fn.visible=function(){return this.css("visibility","visible")},k.fn.hidden=function(){return this.css("visibility","hidden")},k.jrpc=function(e,t,i,n,r,s){return t=k.json_stringify({jsonrpc:"2.0",method:i,params:n,id:t}),k.ajax({url:e,data:t,success:r,error:s,contentType:"application/json",dataType:"json",async:!0,cache:!1,type:"POST"})},R=/ {14}$/;var ka=[["jQuery Terminal","(c) 2011-2012 jcubic"],["jQuery Terminal Emulator v. 0.4.22","Copyright (c) 2011-2012 Jakub Jankiewicz <http://jcubic.pl>".replace(/ *<.*>/,"")],["jQuery Terminal Emulator version version 0.4.22","Copyright (c) 2011-2012 Jakub Jankiewicz <http://jcubic.pl>"],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/ /_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(R,"")+"version 0.4.22","Copyright (c) 2011-2012 Jakub Jankiewicz <http://jcubic.pl>"],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(R,"")+"version 0.4.22","Copyright (c) 2011-2012 Jakub Jankiewicz <http://jcubic.pl>"]],V=[],O=new function(e){var t=e?[e]:[],i=0;k.extend(this,{rotate:function(){return 1===t.length?t[0]:(i===t.length-1?i=0:++i,t[i])},length:function(){return t.length},set:function(e){for(var n=t.length;n--;)if(t[n]===e)return i=n,void 0;this.append(e)},front:function(){return t[i]},append:function(e){t.push(e)}})};k.fn.terminal=function(e,t){function i(){return b.get(0).scrollHeight>b.innerHeight()}function n(){var e=b.find(".cursor").width(),t=Math.floor(b.width()/e);if(i()){var n=b.innerWidth()-b.width();t-=Math.ceil((20-n/2)/(e-1))}return t}function r(e,t){C.displayExceptions&&(b.error("&#91;"+t+"&#93;: "+("string"==typeof e?e:"string"==typeof e.fileName?e.fileName+": "+e.message:e.message)),"string"==typeof e.fileName&&(b.pause(),k.get(e.fileName,function(t){b.resume();var i=e.lineNumber-1;(t=t.split("\n")[i])&&b.error("&#91;"+e.lineNumber+"&#93;: "+t)})),e.stack&&b.error(e.stack))}function s(e,t){try{if("function"==typeof t)t(function(){});else if("string"!=typeof t)throw e+" must be string or function"}catch(i){return r(i,e.toUpperCase()),!1}return!0}function o(){var e=b.prop?b.prop("scrollHeight"):b.attr("scrollHeight");b.scrollTop(e)}function a(e){e="string"==typeof e?e:String(e);var t,i;if(e.length>y){var n=k.terminal.split_equal(e,y);for(e=k("<div></div>"),t=0,i=n.length;i>t;++t)""===n[t]||"\r"===n[t]?e.append("<div>&nbsp;</div>"):k("<div/>").html(k.terminal.format(n[t])).appendTo(e)}else e=k("<div/>").html(k.terminal.format(e));return v.append(e),e.width("100%"),o(),e}function l(){t.greetings===H?b.echo(b.signature):t.greetings&&b.echo(t.greetings)}function u(e,t){var i=1,n=function(n,r){t.pause(),k.jrpc(e,i++,n,r,function(e){if(e.error)t.error("&#91;RPC&#93; "+e.error.message);else if("string"==typeof e.result)t.echo(e.result);else if(e.result instanceof Array)t.echo(e.result.join(" "));else if("object"==typeof e.result){var i,n="";for(i in e.result)e.result.hasOwnProperty(i)&&(n+=i+": "+e.result[i]+"\n");t.echo(n)}t.resume()},function(e,i){t.error("&#91;AJAX&#93; "+i+" - Server reponse is: \n"+e.responseText),t.resume()})};return function(e,t){if(""!==e){var i,r;if(e.match(/[^ ]* /)?(e=e.split(/ +/),i=e[0],r=e.slice(1)):(i=e,r=[]),C.login&&"help"!==i){var s=t.token();s?n(i,[s].concat(r)):t.error("&#91;AUTH&#93; Access denied (no token)")}else n(i,r)}}}function c(e){e=e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;");var t=P.prompt();P.mask()&&(e=e.replace(/./g,"*")),"function"==typeof t?t(function(t){b.echo(t+e)}):b.echo(t+e)}function h(e,t){try{var i=$.top();"exit"===e&&C.exit?1===$.size()?C.login?p():(t||c(e),b.echo("You can exit from main interpeter")):b.pop("exit"):(t||c(e),"clear"===e&&C.clear?b.clear():i.eval(e,b))}catch(n){throw r(n,"USER"),b.resume(),n}}function d(){var e=null;P.prompt("login: "),C.history&&P.history().disable(),P.commands(function(t){try{if(c(t),e){if(P.mask(!1),b.pause(),"function"!=typeof C.login)throw"Value of login property must be a function";C.login(e,t,function(t){if(t){var i=C.name;i=i?"_"+i:"",k.Storage.set("token"+i,t),k.Storage.set("login"+i,e),P.commands(h),m()}else b.error("Wrong password try again"),P.prompt("login: "),e=null;b.resume(),C.history&&P.history().enable()})}else e=t,P.prompt("password: "),P.mask(!0)}catch(i){throw r(i,"LOGIN",b),i}})}function p(){if("function"==typeof C.onBeforelogout)try{if(0==C.onBeforelogout(b))return}catch(e){throw r(e,"onBeforelogout"),e}var t=C.name;if(t=t?"_"+t:"",k.Storage.remove("token"+t,null),k.Storage.remove("login"+t,null),C.history&&P.history().disable(),d(),"function"==typeof C.onAfterlogout)try{C.onAfterlogout(b)}catch(i){throw r(i,"onAfterlogout"),i}}function f(){var e=$.top(),t="";e.name!==H&&""!==e.name&&(t+=e.name+"_"),t+=_,P.name(t),"function"==typeof e.prompt?P.prompt(function(t){e.prompt(t,b)}):P.prompt(e.prompt),C.history&&P.history().enable(),P.set(""),"function"==typeof e.onStart&&e.onStart(b)}function m(){if(f(),l(),"function"==typeof C.onInit)try{C.onInit(b)}catch(e){throw r(e,"OnInit"),e}}function g(e){if(b.oneTime(5,function(){E()}),C.keydown&&C.keydown(e,b)===!1)return!1;if(b.paused()){if(68===e.which&&e.ctrlKey){for(e=V.length;e--;){var t=V[e];if(4!==t.readyState)try{t.abort()}catch(i){b.error("error in aborting ajax")}}return b.resume(),!1}}else{if(9!==e.which&&(D=0),68===e.which&&e.ctrlKey)return""===P.get()?$.size()>1||C.login!==H?b.pop(""):(b.resume(),b.echo("")):b.set_command(""),!1;if(C.tabcompletion&&9===e.which){if(++D,t=P.get(),!t.match(" ")){var n=RegExp("^"+t),r=$.top().command_list,s=[];for(e=r.length;e--;)n.test(r[e])&&s.push(r[e]);1===s.length?b.set_command(s[0]):s.length>1&&D>=2&&(c(t),b.echo(s.join("	")),D=0)}return!1}if(86===e.which&&e.ctrlKey)return b.oneTime(1,function(){o()}),!0;if(9===e.which&&e.ctrlKey)return O.length()>1&&b.focus(!1),!1;34===e.which?b.scroll(b.height()):33===e.which?b.scroll(-b.height()):b.attr({scrollTop:b.attr("scrollHeight")})}}var v,y,b=this,w=[],_=O.length(),x=[],C=k.extend({name:"",prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,displayExceptions:!0,cancelableAjax:!0,login:null,tabcompletion:null,historyFilter:null,onInit:k.noop,onClear:k.noop,onBlur:k.noop,onFocus:k.noop,onTerminalChange:k.noop,onExit:k.noop,keypress:k.noop,keydown:k.noop},t||{});C.width&&b.width(C.width),C.height&&b.height(C.height);var T=!C.enabled;if(0===b.length)throw'Sorry, but terminal said that "'+b.selector+'" is not valid selector!';if(b.ajaxSend(function(e,t){V.push(t)}),b.data("terminal"))return b.data("terminal");v=k("<div>").addClass("terminal-output").appendTo(b),b.addClass("terminal").append("<div/>"),b.click(function(){b.find("textarea").focus()});var S=[];k.extend(b,k.omap({clear:function(){v.html(""),P.set(""),w=[];try{C.onClear(b)}catch(e){throw r(e,"onClear"),e}return b.attr({scrollTop:0}),b},exec:function(e,t){return T?S.push([e,t]):h(e,t),b},commands:function(){return $.top().eval},greetings:function(){return l(),b},paused:function(){return T},pause:function(){return P&&(T=!0,b.disable(),P.hidden()),b},resume:function(){if(P){b.enable();var e=S;for(S=[];e.length;){var t=e.shift();b.exec.apply(b,t)}P.visible(),o()}return b},cols:function(){return y},rows:function(){return w.length},history:function(){return P.history()},next:function(){if(1===O.length())return b;var e=b.offset().top;b.height(),b.scrollTop();var t=b,i=k(window).scrollTop(),n=i+k(window).height(),s=k(t).offset().top;if(s+k(t).height()>=i&&n>=s){O.front().disable(),e=O.rotate().enable(),t=e.offset().top-50,k("html,body").animate({scrollTop:t},500);try{C.onTerminalChange(e)}catch(o){throw r(o,"onTerminalChange"),o}return e}return b.enable(),k("html,body").animate({scrollTop:e-50},500),b},focus:function(e,t){return b.oneTime(1,function(){if(1===O.length())if(e===!1)try{!t&&C.onBlur(b)!==!1&&b.disable()}catch(i){throw r(i,"onBlur"),i}else try{!t&&C.onFocus(b)!==!1&&b.enable()}catch(n){throw r(n,"onFocus"),n}else if(e===!1)b.next();else{var s=O.front();if(s!=b&&(s.disable(),!t))try{C.onTerminalChange(b)}catch(o){throw r(o,"onTerminalChange"),o}O.set(b),b.enable()}}),b},enable:function(){return y===H&&b.resize(),T&&P&&(P.enable(),T=!1),b},disable:function(){return P&&(T=!0,P.disable()),b},enabled:function(){return T},signature:function(){var e=b.cols();return e=15>e?null:35>e?0:55>e?1:64>e?2:75>e?3:4,null!==e?ka[e].join("\n")+"\n":""},version:function(){return"0.4.22"},get_command:function(){return P.get()},insert:function(e){if("string"==typeof e)return P.insert(e),b;throw"insert function argument is not a string"},set_prompt:function(e){return s("prompt",e)&&("function"==typeof e?P.prompt(function(t){e(t,b)}):P.prompt(e),$.top().prompt=e),b},get_prompt:function(){return $.top().prompt},set_command:function(e){return P.set(e),b},set_mask:function(e){return P.mask(e),b},get_output:function(e){return e?w:k.map(w,function(e,t){return"function"==typeof t?t():t}).join("\n")},resize:function(e,t){e&&t&&(b.width(e),b.height(t)),y=n(),P.resize(y);var i=v.detach();return v.html(""),k.each(w,function(e,t){a(t&&"function"==typeof t?t():t)}),b.prepend(i),o(),b},echo:function(e){return w.push(e),a("function"==typeof e?e():e),E(),b},error:function(e){return b.echo("[[;#f00;]"+e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")+"]")},scroll:function(e){var t;return e=Math.round(e),b.prop?(e>b.prop("scrollTop")&&e>0&&b.prop("scrollTop",0),t=b.prop("scrollTop"),b.prop("scrollTop",t+e)):(e>b.attr("scrollTop")&&e>0&&b.attr("scrollTop",0),t=b.attr("scrollTop"),b.attr("scrollTop",t+e)),b},logout:C.login?function(){for(;$.size()>1;)$.pop();return p(),b}:function(){throw"You don't have login function"},token:C.login?function(){var e=C.name;return k.Storage.get("token"+(e?"_"+e:""))}:k.noop,login_name:C.login?function(){var e=C.name;return k.Storage.get("login"+(e?"_"+e:""))}:k.noop,name:function(){return C.name},push:function(e,t){return(t&&(!t.prompt||s("prompt",t.prompt))||!t)&&("string"==typeof e&&(e=u(t.eval,b)),$.push(k.extend({eval:e},t)),f()),b},reset:function(){for(b.clear();$.size()>1;)$.pop();m()},pop:function(e){if(e!==H&&c(e),$.top().name===C.name){if(C.login&&(p(),"function"==typeof C.onExit))try{C.onExit(b)}catch(t){throw r(t,"onExit"),t}}else if(e=$.pop(),f(),"function"==typeof e.onExit)try{e.onExit(b)}catch(i){throw r(i,"onExit"),i}return b}},function(e,t){return function(){try{return t.apply(this,Array.prototype.slice.apply(arguments))}catch(e){r(e,"TERMINAL")}}}));var M,E=function(){var e=i();return function(){e!==i()&&(b.resize(),e=i())}}(),D=0;if(C.login&&"function"==typeof C.onBeforeLogin)try{C.onBeforeLogin(b)}catch(j){throw r(j,"onBeforeLogin"),j}if("string"==typeof e)M=e,e=u(e,b);else{if("object"==typeof e&&e.constructor===Array)throw"You can't use array as eval";if("object"==typeof e){for(var A in e)e.hasOwnProperty(A)&&x.push(A);e=function N(e){return function(t){if(""!==t){t=t.split(/ +/);var i=t[0],n=t.slice(1);t=e[i];var r=typeof t;if("function"===r)t.apply(b,n);else if("object"===r||"string"===r){if(n=[],"object"===r){for(var s in t)t.hasOwnProperty(s)&&n.push(s);t=N(t)}b.push(t,{prompt:i+"> ",name:i,command_list:n})}else b.error("Command '"+i+"' Not Found")}}}(e)}else if("function"!=typeof e)throw'Unknow object "'+String(e)+'" passed as eval'}if(M&&("string"==typeof C.login||C.login)&&(C.login=function(e){var t=1;return function(i,n,r){b.pause(),k.jrpc(M,t++,e,[i,n],function(e){b.resume(),!e.error&&e.result?r(e.result):r(null)},function(e,t){b.resume(),b.error("&#91;AJAX&#92; Response: "+t+"\n"+e.responseText)})}}("boolean"==typeof C.login?"login":C.login)),s("prompt",C.prompt)){var $=new fa({name:C.name,eval:e,prompt:C.prompt,command_list:x,greetings:C.greetings}),P=b.find(".terminal-output").next().cmd({prompt:C.prompt,history:C.history,historyFilter:C.historyFilter,width:"100%",keydown:g,keypress:C.keypress?function(e){return C.keypress(e,b)}:null,onCommandChange:function(e){if("function"==typeof C.onCommandChange)try{C.onCommandChange(e,b)}catch(t){throw r(t,"onCommandChange"),t}o()},commands:h});O.append(b),C.enabled===!0?b.focus(H,!0):b.disable(),k(window).resize(b.resize),b.click(function(){T&&O.length()>1&&b===k.terminal.active()||b.focus()}),t.login&&b.token&&!b.token()&&b.login_name&&!b.login_name()?d():m(),"function"==typeof k.fn.init.prototype.mousewheel&&b.mousewheel(function(e,t){return t>0?b.scroll(-40):b.scroll(40),!1},!0)}return b.data("terminal",b),b}}(jQuery),/*
* In-Field Label jQuery Plugin
* http://fuelyourcoding.com/scripts/infield.html
*
* Copyright (c) 2009 Doug Neiner
* Dual licensed under the MIT and GPL licenses.
* Uses the same license as jQuery, see:
* http://docs.jquery.com/License
*
* @version 0.1
*/
function(e){e.InFieldLabels=function(t,i,n){var r=this;r.$label=e(t),r.label=t,r.$field=e(i),r.field=i,r.$label.data("InFieldLabels",r),r.showing=!0,r.init=function(){r.options=e.extend({},e.InFieldLabels.defaultOptions,n),""!=r.$field.val()&&(r.$label.hide(),r.showing=!1),r.$field.focus(function(){r.fadeOnFocus()}).blur(function(){r.checkForEmpty(!0)}).bind("keydown.infieldlabel",function(e){r.hideOnChange(e)}).change(function(){r.checkForEmpty()}).bind("onPropertyChange",function(){r.checkForEmpty()}),setTimeout(function(){r.checkForEmpty(!0)},500)},r.fadeOnFocus=function(){r.showing&&r.setOpacity(r.options.fadeOpacity)},r.setOpacity=function(e){r.$label.stop().animate({opacity:e},r.options.fadeDuration),r.showing=e>0},r.checkForEmpty=function(e){""==r.$field.val()?(r.prepForShow(),r.setOpacity(e?1:r.options.fadeOpacity)):r.setOpacity(0)},r.prepForShow=function(){r.showing||(r.$label.css({opacity:0}).show(),r.$field.bind("keydown.infieldlabel",function(e){r.hideOnChange(e)}))},r.hideOnChange=function(e){16!=e.keyCode&&9!=e.keyCode&&(r.showing&&(r.$label.hide(),r.showing=!1),r.$field.unbind("keydown.infieldlabel"))},r.init()},e.InFieldLabels.defaultOptions={fadeOpacity:.5,fadeDuration:300},e.fn.inFieldLabels=function(t){return this.each(function(){var i=e(this).attr("for");if(i){var n=e("input#"+i+"[type='text'],"+"input#"+i+"[type='email'],"+"input#"+i+"[type='password'],"+"textarea#"+i);0!=n.length&&new e.InFieldLabels(this,n[0],t)}})}}(jQuery),// Copyright (c) 2011 Harvest http://getharvest.com
function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,r,s,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),s=e.childNodes,o=[],n=0,r=s.length;r>n;n++)i=s[n],o.push(this.add_option(i,t,e.disabled));return o},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),e.select_to_array=function(t){var i,n,r,s,o;for(n=new e,o=t.childNodes,r=0,s=o.length;s>r;r++)i=o[r],n.add_node(i);return n.parsed},this.SelectParser=e}.call(this),function(){var e,t;t=this,e=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.result_add_option=function(e){var t,i;return e.disabled?"":(e.dom_id=this.container_id+"_o_"+e.array_index,t=e.selected&&this.is_multiple?[]:["active-result"],e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+i+">"+e.html+"</li>")},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,i;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=Math.floor(Math.random()*e.length),t=e.substring(i,i+1)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.browser_is_supported=function(){var e;return"Microsoft Internet Explorer"===window.navigator.appName?null!==(e=document.documentMode)&&e>=8:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),t.AbstractChosen=e}.call(this),function(){var e,t,i,n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i=this,e=jQuery,e.fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var n;return n=e(this),n.hasClass("chzn-done")?void 0:n.data("chosen",new t(this,i))}):this}}),t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},n.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},n.prototype.set_up_html=function(){var t,i;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",t=["chzn-container"],t.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chzn-rtl"),i={id:this.container_id,"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=e("<div />",i),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},n.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){e.container_mousedown(t)}),this.container.mouseup(function(t){e.container_mouseup(t)}),this.container.mouseenter(function(t){e.mouse_enter(t)}),this.container.mouseleave(function(t){e.mouse_leave(t)}),this.search_results.mouseup(function(t){e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel DOMMouseScroll",function(t){e.search_results_mousewheel(t)}),this.form_field_jq.bind("liszt:updated",function(t){e.results_update_field(t)}),this.form_field_jq.bind("liszt:activate",function(t){e.activate_field(t)}),this.form_field_jq.bind("liszt:open",function(t){e.container_mousedown(t)}),this.search_field.blur(function(t){e.input_blur(t)}),this.search_field.keyup(function(t){e.keyup_checker(t)}),this.search_field.keydown(function(t){e.keydown_checker(t)}),this.search_field.focus(function(t){e.input_focus(t)}),this.is_multiple?this.search_choices.click(function(t){e.choices_click(t)}):this.container.click(function(e){e.preventDefault()})},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},n.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?!this.is_multiple&&t&&(e(t.target)[0]===this.selected_item[0]||e(t.target).parents("a.chzn-single").length)&&(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},n.prototype.search_results_mousewheel=function(e){var t,i,n;return t=-(null!=(i=e.originalEvent)?i.wheelDelta:void 0)||(null!=(n=e.originialEvent)?n.detail:void 0),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},n.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},n.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){var e,t,n,r,s;for(this.parsing=!0,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",s=this.results_data,n=0,r=s.length;r>n;n++)t=s[n],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},n.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>")},n.prototype.result_do_highlight=function(e){var t,i,n,r,s;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),r=n+s,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=r)return this.search_results.scrollTop(t-n>0?t-n:0);if(s>i)return this.search_results.scrollTop(i)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){if(null!=this.result_single_selected)this.result_do_highlight(this.result_single_selected);else if(this.is_multiple&&this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1;return this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},n.prototype.results_hide=function(){return this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.results_showing=!1},n.prototype.set_tab_index=function(){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",e)):void 0},n.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for="+this.form_field.id+"]")),this.form_field_label.length>0?this.form_field_label.click(function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},n.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},n.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},n.prototype.choice_build=function(t){var i,n,r,s=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(i=this.container_id+"_c_"+t.array_index,this.choices+=1,n=t.disabled?'<li class="search-choice search-choice-disabled" id="'+i+'"><span>'+t.html+"</span></li>":'<li class="search-choice" id="'+i+'"><span>'+t.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"></a></li>',this.search_container.before(n),r=e("#"+i).find("a").first(),r.click(function(e){return s.choice_destroy_link_click(e)}))},n.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},n.prototype.choice_destroy=function(e){return this.result_deselect(e.attr("rel"))?(this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},n.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,i,n,r;return this.result_highlight?(t=this.result_highlight,i=t.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(t):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),r=i.substr(i.lastIndexOf("_")+1),n=this.results_data[r],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.is_multiple?this.choice_build(n):(this.selected_item.find("span").first().text(n.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!e.metaKey&&!e.ctrlKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale()):void 0},n.prototype.result_activate=function(e){return e.addClass("active-result")},n.prototype.result_deactivate=function(e){return e.removeClass("active-result")},n.prototype.result_deselect=function(t){var i,n;return n=this.results_data[t],this.form_field.options[n.options_index].disabled?!1:(n.selected=!1,this.form_field.options[n.options_index].selected=!1,i=e("#"+this.container_id+"_o_"+t),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[n.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},n.prototype.winnow_results=function(){var t,i,n,r,s,o,a,l,u,c,h,d,p,f,m,g,v,y;for(this.no_results_clear(),u=0,c=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),o=this.search_contains?"":"^",s=new RegExp(o+c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=new RegExp(c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=this.results_data,f=0,g=y.length;g>f;f++)if(i=y[f],!i.disabled&&!i.empty)if(i.group)e("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(t=!1,l=i.dom_id,a=e("#"+l),s.test(i.html))t=!0,u+=1;else if(this.enable_split_word_search&&(i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(r=i.html.replace(/\[|\]/g,"").split(" "),r.length))for(m=0,v=r.length;v>m;m++)n=r[m],s.test(n)&&(t=!0,u+=1);t?(c.length?(h=i.html.search(p),d=i.html.substr(0,h+c.length)+"</em>"+i.html.substr(h+c.length),d=d.substr(0,h)+"<em>"+d.substr(h)):d=i.html,a.html(d),this.result_activate(a),null!=i.group_array_index&&e("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>u&&c.length?this.no_results(c):this.winnow_results_set_highlight()},n.prototype.winnow_results_clear=function(){var t,i,n,r,s;for(this.search_field.val(""),i=this.search_results.find("li"),s=[],n=0,r=i.length;r>n;n++)t=i[n],t=e(t),t.hasClass("group-result")?s.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?s.push(void 0):s.push(this.result_activate(t));return s},n.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},n.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i)},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var t,i;return this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(t=this.search_results.find("li.active-result").first(),t&&this.result_do_highlight(e(t))),this.results_showing?void 0:this.results_show()},n.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,i,n,r,s,o,a,l;if(this.is_multiple){for(i=0,o=0,r="position:absolute; left: -1000px; top: -1000px; display:none;",s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=s.length;l>a;a++)n=s[a],r+=n+":"+this.search_field.css(n)+";";return t=e("<div />",{style:r}),t.text(this.search_field.val()),e("body").append(t),o=t.width()+25,t.remove(),this.f_width||(this.f_width=this.container.outerWidth()),o>this.f_width-10&&(o=this.f_width-10),this.search_field.css({width:o+"px"})}},n.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},n}(AbstractChosen),i.Chosen=t}.call(this),/**
 * jQuery Cookie plugin
 *
 * Copyright (c) 2010 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie=function(e,t,i){if(arguments.length>1&&"[object Object]"!==String(t)){if(i=jQuery.extend({},i),(null===t||void 0===t)&&(i.expires=-1),"number"==typeof i.expires){var n=i.expires,r=i.expires=new Date;r.setDate(r.getDate()+n)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",i.raw?t:encodeURIComponent(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}i=t||{};var s,o=i.raw?function(e){return e}:decodeURIComponent;return(s=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?o(s[1]):null},function(){!function(e,t){var i,n,r;return r="shapeshift",n={selector:"*",enableDrag:!0,enableCrossDrop:!0,enableResize:!0,enableTrash:!1,align:"center",colWidth:null,columns:null,minColumns:1,autoHeight:!0,maxHeight:null,minHeight:100,gutterX:10,gutterY:10,paddingX:10,paddingY:10,animated:!0,animateOnInit:!1,animationSpeed:225,animationThreshold:100,dragClone:!1,deleteClone:!0,dragRate:100,dragWhitelist:"*",crossDropWhitelist:"*",cutoffStart:null,cutoffEnd:null,handle:!1,cloneClass:"ss-cloned-child",activeClass:"ss-active-child",draggedClass:"ss-dragged-child",placeholderClass:"ss-placeholder-child",originalContainerClass:"ss-original-container",currentContainerClass:"ss-current-container",previousContainerClass:"ss-previous-container"},i=function(){function i(t,i){this.element=t,this.options=e.extend({},n,i),this.globals={},this.$container=e(t),this.errorCheck()&&this.init()}return i.prototype.errorCheck=function(){var e,t,i,n;return n=this.options,i=!1,t="Shapeshift ERROR:",null===n.colWidth&&(e=this.$container.children(n.selector),0===e.length&&(i=!0,console.error(""+t+" option colWidth must be specified if Shapeshift is initialized with no active children."))),!i},i.prototype.init=function(){return this.createEvents(),this.setGlobals(),this.setIdentifier(),this.setActiveChildren(),this.enableFeatures(),this.gridInit(),this.render(),this.afterInit()},i.prototype.createEvents=function(){var e,t,i=this;return t=this.options,e=this.$container,e.off("ss-arrange").on("ss-arrange",function(e,t){return null==t&&(t=!1),i.render(!1,t)}),e.off("ss-rearrange").on("ss-rearrange",function(){return i.render(!0)}),e.off("ss-setTargetPosition").on("ss-setTargetPosition",function(){return i.setTargetPosition()}),e.off("ss-destroy").on("ss-destroy",function(){return i.destroy()}),e.off("ss-shuffle").on("ss-shuffle",function(){return i.shuffle()})},i.prototype.setGlobals=function(){return this.globals.animated=this.options.animateOnInit,this.globals.dragging=!1},i.prototype.afterInit=function(){return this.globals.animated=this.options.animated},i.prototype.setIdentifier=function(){return this.identifier="shapeshifted_container_"+Math.random().toString(36).substring(7),this.$container.addClass(this.identifier)},i.prototype.enableFeatures=function(){return this.options.enableResize&&this.enableResize(),this.options.enableDrag||this.options.enableCrossDrop?this.enableDragNDrop():void 0},i.prototype.setActiveChildren=function(){var t,i,n,r,s,o,a,l,u,c,h,d;for(a=this.options,t=this.$container.children(a.selector),i=a.activeClass,l=t.length,s=u=0;l>=0?l>u:u>l;s=l>=0?++u:--u)e(t[s]).addClass(i);for(this.setParsedChildren(),r=a.columns,d=[],s=c=0,h=this.parsedChildren.length;h>=0?h>c:c>h;s=h>=0?++c:--c)n=this.parsedChildren[s].colspan,o=a.minColumns,n>r&&n>o?(a.minColumns=n,d.push(console.error("Shapeshift ERROR: There are child elements that have a larger colspan than the minimum columns set through options.\noptions.minColumns has been set to "+n))):d.push(void 0);return d},i.prototype.setParsedChildren=function(){var t,i,n,r,s,o,a;for(i=this.$container.find("."+this.options.activeClass).filter(":visible"),o=i.length,s=[],r=a=0;o>=0?o>a:a>o;r=o>=0?++a:--a)t=e(i[r]),n={i:r,el:t,colspan:parseInt(t.attr("data-ss-colspan"))||1,height:t.outerHeight()},s.push(n);return this.parsedChildren=s},i.prototype.gridInit=function(){var e,t,i,n,r;return n=this.options.gutterX,this.options.colWidth>=1?this.globals.col_width=this.options.colWidth+n:(i=this.parsedChildren[0],t=i.el.outerWidth(),e=i.colspan,r=(t-(e-1)*n)/e,this.globals.col_width=r+n)},i.prototype.render=function(e,t){return null==e&&(e=!1),this.setGridColumns(),this.arrange(e,t)},i.prototype.setGridColumns=function(){var e,t,i,n,r,s,o,a,l,u,c,h,d,p,f;if(s=this.globals,h=this.options,i=s.col_width,a=h.gutterX,d=h.paddingX,u=this.$container.innerWidth()-2*d,c=h.minColumns,r=h.columns||Math.floor((u+a)/i),c&&c>r&&(r=c),s.columns=r,t=this.parsedChildren.length,r>t){for(e=0,l=p=0,f=this.parsedChildren.length;f>=0?f>p:p>f;l=f>=0?++p:--p)n=this.parsedChildren[l].colspan,r>=n+e&&(e+=n);r=e}switch(s.child_offset=d,h.align){case"center":return o=r*i-a,s.child_offset+=(u-o)/2;case"right":return o=r*i-a,s.child_offset+=u-o}},i.prototype.arrange=function(e,t){var i,n,r,s,o,a,l,u,c,h,d,p,f,m,g,v,y,b;for(e&&this.setParsedChildren(),c=this.globals,m=this.options,n=this.$container,a=this.getPositions(),g=this.parsedChildren,y=g.length,r=c.animated&&y<=m.animationThreshold,s=m.animationSpeed,u=m.draggedClass,h=b=0;y>=0?y>b:b>y;h=y>=0?++b:--b)i=g[h].el,o=a[h],d=i.hasClass(u),d&&(v=m.placeholderClass,i=i.siblings("."+v)),r&&!d?i.stop(!0,!1).animate(o,s,function(){}):i.css(o);return t&&(r?setTimeout(function(){return n.trigger("ss-drop-complete")},s):n.trigger("ss-drop-complete")),n.trigger("ss-arranged"),m.autoHeight?(l=c.container_height,p=m.maxHeight,f=m.minHeight,f&&f>l?l=f:p&&l>p&&(l=p),n.height(l)):void 0},i.prototype.getPositions=function(e){var t,i,n,r,s,o,a,l,u,c,h,d,p,f,m,g,v,y,b=this;for(null==e&&(e=!0),s=this.globals,u=this.options,a=u.gutterY,c=u.paddingY,r=u.draggedClass,h=this.parsedChildren,g=h.length,t=[],l=v=0,y=s.columns;y>=0?y>v:v>y;l=y>=0?++v:--v)t.push(c);return f=function(e){var i,n,r,o,l,u,c;if(i=e.col,n=e.colspan,o=e.col*s.col_width+s.child_offset,l=t[i],d[e.i]={left:o,top:l},t[i]+=e.height+a,n>=1){for(c=[],r=u=1;n>=1?n>u:u>n;r=n>=1?++u:--u)c.push(t[i+r]=t[i]);return c}},i=function(e){var i,n,r,s,o,a,l,u,c,h,d,p;for(c=t.length-e.colspan+1,u=t.slice(0).splice(0,c),i=void 0,l=d=0;c>=0?c>d:d>c;l=c>=0?++d:--d){for(n=b.lowestCol(u,l),r=e.colspan,s=t[n],o=!0,h=p=1;r>=1?r>p:p>r;h=r>=1?++p:--p)if(a=t[n+h],a>s){o=!1;break}if(o){i=n;break}}return i},m=[],p=function(){var e,t,n,r,s,o,a,l,u,c;for(s=[],r=o=0,l=m.length;l>=0?l>o:o>l;r=l>=0?++o:--o)n=m[r],n.col=i(n),n.col>=0&&(f(n),s.push(r));for(c=[],t=a=u=s.length-1;a>=0;t=a+=-1)e=s[t],c.push(m.splice(e,1));return c},d=[],(n=function(){var n,s,o;for(o=[],l=s=0;g>=0?g>s:s>g;l=g>=0?++s:--s)n=h[l],e||!n.el.hasClass(r)?(n.col=n.colspan>1?i(n):b.lowestCol(t),void 0===n.col?m.push(n):f(n),o.push(p())):o.push(void 0);return o})(),u.autoHeight&&(o=t[this.highestCol(t)]-a,s.container_height=o+c),d},i.prototype.enableDragNDrop=function(){var i,n,r,s,o,a,l,u,c,h,d,p,f,m,g,v,y,b,w=this;return f=this.options,n=this.$container,o=f.activeClass,p=f.draggedClass,g=f.placeholderClass,m=f.originalContainerClass,l=f.currentContainerClass,v=f.previousContainerClass,u=f.deleteClone,h=f.dragRate,c=f.dragClone,a=f.cloneClass,s=r=i=b=y=null,d=!1,f.enableDrag&&n.children("."+o).filter(f.dragWhitelist).draggable({addClasses:!1,containment:"document",handle:f.handle,zIndex:9999,start:function(t){var n;return w.globals.dragging=!0,s=e(t.target),c&&(i=s.clone(!1,!1).insertBefore(s).addClass(a)),s.addClass(p),n=s.prop("tagName"),r=e("<"+n+" class='"+g+"' style='height: "+s.height()+"px; width: "+s.width()+"px'></"+n+">"),s.parent().addClass(m).addClass(l),b=s.outerHeight()/2,y=s.outerWidth()/2},drag:function(i,n){return d||c&&u&&e("."+l)[0]===e("."+m)[0]||(r.remove().appendTo("."+l),e("."+l).trigger("ss-setTargetPosition"),d=!0,t.setTimeout(function(){return d=!1},h)),n.position.left=i.pageX-s.parent().offset().left-y,n.position.top=i.pageY-s.parent().offset().top-b},stop:function(){var t,n,o;return w.globals.dragging=!1,n=e("."+m),t=e("."+l),o=e("."+v),s.removeClass(p),e("."+g).remove(),c&&(u&&e("."+l)[0]===e("."+m)[0]?(i.remove(),e("."+l).trigger("ss-rearrange")):i.removeClass(a)),n[0]===t[0]?t.trigger("ss-rearranged",s):(n.trigger("ss-removed",s),t.trigger("ss-added",s)),n.trigger("ss-arrange").removeClass(m),t.trigger("ss-arrange",!0).removeClass(l),o.trigger("ss-arrange").removeClass(v),s=r=null}}),f.enableCrossDrop?n.droppable({accept:f.crossDropWhitelist,tolerance:"intersect",over:function(t){return e("."+v).removeClass(v),e("."+l).removeClass(l).addClass(v),e(t.target).addClass(l)},drop:function(t,i){var n,r,o;return w.options.enableTrash?(r=e("."+m),n=e("."+l),o=e("."+v),s=e(i.helper),n.trigger("ss-trashed",s),s.remove(),r.trigger("ss-rearrange").removeClass(m),n.trigger("ss-rearrange").removeClass(l),o.trigger("ss-arrange").removeClass(v)):void 0}}):void 0},i.prototype.setTargetPosition=function(){var t,i,n,r,s,o,a,l,u,c,h,d,p,f,m,g,v,y,b,w,_,k;if(c=this.options,c.enableTrash)return d=this.options.placeholderClass,e("."+d).remove();if(u=c.draggedClass,t=e("."+u),i=t.parent(),h=this.parsedChildren,s=this.getPositions(!1),b=s.length,m=t.offset().left-i.offset().left+this.globals.col_width/2,g=t.offset().top-i.offset().top+t.height()/2,v=9999999,y=0,b>1){for(a=c.cutoffStart+1||0,o=c.cutoffEnd||b,p=k=a;o>=a?o>k:k>o;p=o>=a?++k:--k)r=s[p],r&&(_=m-r.left,w=g-r.top,_>0&&w>0&&(l=Math.sqrt(w*w+_*_),v>l&&(v=l,y=p,p===b-1&&_>h[p].height/2&&y++)));y===h.length?(n=h[y-1].el,t.insertAfter(n)):(n=h[y].el,t.insertBefore(n))}else 1===b?(r=s[0],r.left<m?this.$container.append(t):this.$container.prepend(t)):this.$container.append(t);return this.arrange(!0),i[0]!==t.parent()[0]?(f=c.previousContainerClass,e("."+f).trigger("ss-rearrange")):void 0},i.prototype.enableResize=function(){var i,n,r,s=this;return i=this.options.animationSpeed,r=!1,n="resize."+this.identifier,e(t).on(n,function(){return r?void 0:(r=!0,setTimeout(function(){return s.render()},i/3),setTimeout(function(){return s.render()},i/3),setTimeout(function(){return r=!1,s.render()},i/3))})},i.prototype.shuffle=function(){var e;return e=function(e,t){var i;return i=function(e){var t,i,n;for(i=void 0,n=void 0,t=e.length;t;)i=parseInt(Math.random()*t),n=e[--t],e[t]=e[i],e[i]=n;return e},e.each(function(){var n;return n=e.find("."+t).filter(":visible"),n.length?e.html(i(n)):this})},this.globals.dragging?void 0:(e(this.$container,this.options.activeClass),this.enableFeatures(),this.$container.trigger("ss-rearrange"))},i.prototype.lowestCol=function(e,t){var i,n,r,s;for(null==t&&(t=0),r=e.length,i=[],n=s=0;r>=0?r>s:s>r;n=r>=0?++s:--s)i.push([e[n],n]);return i.sort(function(e,t){var i;return i=e[0]-t[0],0===i&&(i=e[1]-t[1]),i}),i[t][1]},i.prototype.highestCol=function(i){return e.inArray(Math.max.apply(t,i),i)},i.prototype.destroy=function(){var e,t,i;return t=this.$container,t.off("ss-arrange"),t.off("ss-rearrange"),t.off("ss-setTargetPosition"),t.off("ss-destroy"),i=this.options.activeClass,e=t.find("."+i),this.options.enableDrag&&e.draggable("destroy"),this.options.enableCrossDrop&&t.droppable("destroy"),e.removeClass(i),t.removeClass(this.identifier)},i}(),e.fn[r]=function(n){return this.each(function(){var s,o,a,l;return o=null!=(a=e(this).attr("class"))?null!=(l=a.match(/shapeshifted_container_\w+/))?l[0]:void 0:void 0,o&&(s="resize."+o,e(t).off(s),e(this).removeClass(o)),e.data(this,"plugin_"+r,new i(this,n))})}}(jQuery,window,document)}.call(this),/*

	jQuery Tags Input Plugin 1.3.3

	Copyright (c) 2011 XOXCO, Inc

	Documentation for this plugin lives here:
	http://xoxco.com/clickable/jquery-tags-input

	Licensed under the MIT license:
	http://www.opensource.org/licenses/mit-license.php

	ben@xoxco.com

*/
function(e){var t=new Array,n=new Array;e.fn.doAutosize=function(t){var i=e(this).data("minwidth"),n=e(this).data("maxwidth"),r="",s=e(this),o=e("#"+e(this).data("tester_id"));if(r!==(r=s.val())){var a=r.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");o.html(a);var l=o.width(),u=l+t.comfortZone>=i?l+t.comfortZone:i,c=s.width(),h=c>u&&u>=i||u>i&&n>u;h&&s.width(u)}},e.fn.resetAutosize=function(t){var i=e(this).data("minwidth")||t.minInputWidth||e(this).width(),n=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,r=e(this),s=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:r.css("fontSize"),fontFamily:r.css("fontFamily"),fontWeight:r.css("fontWeight"),letterSpacing:r.css("letterSpacing"),whiteSpace:"nowrap"}),o=e(this).attr("id")+"_autosize_tester";!e("#"+o).length>0&&(s.attr("id",o),s.appendTo("body")),r.data("minwidth",i),r.data("maxwidth",n),r.data("tester_id",o),r.css("width",i)},e.fn.addTag=function(i,r){return r=jQuery.extend({focus:!1,callback:!0},r),this.each(function(){var s=e(this).attr("id"),o=e(this).val().split(t[s]);if(""==o[0]&&(o=new Array),i=jQuery.trim(i),r.unique){var a=e(this).tagExist(i);1==a&&e("#"+s+"_tag").addClass("not_valid")}else var a=!1;if(""!=i&&1!=a){if(e("<span>").addClass("tag").append(e("<span>").text(i).append("&nbsp;&nbsp;"),e('<a class="icon icon-close">',{href:"#",title:"Removing tag",text:""}).click(function(){return e("#"+s).removeTag(escape(i))})).insertBefore("#"+s+"_addTag"),o.push(i),e("#"+s+"_tag").val(""),r.focus?e("#"+s+"_tag").focus():e("#"+s+"_tag").blur(),e.fn.tagsInput.updateTagsField(this,o),r.callback&&n[s]&&n[s].onAddTag){var l=n[s].onAddTag;l.call(this,i)}if(n[s]&&n[s].onChange){var u=o.length,l=n[s].onChange;l.call(this,e(this),o[u-1])}}}),!1},e.fn.removeTag=function(r){return r=unescape(r),this.each(function(){var s=e(this).attr("id"),o=e(this).val().split(t[s]);for(e("#"+s+"_tagsinput .tag").remove(),str="",i=0;i<o.length;i++)o[i]!=r&&(str=str+t[s]+o[i]);if(e.fn.tagsInput.importTags(this,str),n[s]&&n[s].onRemoveTag){var a=n[s].onRemoveTag;a.call(this,r)}}),!1},e.fn.tagExist=function(i){var n=e(this).attr("id"),r=e(this).val().split(t[n]);return jQuery.inArray(i,r)>=0},e.fn.importTags=function(t){id=e(this).attr("id"),e("#"+id+"_tagsinput .tag").remove(),e.fn.tagsInput.importTags(this,t)},e.fn.tagsInput=function(i){var r=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){r.hide&&e(this).hide();var i=e(this).attr("id");(!i||t[e(this).attr("id")])&&(i=e(this).attr("id","tags"+(new Date).getTime()).attr("id"));var s=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},r);t[i]=s.delimiter,(r.onAddTag||r.onRemoveTag||r.onChange)&&(n[i]=new Array,n[i].onAddTag=r.onAddTag,n[i].onRemoveTag=r.onRemoveTag,n[i].onChange=r.onChange);var o='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(r.interactive&&(o=o+'<input id="'+i+'_tag" value="" data-default="'+r.defaultText+'" />'),o+='</div><div class="tags_clear"></div></div>',e(o).insertAfter(this),e(s.holder).css("width",r.width),e(s.holder).css("min-height",r.height),e(s.holder).css("height","100%"),""!=e(s.real_input).val()&&e.fn.tagsInput.importTags(e(s.real_input),e(s.real_input).val()),r.interactive){if(e(s.fake_input).val(e(s.fake_input).attr("data-default")),e(s.fake_input).css("color",r.placeholderColor),e(s.fake_input).resetAutosize(r),e(s.holder).bind("click",s,function(t){e(t.data.fake_input).focus()}),e(s.fake_input).bind("focus",s,function(t){e(t.data.fake_input).val()==e(t.data.fake_input).attr("data-default")&&e(t.data.fake_input).val(""),e(t.data.fake_input).css("color","#7E8D9A")}),void 0!=r.autocomplete_url){autocomplete_options={source:r.autocomplete_url};for(attrname in r.autocomplete)autocomplete_options[attrname]=r.autocomplete[attrname];void 0!==jQuery.Autocompleter?(e(s.fake_input).autocomplete(r.autocomplete_url,r.autocomplete),e(s.fake_input).bind("result",s,function(t,n){n&&e("#"+i).addTag(n[0]+"",{focus:!0,unique:r.unique})})):void 0!==jQuery.ui.autocomplete&&(e(s.fake_input).autocomplete(autocomplete_options),e(s.fake_input).bind("autocompleteselect",s,function(t,i){return e(t.data.real_input).addTag(i.item.value,{focus:!0,unique:r.unique}),!1}))}else e(s.fake_input).bind("blur",s,function(t){var i=e(this).attr("data-default");return""!=e(t.data.fake_input).val()&&e(t.data.fake_input).val()!=i?t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}):(e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default")),e(t.data.fake_input).css("color",r.placeholderColor)),!1});e(s.fake_input).bind("keypress",s,function(t){return t.which==t.data.delimiter.charCodeAt(0)||13==t.which?(t.preventDefault(),t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}),e(t.data.fake_input).resetAutosize(r),!1):(t.data.autosize&&e(t.data.fake_input).doAutosize(r),void 0)}),s.removeWithBackspace&&e(s.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==e(this).val()){t.preventDefault();var i=e(this).closest(".tagsinput").find(".tag:last").text(),n=e(this).attr("id").replace(/_tag$/,"");i=i.replace(/[\s]+x$/,""),e("#"+n).removeTag(escape(i)),e(this).trigger("focus")}}),e(s.fake_input).blur(),s.unique&&e(s.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,/]+/))&&e(this).removeClass("not_valid")})}}),this},e.fn.tagsInput.updateTagsField=function(i,n){var r=e(i).attr("id");e(i).val(n.join(t[r]))},e.fn.tagsInput.importTags=function(r,s){e(r).val("");var o=e(r).attr("id"),a=s.split(t[o]);for(i=0;i<a.length;i++)e(r).addTag(a[i],{focus:!1,callback:!1});if(n[o]&&n[o].onChange){var l=n[o].onChange;l.call(r,r,a[i])}}}(jQuery),function(e,t){var i={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35},n={triggerChar:"@",onDataRequest:e.noop,minChars:2,showAvatars:!0,elastic:!0,insertSpaceAfterMention:!0,classes:{autoCompleteItemActive:"active"},templates:{wrapper:t.template('<div class="mentions-input-box"></div>'),autocompleteList:t.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:t.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:t.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:t.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:t.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:t.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:t.template("<strong><span><%= value %></span></strong>")}},r={htmlEncode:function(e){return t.escape(e)},highlightTerm:function(e,t){return t||t.length?e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):e},setCaratPosition:function(e,t){if(e.createTextRange){var i=e.createTextRange();i.move("character",t),i.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()},rtrim:function(e){return e.replace(/\s+$/,"")}},s=function(s){function o(){S=e(T),"true"!=S.attr("data-mentions-input")&&(M=S.parent(),D=e(s.templates.wrapper()),S.wrapAll(D),D=M.find("> div"),S.attr("data-mentions-input","true"),S.bind("keydown",b),S.bind("keypress",y),S.bind("input",v),S.bind("click",m),S.bind("blur",g),s.elastic&&S.elastic())}function a(){E=e(s.templates.autocompleteList()),E.appendTo(D),E.delegate("li","mousedown",f)}function l(){j=e(s.templates.mentionsOverlay()),j.prependTo(D)}function u(){var e=p();t.each(P,function(t){var i=s.templates.mentionItemSyntax(t);e=e.replace(t.value,i)});var i=r.htmlEncode(e);t.each(P,function(e){var n=t.extend({},e,{value:r.htmlEncode(e.value)}),o=s.templates.mentionItemSyntax(n),a=s.templates.mentionItemHighlight(n);i=i.replace(o,a)}),i=i.replace(/\n/g,"<br />"),i=i.replace(/ {2}/g,"&nbsp; "),S.data("messageText",e),j.find("div").html(i)}function c(){F=[]}function h(){var e=p();P=t.reject(P,function(t){return!t.value||-1==e.indexOf(t.value)}),P=t.compact(P)}function d(e){var t=p(),i=new RegExp("\\"+s.triggerChar+$,"gi");if(match=i.exec(t)){var n=i.lastIndex-$.length-1,o=i.lastIndex,a=t.substr(0,n),l=t.substr(o,t.length),h=(a+e.value).length;s.insertSpaceAfterMention&&(h+=1),P.push(e),c(),$="",w();var d=a+e.value;s.insertSpaceAfterMention&&(d+=" "),d+=l,S.val(d),u(),S.focus(),r.setCaratPosition(S[0],h)}}function p(){return e.trim(S.val())}function f(){var t=e(this),i=N[t.attr("data-uid")];return d(i),!1}function m(){c()}function g(){w()}function v(){u(),h();var e=t.lastIndexOf(F,s.triggerChar);e>-1&&($=F.slice(e+1).join(""),$=r.rtrim($),t.defer(t.bind(x,this,$)))}function y(e){if(e.keyCode!==i.BACKSPACE){var t=String.fromCharCode(e.which||e.keyCode);F.push(t)}}function b(n){if(n.keyCode==i.LEFT||n.keyCode==i.RIGHT||n.keyCode==i.HOME||n.keyCode==i.END)return t.defer(c),navigator.userAgent.indexOf("MSIE 9")>-1&&t.defer(u),void 0;if(n.keyCode==i.BACKSPACE)return F=F.slice(0,-1+F.length),void 0;if(!E.is(":visible"))return!0;switch(n.keyCode){case i.UP:case i.DOWN:var r=null;return r=n.keyCode==i.DOWN?A&&A.length?A.next():E.find("li").first():e(A).prev(),r.length&&_(r),!1;case i.RETURN:case i.TAB:return A&&A.length?(A.trigger("mousedown"),!1):!0}return!0}function w(){A=null,E.empty().hide()}function _(e){e.addClass(s.classes.autoCompleteItemActive),e.siblings().removeClass(s.classes.autoCompleteItemActive),A=e}function k(i,n){E.show();var o=t.pluck(P,"value");if(n=t.reject(n,function(e){return t.include(o,e.name)}),!n.length)return w(),void 0;E.empty();var a=e("<ul>").appendTo(E).hide();t.each(n,function(n,o){var l=t.uniqueId("mention_");N[l]=t.extend({},n,{value:n.name});var u=e(s.templates.autocompleteListItem({id:r.htmlEncode(n.id),display:r.htmlEncode(n.name),type:r.htmlEncode(n.type),username:r.highlightTerm(r.htmlEncode(n.username),i),content:r.highlightTerm(r.htmlEncode(n.name),i)})).attr("data-uid",l);if(0===o&&_(u),s.showAvatars){var c;c=n.avatar?e(s.templates.autocompleteListItemAvatar({avatar:n.avatar,type:n.type})):e(s.templates.autocompleteListItemIcon({icon:n.icon})),c.prependTo(u.find("a"))}u=u.appendTo(a)}),E.show(),a.show()}function x(e){e&&e.length&&e.length>=s.minChars?s.onDataRequest.call(this,"search",e,function(t){k(e,t)}):w()}function C(){S.val(""),P=[],u()}var T,S,M,E,D,j,A,$,P=[],N={},F=[];return s=e.extend(!0,{},n,s),{init:function(e){T=e,o(),a(),l(),C(),s.prefillMention&&d(s.prefillMention)},val:function(e){if(t.isFunction(e)){var i=P.length?S.data("messageText"):p();e.call(this,i)}},reset:function(){C()},getMentions:function(e){t.isFunction(e)&&e.call(this,P)},setMentions:function(e,i){S.val(e),insertSpace=s.insertSpaceAfterMention,s.insertSpaceAfterMention=!1,t.each(i,function(e){e.value=e.name,$=e.value,d(e)}),s.insertSpaceAfterMention=insertSpace}}};e.fn.mentionsInput=function(i,n){var r=arguments;return"object"!=typeof i&&i||(n=i),this.each(function(){var o=e.data(this,"mentionsInput")||e.data(this,"mentionsInput",new s(n));return t.isFunction(o[i])?o[i].apply(this,Array.prototype.slice.call(r,1)):"object"!=typeof i&&i?(e.error("Method "+i+" does not exist"),void 0):o.init.call(this,this)})}}(jQuery,_),// copyright chris wanstrath
function(e){function t(t,n,r){var s=this;return this.on("click.pjax",t,function(t){var o=e.extend({},d(n,r));o.container||(o.container=e(this).attr("data-pjax")||s),i(t,o)})}function i(t,i,n){n=d(i,n);var s=t.currentTarget;if("A"!==s.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==s.protocol||location.host!==s.host||s.hash&&s.href.replace(s.hash,"")===location.href.replace(location.hash,"")||s.href===location.href+"#")){var o={url:s.href,container:e(s).attr("data-pjax"),target:s,fragment:null};r(e.extend({},o,n)),t.preventDefault()}}function n(t,i,n){n=d(i,n);var s=t.currentTarget;if("FORM"!==s.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var o={type:s.method,url:s.action,data:e(s).serializeArray(),container:e(s).attr("data-pjax"),target:s,fragment:null,timeout:0};r(e.extend({},o,n)),t.preventDefault()}function r(t){function i(t,i){var r=e.Event(t,{relatedTarget:n});return a.trigger(r,i),!r.isDefaultPrevented()}t=e.extend(!0,{},e.ajaxSettings,r.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var n=t.target,s=h(t.url).hash,a=t.context=p(t.container);t.data||(t.data={}),t.data._pjax=a.selector;var l;t.beforeSend=function(e,n){return"GET"!==n.type&&(n.timeout=0),n.timeout>0&&(l=setTimeout(function(){i("pjax:timeout",[e,t])&&e.abort("timeout")},n.timeout),n.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",a.selector),i("pjax:beforeSend",[e,n])?(t.requestUrl=h(n.url).href,void 0):!1},t.complete=function(e,n){l&&clearTimeout(l),i("pjax:complete",[e,n,t]),i("pjax:end",[e,t])},t.error=function(e,n,r){var s=m("",e,t),a=i("pjax:error",[e,n,r,t]);"GET"==t.type&&"abort"!==n&&a&&o(s.url)},t.success=function(n,l,c){var d=m(n,c,t);if(!d.contents)return o(d.url),void 0;if(r.state={id:t.id||u(),url:d.url,title:d.title,container:a.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(r.state,d.title,d.url),d.title&&(document.title=d.title),a.html(d.contents),"number"==typeof t.scrollTo&&e(window).scrollTop(t.scrollTo),(t.replace||t.push)&&window._gaq&&_gaq.push(["_trackPageview"]),""!==s){var p=h(d.url);p.hash=s,r.state.url=p.href,window.history.replaceState(r.state,d.title,p.href);var f=e(p.hash);f.length&&e(window).scrollTop(f.offset().top)}i("pjax:success",[n,l,c,t])},r.state||(r.state={id:u(),url:window.location.href,title:document.title,container:a.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(r.state,document.title));var d=r.xhr;d&&d.readyState<4&&(d.onreadystatechange=e.noop,d.abort()),r.options=t;var d=r.xhr=e.ajax(t);return d.readyState>0&&(t.push&&!t.replace&&(g(r.state.id,a.clone().contents()),window.history.pushState(null,"",c(t.requestUrl))),i("pjax:start",[d,t]),i("pjax:send",[d,t])),r.xhr}function s(t,i){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(e.extend(n,d(t,i)))}function o(e){window.history.replaceState(null,"","#"),window.location.replace(e)}function a(t){var i=t.state;if(i&&i.container){var n=e(i.container);if(n.length){var s=w[i.id];if(r.state){var a=r.state.id<i.id?"forward":"back";v(a,r.state.id,n.clone().contents())}var l=e.Event("pjax:popstate",{state:i,direction:a});n.trigger(l);var u={id:i.id,url:i.url,container:n,push:!1,fragment:i.fragment,timeout:i.timeout,scrollTo:!1};s?(n.trigger("pjax:start",[null,u]),i.title&&(document.title=i.title),n.html(s),r.state=i,n.trigger("pjax:end",[null,u])):r(u),n[0].offsetHeight}else o(location.href)}}function l(t){var i=e.isFunction(t.url)?t.url():t.url,n=t.type?t.type.toUpperCase():"GET",r=e("<form>",{method:"GET"===n?"GET":"POST",action:i,style:"display:none"});"GET"!==n&&"POST"!==n&&r.append(e("<input>",{type:"hidden",name:"_method",value:n.toLowerCase()}));var s=t.data;if("string"==typeof s)e.each(s.split("&"),function(t,i){var n=i.split("=");r.append(e("<input>",{type:"hidden",name:n[0],value:n[1]}))});else if("object"==typeof s)for(key in s)r.append(e("<input>",{type:"hidden",name:key,value:s[key]}));e(document.body).append(r),r.submit()}function u(){return(new Date).getTime()}function c(e){return e.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function h(e){var t=document.createElement("a");return t.href=e,t}function d(t,i){return t&&i?i.container=t:i=e.isPlainObject(t)?t:{container:t},i.container&&(i.container=p(i.container)),i}function p(t){if(t=e(t),t.length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function f(e,t){return e.filter(t).add(e.find(t))}function m(t,i,n){var r={};if(r.url=c(i.getResponseHeader("X-PJAX-URL")||n.requestUrl),/<html/i.test(t))var s=e(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]),o=e(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]);else var s=o=e(t);if(0===o.length)return r;if(r.title=f(s,"title").last().text(),n.fragment){if("body"===n.fragment)var a=o;else var a=f(o,n.fragment).first();a.length&&(r.contents=a.contents(),r.title||(r.title=a.attr("title")||a.data("title")))}else/<html/i.test(t)||(r.contents=o);return r.contents&&(r.contents=r.contents.not("title"),r.contents.find("title").remove()),r.title&&(r.title=e.trim(r.title)),r}function g(e,t){for(w[e]=t,k.push(e);_.length;)delete w[_.shift()];for(;k.length>r.defaults.maxCacheLength;)delete w[k.shift()]}function v(e,t,i){var n,r;w[t]=i,"forward"===e?(n=k,r=_):(n=_,r=k),n.push(t),(t=r.pop())&&delete w[t]}function y(){e.fn.pjax=t,e.pjax=r,e.pjax.enable=e.noop,e.pjax.disable=b,e.pjax.click=i,e.pjax.submit=n,e.pjax.reload=s,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20},e(window).bind("popstate.pjax",a)}function b(){e.fn.pjax=function(){return this},e.pjax=l,e.pjax.enable=y,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).unbind("popstate.pjax",a)}var w={},_=[],k=[];e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),e.support.pjax?y():b()}(jQuery),function(){var e,t,i,n,r,s,o,a,l,u,c,h,d,p,f,m,g,v,y,b=[].slice,w=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};e=jQuery,e.payment={},e.payment.fn={},e.fn.payment=function(){var t,i;return i=arguments[0],t=2<=arguments.length?b.call(arguments,1):[],e.payment.fn[i].apply(this,t)},r=/(\d{1,4})/g,n=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:r,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:r,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:r,length:[13,14,15,16],cvcLength:[3],luhn:!0}],t=function(e){var t,i,r;for(e=(e+"").replace(/\D/g,""),i=0,r=n.length;r>i;i++)if(t=n[i],t.pattern.test(e))return t},i=function(e){var t,i,r;for(i=0,r=n.length;r>i;i++)if(t=n[i],t.type===e)return t},d=function(e){var t,i,n,r,s,o;for(n=!0,r=0,i=(e+"").split("").reverse(),s=0,o=i.length;o>s;s++)t=i[s],t=parseInt(t,10),(n=!n)&&(t*=2),t>9&&(t-=9),r+=t;return 0===r%10},h=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document?null!=(t=document.selection)?"function"==typeof t.createRange?t.createRange().text:void 0:void 0:void 0)?!0:!1},p=function(t){return setTimeout(function(){var i,n;return i=e(t.currentTarget),n=i.val(),n=e.payment.formatCardNumber(n),i.val(n)})},a=function(i){var n,r,s,o,a,l,u;return s=String.fromCharCode(i.which),!/^\d+$/.test(s)||(n=e(i.currentTarget),u=n.val(),r=t(u+s),o=(u.replace(/\D/g,"")+s).length,l=16,r&&(l=r.length[r.length.length-1]),o>=l||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==u.length)?void 0:(a=r&&"amex"===r.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,a.test(u)?(i.preventDefault(),n.val(u+" "+s)):a.test(u+s)?(i.preventDefault(),n.val(u+s+" ")):void 0)},s=function(t){var i,n;return i=e(t.currentTarget),n=i.val(),t.meta||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==n.length?void 0:8===t.which&&/\s\d?$/.test(n)?(t.preventDefault(),i.val(n.replace(/\s\d?$/,""))):void 0},l=function(t){var i,n,r;return n=String.fromCharCode(t.which),/^\d+$/.test(n)?(i=e(t.currentTarget),r=i.val()+n,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(t.preventDefault(),i.val("0"+r+" / ")):/^\d\d$/.test(r)?(t.preventDefault(),i.val(""+r+" / ")):void 0):void 0},u=function(t){var i,n,r;return n=String.fromCharCode(t.which),/^\d+$/.test(n)?(i=e(t.currentTarget),r=i.val(),/^\d\d$/.test(r)?i.val(""+r+" / "):void 0):void 0},c=function(t){var i,n,r;return n=String.fromCharCode(t.which),"/"===n?(i=e(t.currentTarget),r=i.val(),/^\d$/.test(r)&&"0"!==r?i.val("0"+r+" / "):void 0):void 0},o=function(t){var i,n;if(!t.meta&&(i=e(t.currentTarget),n=i.val(),8===t.which&&(null==i.prop("selectionStart")||i.prop("selectionStart")===n.length)))return/\s\/\s?\d?$/.test(n)?(t.preventDefault(),i.val(n.replace(/\s\/\s?\d?$/,""))):void 0},v=function(e){var t;return e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))},m=function(i){var n,r,s,o;return n=e(i.currentTarget),s=String.fromCharCode(i.which),/^\d+$/.test(s)&&!h(n)?(o=(n.val()+s).replace(/\D/g,""),r=t(o),r?o.length<=r.length[r.length.length-1]:o.length<=16):void 0},g=function(t){var i,n,r;return i=e(t.currentTarget),n=String.fromCharCode(t.which),/^\d+$/.test(n)&&!h(i)?(r=i.val()+n,r=r.replace(/\D/g,""),r.length>6?!1:void 0):void 0},f=function(t){var i,n,r;return i=e(t.currentTarget),n=String.fromCharCode(t.which),/^\d+$/.test(n)?(r=i.val()+n,r.length<=4):void 0},y=function(t){var i,r,s,o,a;return i=e(t.currentTarget),a=i.val(),o=e.payment.cardType(a)||"unknown",i.hasClass(o)?void 0:(r=function(){var e,t,i;for(i=[],e=0,t=n.length;t>e;e++)s=n[e],i.push(s.type);return i}(),i.removeClass("unknown"),i.removeClass(r.join(" ")),i.addClass(o),i.toggleClass("identified","unknown"!==o),i.trigger("payment.cardType",o))},e.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",f),this},e.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",g),this.on("keypress",l),this.on("keypress",c),this.on("keypress",u),this.on("keydown",o),this},e.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",m),this.on("keypress",a),this.on("keydown",s),this.on("keyup",y),this.on("paste",p),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this},e.payment.fn.cardExpiryVal=function(){return e.payment.cardExpiryVal(e(this).val())},e.payment.cardExpiryVal=function(e){var t,i,n,r;return e=e.replace(/\s/g,""),r=e.split("/",2),t=r[0],n=r[1],2===(null!=n?n.length:void 0)&&/^\d+$/.test(n)&&(i=(new Date).getFullYear(),i=i.toString().slice(0,2),n=i+n),t=parseInt(t,10),n=parseInt(n,10),{month:t,year:n}},e.payment.validateCardNumber=function(e){var i,n;return e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)?(i=t(e),i?(n=e.length,w.call(i.length,n)>=0&&(i.luhn===!1||d(e))):!1):!1},e.payment.validateCardExpiry=function(t,i){var n,r,s,o;return"object"==typeof t&&"month"in t&&(o=t,t=o.month,i=o.year),t&&i?(t=e.trim(t),i=e.trim(i),/^\d+$/.test(t)?/^\d+$/.test(i)?parseInt(t,10)<=12?(2===i.length&&(s=(new Date).getFullYear(),s=s.toString().slice(0,2),i=s+i),r=new Date(i,t),n=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>n):!1:!1:!1):!1},e.payment.validateCardCVC=function(t,n){var r,s;return t=e.trim(t),/^\d+$/.test(t)?n?(r=t.length,w.call(null!=(s=i(n))?s.cvcLength:void 0,r)>=0):t.length>=3&&t.length<=4:!1},e.payment.cardType=function(e){var i;return e?(null!=(i=t(e))?i.type:void 0)||null:null},e.payment.formatCardNumber=function(e){var i,n,r,s;return(i=t(e))?(r=i.length[i.length.length-1],e=e.replace(/\D/g,""),e=e.slice(0,+r+1||9e9),i.format.global?null!=(s=e.match(i.format))?s.join(" "):void 0:(n=i.format.exec(e),null!=n&&n.shift(),null!=n?n.join(" "):void 0)):e}}.call(this),function(e,t,i){function n(e){var t={},n=/^jQuery\d+$/;return i.each(e.attributes,function(e,i){i.specified&&!n.test(i.name)&&(t[i.name]=i.value)}),t}function r(e,t){var n=this,r=i(n);if(n.value==r.attr("placeholder")&&r.hasClass("placeholder"))if(r.data("placeholder-password")){if(r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id")),e===!0)return r[0].value=t;r.focus()}else n.value="",r.removeClass("placeholder"),n==o()&&n.select()}function s(){var e,t=this,s=i(t),o=this.id;if(""==t.value){if("password"==t.type){if(!s.data("placeholder-textinput")){try{e=s.clone().attr({type:"text"})}catch(a){e=i("<input>").attr(i.extend(n(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":s,"placeholder-id":o}).bind("focus.placeholder",r),s.data({"placeholder-textinput":e,"placeholder-id":o}).before(e)}s=s.removeAttr("id").hide().prev().attr("id",o).show()}s.addClass("placeholder"),s[0].value=s.attr("placeholder")}else s.removeClass("placeholder")}function o(){try{return t.activeElement}catch(e){}}var a,l,u="placeholder"in t.createElement("input"),c="placeholder"in t.createElement("textarea"),h=i.fn,d=i.valHooks,p=i.propHooks;u&&c?(l=h.placeholder=function(){return this},l.input=l.textarea=!0):(l=h.placeholder=function(){var e=this;return e.filter((u?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":s}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},l.input=u,l.textarea=c,a={get:function(e){var t=i(e),n=t.data("placeholder-password");return n?n[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var n=i(e),a=n.data("placeholder-password");return a?a[0].value=t:n.data("placeholder-enabled")?(""==t?(e.value=t,e!=o()&&s.call(e)):n.hasClass("placeholder")?r.call(e,!0,t)||(e.value=t):e.value=t,n):e.value=t}},u||(d.input=a,p.value=a),c||(d.textarea=a,p.value=a),i(function(){i(t).delegate("form","submit.placeholder",function(){var e=i(".placeholder",this).each(r);setTimeout(function(){e.each(s)},10)})}),i(e).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),/*
 * jQuery Hotkeys Plugin
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Based upon the plugin by Tzury Bar Yochay:
 * http://github.com/tzuryby/hotkeys
 *
 * Original idea by:
 * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/
*/
function(e){function t(t){if("string"==typeof t.data){var i=t.handler,n=t.data.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!/textarea|select/i.test(t.target.nodeName)&&"text"!==t.target.type){var r="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],s=String.fromCharCode(t.which).toLowerCase(),o="",a={};t.altKey&&"alt"!==r&&(o+="alt+"),t.ctrlKey&&"ctrl"!==r&&(o+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==r&&(o+="meta+"),t.shiftKey&&"shift"!==r&&(o+="shift+"),r?a[o+r]=!0:(a[o+s]=!0,a[o+e.hotkeys.shiftNums[s]]=!0,"shift+"===o&&(a[e.hotkeys.shiftNums[s]]=!0));for(var l=0,u=n.length;u>l;l++)if(a[n[l]])return i.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(jQuery),/*!
 * Tinycon - A small library for manipulating the Favicon
 * Tom Moor, http://tommoor.com
 * Copyright (c) 2012 Tom Moor
 * @license MIT Licensed
 * @version 0.6.1
 */
function(){var e={},t=null,i=null,n=document.title,r=null,s=null,o={},a=window.devicePixelRatio||1,l=16*a,u={width:7,height:9,font:10*a+"px arial",colour:"#ffffff",background:"#F03D25",fallback:!0,crossOrigin:!0,abbreviate:!0},c=function(){var e=navigator.userAgent.toLowerCase();return function(t){return-1!==e.indexOf(t)}}(),h={ie:c("msie"),chrome:c("chrome"),webkit:c("chrome")||c("safari"),safari:c("safari")&&!c("chrome"),mozilla:c("mozilla")&&!c("chrome")&&!c("safari")},d=function(){for(var e=document.getElementsByTagName("link"),t=0,i=e.length;i>t;t++)if((e[t].getAttribute("rel")||"").match(/\bicon\b/))return e[t];return!1},p=function(){for(var e=document.getElementsByTagName("link"),t=document.getElementsByTagName("head")[0],i=0,n=e.length;n>i;i++){var r="undefined"!=typeof e[i];r&&(e[i].getAttribute("rel")||"").match(/\bicon\b/)&&t.removeChild(e[i])}},f=function(){if(!i||!t){var e=d();i=t=e?e.getAttribute("href"):"/favicon.ico"}return t},m=function(){return s||(s=document.createElement("canvas"),s.width=l,s.height=l),s},g=function(e){p();var t=document.createElement("link");t.type="image/x-icon",t.rel="icon",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},v=function(e,t){if(!m().getContext||h.ie||h.safari||"force"===o.fallback)return y(e);var i=m().getContext("2d"),t=t||"#000000",n=f();r=document.createElement("img"),r.onload=function(){i.clearRect(0,0,l,l),i.drawImage(r,0,0,r.width,r.height,0,0,l,l),(e+"").length>0&&b(i,e,t),w()},!n.match(/^data/)&&o.crossOrigin&&(r.crossOrigin="anonymous"),r.src=n},y=function(e){o.fallback&&(document.title=(e+"").length>0?"("+e+") "+n:n)},b=function(e,t){"number"==typeof t&&t>99&&o.abbreviate&&(t=_(t));var i=(t+"").length-1,n=o.width*a+6*a*i,r=o.height*a,s=l-r,u=l-n-a,c=16*a,d=16*a,p=2*a;e.font=(h.webkit?"bold ":"")+o.font,e.fillStyle=o.background,e.strokeStyle=o.background,e.lineWidth=a,e.beginPath(),e.moveTo(u+p,s),e.quadraticCurveTo(u,s,u,s+p),e.lineTo(u,c-p),e.quadraticCurveTo(u,c,u+p,c),e.lineTo(d-p,c),e.quadraticCurveTo(d,c,d,c-p),e.lineTo(d,s+p),e.quadraticCurveTo(d,s,d-p,s),e.closePath(),e.fill(),e.beginPath(),e.strokeStyle="rgba(0,0,0,0.3)",e.moveTo(u+p/2,c),e.lineTo(d-p/2,c),e.stroke(),e.fillStyle=o.colour,e.textAlign="right",e.textBaseline="top",e.fillText(t,2===a?29:15,h.mozilla?7*a:6*a)},w=function(){m().getContext&&g(m().toDataURL())},_=function(e){for(var t=[["G",1e9],["M",1e6],["k",1e3]],i=0;i<t.length;++i)if(e>=t[i][1]){e=k(e/t[i][1])+t[i][0];break}return e},k=function(e,t){var i=new Number(e);return i.toFixed(t)};e.setOptions=function(e){o={};for(var t in u)o[t]=e.hasOwnProperty(t)?e[t]:u[t];return this},e.setImage=function(e){return t=e,w(),this},e.setBubble=function(e,t){return e=e||"",v(e,t),this},e.reset=function(){g(i)},e.setOptions(u),window.Tinycon=e}();var Chart=function(e){function t(e,t,i){return e=s((e-t.graphMin)/(t.steps*t.stepValue),1,0),i*t.steps*e}function i(e,t,i,n){function r(){l+=o;var u=e.animation?s(a(l),null,0):1;n.clearRect(0,0,c,h),e.scaleOverlay?(i(u),t()):(t(),i(u)),1>=l?y(r):"function"==typeof e.onAnimationComplete&&e.onAnimationComplete()}var o=e.animation?1/s(e.animationSteps,Number.MAX_VALUE,1):1,a=u[e.animationEasing],l=e.animation?0:1;"function"!=typeof t&&(t=function(){}),y(r)}function n(e,t,i,n,s,o){var a;for(e=Math.floor(Math.log(n-s)/Math.LN10),s=Math.floor(s/(1*Math.pow(10,e)))*Math.pow(10,e),n=Math.ceil(n/(1*Math.pow(10,e)))*Math.pow(10,e)-s,e=Math.pow(10,e),a=Math.round(n/e);i>a||a>t;)e=i>a?e/2:2*e,a=Math.round(n/e);return t=[],r(o,t,a,s,e),{steps:a,stepValue:e,graphMin:s,labels:t}}function r(e,t,i,n,r){if(e)for(var s=1;i+1>s;s++)t.push(a(e,{value:(n+r*s).toFixed(0!=r%1?r.toString().split(".")[1].length:0)}))}function s(e,t,i){return!isNaN(parseFloat(t))&&isFinite(t)&&e>t?t:!isNaN(parseFloat(i))&&isFinite(i)&&i>e?i:e}function o(e,t){var i,n={};for(i in e)n[i]=e[i];for(i in t)n[i]=t[i];return n}function a(e,t){var i=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):b[e]=b[e]||a(document.getElementById(e).innerHTML);return t?i(t):i}var l=this,u={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return 1>(e/=.5)?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return 1>(e/=.5)?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return 1>(e/=.5)?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return 1>(e/=.5)?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0==e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1==e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0==e?0:1==e?1:1>(e/=.5)?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return 1>(e/=.5)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,i=0,n=1;return 0==e?0:1==(e/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),-(n*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/i)))},easeOutElastic:function(e){var t=1.70158,i=0,n=1;return 0==e?0:1==(e/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/i)+1)},easeInOutElastic:function(e){var t=1.70158,i=0,n=1;return 0==e?0:2==(e/=.5)?1:(i||(i=.3*1.5),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),1>e?-.5*n*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/i):.5*n*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/i)+1)},easeInBack:function(e){return 1*(e/=1)*e*(2.70158*e-1.70158)},easeOutBack:function(e){return 1*((e=e/1-1)*e*(2.70158*e+1.70158)+1)},easeInOutBack:function(e){var t=1.70158;return 1>(e/=.5)?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-u.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*u.easeInBounce(2*e):.5*u.easeOutBounce(2*e-1)+.5}},c=e.canvas.width,h=e.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=c+"px",e.canvas.style.height=h+"px",e.canvas.height=h*window.devicePixelRatio,e.canvas.width=c*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(t,i){l.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var n=i?o(l.PolarArea.defaults,i):l.PolarArea.defaults;return new d(t,n,e)},this.Radar=function(t,i){l.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var n=i?o(l.Radar.defaults,i):l.Radar.defaults;return new p(t,n,e)},this.Pie=function(t,i){l.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var n=i?o(l.Pie.defaults,i):l.Pie.defaults;return new f(t,n,e)},this.Doughnut=function(t,i){l.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var n=i?o(l.Doughnut.defaults,i):l.Doughnut.defaults;return new m(t,n,e)},this.Line=function(t,i){l.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var n=i?o(l.Line.defaults,i):l.Line.defaults;return new g(t,n,e)},this.Bar=function(t,i){l.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var n=i?o(l.Bar.defaults,i):l.Bar.defaults;return new v(t,n,e)};var d=function(e,s,o){var a,l,u,d,p,f,m,g,v;for(p=Math.min.apply(Math,[c,h])/2,p-=Math.max.apply(Math,[.5*s.scaleFontSize,.5*s.scaleLineWidth]),d=2*s.scaleFontSize,s.scaleShowLabelBackdrop&&(d+=2*s.scaleBackdropPaddingY,p-=1.5*s.scaleBackdropPaddingY),g=p,d=d?d:5,a=Number.MIN_VALUE,l=Number.MAX_VALUE,u=0;u<e.length;u++)e[u].value>a&&(a=e[u].value),e[u].value<l&&(l=e[u].value);u=Math.floor(g/(.66*d)),d=Math.floor(.5*(g/d)),v=s.scaleShowLabels?s.scaleLabel:null,s.scaleOverride?(m={steps:s.scaleSteps,stepValue:s.scaleStepWidth,graphMin:s.scaleStartValue,labels:[]},r(v,m.labels,m.steps,s.scaleStartValue,s.scaleStepWidth)):m=n(g,u,d,a,l,v),f=p/m.steps,i(s,function(){for(var e=0;e<m.steps;e++)if(s.scaleShowLine&&(o.beginPath(),o.arc(c/2,h/2,f*(e+1),0,2*Math.PI,!0),o.strokeStyle=s.scaleLineColor,o.lineWidth=s.scaleLineWidth,o.stroke()),s.scaleShowLabels){o.textAlign="center",o.font=s.scaleFontStyle+" "+s.scaleFontSize+"px "+s.scaleFontFamily;var t=m.labels[e];if(s.scaleShowLabelBackdrop){var i=o.measureText(t).width;o.fillStyle=s.scaleBackdropColor,o.beginPath(),o.rect(Math.round(c/2-i/2-s.scaleBackdropPaddingX),Math.round(h/2-f*(e+1)-.5*s.scaleFontSize-s.scaleBackdropPaddingY),Math.round(i+2*s.scaleBackdropPaddingX),Math.round(s.scaleFontSize+2*s.scaleBackdropPaddingY)),o.fill()}o.textBaseline="middle",o.fillStyle=s.scaleFontColor,o.fillText(t,c/2,h/2-f*(e+1))}},function(i){var n=-Math.PI/2,r=2*Math.PI/e.length,a=1,l=1;for(s.animation&&(s.animateScale&&(a=i),s.animateRotate&&(l=i)),i=0;i<e.length;i++)o.beginPath(),o.arc(c/2,h/2,a*t(e[i].value,m,f),n,n+l*r,!1),o.lineTo(c/2,h/2),o.closePath(),o.fillStyle=e[i].color,o.fill(),s.segmentShowStroke&&(o.strokeStyle=s.segmentStrokeColor,o.lineWidth=s.segmentStrokeWidth,o.stroke()),n+=l*r},o)},p=function(e,o,a){var l,u,d,p,f,m,g,v,y;for(e.labels||(e.labels=[]),f=Math.min.apply(Math,[c,h])/2,p=2*o.scaleFontSize,l=v=0;l<e.labels.length;l++)a.font=o.pointLabelFontStyle+" "+o.pointLabelFontSize+"px "+o.pointLabelFontFamily,u=a.measureText(e.labels[l]).width,u>v&&(v=u);for(f-=Math.max.apply(Math,[v,1.5*(o.pointLabelFontSize/2)]),f-=o.pointLabelFontSize,v=f=s(f,null,0),p=p?p:5,l=Number.MIN_VALUE,u=Number.MAX_VALUE,d=0;d<e.datasets.length;d++)for(y=0;y<e.datasets[d].data.length;y++)e.datasets[d].data[y]>l&&(l=e.datasets[d].data[y]),e.datasets[d].data[y]<u&&(u=e.datasets[d].data[y]);d=Math.floor(v/(.66*p)),p=Math.floor(.5*(v/p)),y=o.scaleShowLabels?o.scaleLabel:null,o.scaleOverride?(g={steps:o.scaleSteps,stepValue:o.scaleStepWidth,graphMin:o.scaleStartValue,labels:[]},r(y,g.labels,g.steps,o.scaleStartValue,o.scaleStepWidth)):g=n(v,d,p,l,u,y),m=f/g.steps,i(o,function(){var t=2*Math.PI/e.datasets[0].data.length;if(a.save(),a.translate(c/2,h/2),o.angleShowLineOut){a.strokeStyle=o.angleLineColor,a.lineWidth=o.angleLineWidth;for(var i=0;i<e.datasets[0].data.length;i++)a.rotate(t),a.beginPath(),a.moveTo(0,0),a.lineTo(0,-f),a.stroke()}for(i=0;i<g.steps;i++){if(a.beginPath(),o.scaleShowLine){a.strokeStyle=o.scaleLineColor,a.lineWidth=o.scaleLineWidth,a.moveTo(0,-m*(i+1));for(var n=0;n<e.datasets[0].data.length;n++)a.rotate(t),a.lineTo(0,-m*(i+1));a.closePath(),a.stroke()}o.scaleShowLabels&&(a.textAlign="center",a.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily,a.textBaseline="middle",o.scaleShowLabelBackdrop&&(n=a.measureText(g.labels[i]).width,a.fillStyle=o.scaleBackdropColor,a.beginPath(),a.rect(Math.round(-n/2-o.scaleBackdropPaddingX),Math.round(-m*(i+1)-.5*o.scaleFontSize-o.scaleBackdropPaddingY),Math.round(n+2*o.scaleBackdropPaddingX),Math.round(o.scaleFontSize+2*o.scaleBackdropPaddingY)),a.fill()),a.fillStyle=o.scaleFontColor,a.fillText(g.labels[i],0,-m*(i+1)))}for(i=0;i<e.labels.length;i++){a.font=o.pointLabelFontStyle+" "+o.pointLabelFontSize+"px "+o.pointLabelFontFamily,a.fillStyle=o.pointLabelFontColor;var n=Math.sin(t*i)*(f+o.pointLabelFontSize),r=Math.cos(t*i)*(f+o.pointLabelFontSize);a.textAlign=t*i==Math.PI||0==t*i?"center":t*i>Math.PI?"right":"left",a.textBaseline="middle",a.fillText(e.labels[i],n,-r)}a.restore()},function(i){var n=2*Math.PI/e.datasets[0].data.length;a.save(),a.translate(c/2,h/2);for(var r=0;r<e.datasets.length;r++){a.beginPath(),a.moveTo(0,-1*i*t(e.datasets[r].data[0],g,m));for(var s=1;s<e.datasets[r].data.length;s++)a.rotate(n),a.lineTo(0,-1*i*t(e.datasets[r].data[s],g,m));if(a.closePath(),a.fillStyle=e.datasets[r].fillColor,a.strokeStyle=e.datasets[r].strokeColor,a.lineWidth=o.datasetStrokeWidth,a.fill(),a.stroke(),o.pointDot)for(a.fillStyle=e.datasets[r].pointColor,a.strokeStyle=e.datasets[r].pointStrokeColor,a.lineWidth=o.pointDotStrokeWidth,s=0;s<e.datasets[r].data.length;s++)a.rotate(n),a.beginPath(),a.arc(0,-1*i*t(e.datasets[r].data[s],g,m),o.pointDotRadius,2*Math.PI,!1),a.fill(),a.stroke();a.rotate(n)}a.restore()},a)},f=function(e,t,n){for(var r=0,s=Math.min.apply(Math,[h/2,c/2])-5,o=0;o<e.length;o++)r+=e[o].value;i(t,null,function(i){var o=-Math.PI/2,a=1,l=1;for(t.animation&&(t.animateScale&&(a=i),t.animateRotate&&(l=i)),i=0;i<e.length;i++){var u=2*(l*e[i].value/r)*Math.PI;n.beginPath(),n.arc(c/2,h/2,a*s,o,o+u),n.lineTo(c/2,h/2),n.closePath(),n.fillStyle=e[i].color,n.fill(),t.segmentShowStroke&&(n.lineWidth=t.segmentStrokeWidth,n.strokeStyle=t.segmentStrokeColor,n.stroke()),o+=u}},n)},m=function(e,t,n){for(var r=0,s=Math.min.apply(Math,[h/2,c/2])-5,o=s*(t.percentageInnerCutout/100),a=0;a<e.length;a++)r+=e[a].value;i(t,null,function(i){var a=-Math.PI/2,l=1,u=1;for(t.animation&&(t.animateScale&&(l=i),t.animateRotate&&(u=i)),i=0;i<e.length;i++){var d=2*(u*e[i].value/r)*Math.PI;n.beginPath(),n.arc(c/2,h/2,l*s,a,a+d,!1),n.arc(c/2,h/2,l*o,a+d,a,!0),n.closePath(),n.fillStyle=e[i].color,n.fill(),t.segmentShowStroke&&(n.lineWidth=t.segmentStrokeWidth,n.strokeStyle=t.segmentStrokeColor,n.stroke()),a+=d}},n)},g=function(e,s,o){var a,l,u,d,p,f,m,g,v,y,b,w,_,k=0;for(p=h,o.font=s.scaleFontStyle+" "+s.scaleFontSize+"px "+s.scaleFontFamily,y=1,d=0;d<e.labels.length;d++)a=o.measureText(e.labels[d]).width,y=a>y?a:y;for(c/e.labels.length<y?(k=45,c/e.labels.length<Math.cos(k)*y?(k=90,p-=y):p-=Math.sin(k)*y):p-=s.scaleFontSize,d=s.scaleFontSize,p=p-5-d,a=Number.MIN_VALUE,l=Number.MAX_VALUE,u=0;u<e.datasets.length;u++)for(g=0;g<e.datasets[u].data.length;g++)e.datasets[u].data[g]>a&&(a=e.datasets[u].data[g]),e.datasets[u].data[g]<l&&(l=e.datasets[u].data[g]);if(u=Math.floor(p/(.66*d)),d=Math.floor(.5*(p/d)),g=s.scaleShowLabels?s.scaleLabel:"",s.scaleOverride?(m={steps:s.scaleSteps,stepValue:s.scaleStepWidth,graphMin:s.scaleStartValue,labels:[]},r(g,m.labels,m.steps,s.scaleStartValue,s.scaleStepWidth)):m=n(p,u,d,a,l,g),f=Math.floor(p/m.steps),d=1,s.scaleShowLabels){for(o.font=s.scaleFontStyle+" "+s.scaleFontSize+"px "+s.scaleFontFamily,a=0;a<m.labels.length;a++)l=o.measureText(m.labels[a]).width,d=l>d?l:d;d+=10}b=c-d-y,v=Math.floor(b/(e.labels.length-1)),w=c-y/2-b,_=p+s.scaleFontSize/2,i(s,function(){o.lineWidth=s.scaleLineWidth,o.strokeStyle=s.scaleLineColor,o.beginPath(),o.moveTo(c-y/2+5,_),o.lineTo(c-y/2-b-5,_),o.stroke(),k>0?(o.save(),o.textAlign="right"):o.textAlign="center",o.fillStyle=s.scaleFontColor;for(var t=0;t<e.labels.length;t++)o.save(),k>0?(o.translate(w+t*v,_+s.scaleFontSize),o.rotate(-(k*(Math.PI/180))),o.fillText(e.labels[t],0,0),o.restore()):o.fillText(e.labels[t],w+t*v,_+s.scaleFontSize+3),o.beginPath(),o.moveTo(w+t*v,_+3),s.scaleShowGridLines&&t>0?(o.lineWidth=s.scaleGridLineWidth,o.strokeStyle=s.scaleGridLineColor,o.lineTo(w+t*v,5)):o.lineTo(w+t*v,_+3),o.stroke();for(o.lineWidth=s.scaleLineWidth,o.strokeStyle=s.scaleLineColor,o.beginPath(),o.moveTo(w,_+5),o.lineTo(w,5),o.stroke(),o.textAlign="right",o.textBaseline="middle",t=0;t<m.steps;t++)o.beginPath(),o.moveTo(w-3,_-(t+1)*f),s.scaleShowGridLines?(o.lineWidth=s.scaleGridLineWidth,o.strokeStyle=s.scaleGridLineColor,o.lineTo(w+b+5,_-(t+1)*f)):o.lineTo(w-.5,_-(t+1)*f),o.stroke(),s.scaleShowLabels&&o.fillText(m.labels[t],w-8,_-(t+1)*f)},function(i){function n(n,r){return _-i*t(e.datasets[n].data[r],m,f)}for(var r=0;r<e.datasets.length;r++){o.strokeStyle=e.datasets[r].strokeColor,o.lineWidth=s.datasetStrokeWidth,o.beginPath(),o.moveTo(w,_-i*t(e.datasets[r].data[0],m,f));for(var a=1;a<e.datasets[r].data.length;a++)s.bezierCurve?o.bezierCurveTo(w+v*(a-.5),n(r,a-1),w+v*(a-.5),n(r,a),w+v*a,n(r,a)):o.lineTo(w+v*a,n(r,a));if(o.stroke(),s.datasetFill?(o.lineTo(w+v*(e.datasets[r].data.length-1),_),o.lineTo(w,_),o.closePath(),o.fillStyle=e.datasets[r].fillColor,o.fill()):o.closePath(),s.pointDot)for(o.fillStyle=e.datasets[r].pointColor,o.strokeStyle=e.datasets[r].pointStrokeColor,o.lineWidth=s.pointDotStrokeWidth,a=0;a<e.datasets[r].data.length;a++)o.beginPath(),o.arc(w+v*a,_-i*t(e.datasets[r].data[a],m,f),s.pointDotRadius,0,2*Math.PI,!0),o.fill(),o.stroke()}},o)},v=function(e,s,o){var a,l,u,d,p,f,m,g,v,y,b,w,_,k,x=0;for(p=h,o.font=s.scaleFontStyle+" "+s.scaleFontSize+"px "+s.scaleFontFamily,y=1,d=0;d<e.labels.length;d++)a=o.measureText(e.labels[d]).width,y=a>y?a:y;for(c/e.labels.length<y?(x=45,c/e.labels.length<Math.cos(x)*y?(x=90,p-=y):p-=Math.sin(x)*y):p-=s.scaleFontSize,d=s.scaleFontSize,p=p-5-d,a=Number.MIN_VALUE,l=Number.MAX_VALUE,u=0;u<e.datasets.length;u++)for(g=0;g<e.datasets[u].data.length;g++)e.datasets[u].data[g]>a&&(a=e.datasets[u].data[g]),e.datasets[u].data[g]<l&&(l=e.datasets[u].data[g]);if(u=Math.floor(p/(.66*d)),d=Math.floor(.5*(p/d)),g=s.scaleShowLabels?s.scaleLabel:"",s.scaleOverride?(m={steps:s.scaleSteps,stepValue:s.scaleStepWidth,graphMin:s.scaleStartValue,labels:[]},r(g,m.labels,m.steps,s.scaleStartValue,s.scaleStepWidth)):m=n(p,u,d,a,l,g),f=Math.floor(p/m.steps),d=1,s.scaleShowLabels){for(o.font=s.scaleFontStyle+" "+s.scaleFontSize+"px "+s.scaleFontFamily,a=0;a<m.labels.length;a++)l=o.measureText(m.labels[a]).width,d=l>d?l:d;d+=10}b=c-d-y,v=Math.floor(b/e.labels.length),k=(v-2*s.scaleGridLineWidth-2*s.barValueSpacing-(s.barDatasetSpacing*e.datasets.length-1)-(s.barStrokeWidth/2*e.datasets.length-1))/e.datasets.length,w=c-y/2-b,_=p+s.scaleFontSize/2,i(s,function(){o.lineWidth=s.scaleLineWidth,o.strokeStyle=s.scaleLineColor,o.beginPath(),o.moveTo(c-y/2+5,_),o.lineTo(c-y/2-b-5,_),o.stroke(),x>0?(o.save(),o.textAlign="right"):o.textAlign="center",o.fillStyle=s.scaleFontColor;for(var t=0;t<e.labels.length;t++)o.save(),x>0?(o.translate(w+t*v,_+s.scaleFontSize),o.rotate(-(x*(Math.PI/180))),o.fillText(e.labels[t],0,0),o.restore()):o.fillText(e.labels[t],w+t*v+v/2,_+s.scaleFontSize+3),o.beginPath(),o.moveTo(w+(t+1)*v,_+3),o.lineWidth=s.scaleGridLineWidth,o.strokeStyle=s.scaleGridLineColor,o.lineTo(w+(t+1)*v,5),o.stroke();for(o.lineWidth=s.scaleLineWidth,o.strokeStyle=s.scaleLineColor,o.beginPath(),o.moveTo(w,_+5),o.lineTo(w,5),o.stroke(),o.textAlign="right",o.textBaseline="middle",t=0;t<m.steps;t++)o.beginPath(),o.moveTo(w-3,_-(t+1)*f),s.scaleShowGridLines?(o.lineWidth=s.scaleGridLineWidth,o.strokeStyle=s.scaleGridLineColor,o.lineTo(w+b+5,_-(t+1)*f)):o.lineTo(w-.5,_-(t+1)*f),o.stroke(),s.scaleShowLabels&&o.fillText(m.labels[t],w-8,_-(t+1)*f)},function(i){o.lineWidth=s.barStrokeWidth;for(var n=0;n<e.datasets.length;n++){o.fillStyle=e.datasets[n].fillColor,o.strokeStyle=e.datasets[n].strokeColor;for(var r=0;r<e.datasets[n].data.length;r++){var a=w+s.barValueSpacing+v*r+k*n+s.barDatasetSpacing*n+s.barStrokeWidth*n;o.beginPath(),o.moveTo(a,_),o.lineTo(a,_-i*t(e.datasets[n].data[r],m,f)+s.barStrokeWidth/2),o.lineTo(a+k,_-i*t(e.datasets[n].data[r],m,f)+s.barStrokeWidth/2),o.lineTo(a+k,_),s.barShowStroke&&o.stroke(),o.closePath(),o.fill()}}},o)},y=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},b={}};window.CodeMirror=function(){"use strict";function e(r,s){if(!(this instanceof e))return new e(r,s);this.options=s=s||{};for(var a in or)!s.hasOwnProperty(a)&&or.hasOwnProperty(a)&&(s[a]=or[a]);h(s);var u=this.display=t(r);u.wrapper.CodeMirror=this,l(this),s.autofocus&&!qn&&et(this),this.view=i(new Fi([new Ni([_i("",null,q(u))])])),this.nextOpId=0,n(this),o(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),this.setValue(s.value||""),An&&setTimeout(dn(Z,this,!0),20),this.view.history=Bi(),it(this);var c;try{c=document.activeElement==u.input}catch(d){}c||s.autofocus&&!qn?setTimeout(dn(yt,this),20):bt(this),Q(this,function(){for(var e in sr)sr.propertyIsEnumerable(e)&&sr[e](this,s[e],ar);for(var t=0;t<hr.length;++t)hr[t](this)})()}function t(e){var t={},i=t.input=mn("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");Nn?i.style.width="1000px":i.setAttribute("wrap","off"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),t.inputDiv=mn("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),t.scrollbarH=mn("div",[mn("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),t.scrollbarV=mn("div",[mn("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),t.scrollbarFiller=mn("div",null,"CodeMirror-scrollbar-filler"),t.lineDiv=mn("div"),t.selectionDiv=mn("div",null,null,"position: relative; z-index: 1"),t.cursor=mn("div"," ","CodeMirror-cursor"),t.otherCursor=mn("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),t.measure=mn("div",null,"CodeMirror-measure"),t.lineSpace=mn("div",[t.measure,t.selectionDiv,t.lineDiv,t.cursor,t.otherCursor],null,"position: relative; outline: none"),t.mover=mn("div",[mn("div",[t.lineSpace],"CodeMirror-lines")],null,"position: relative"),t.sizer=mn("div",[t.mover],"CodeMirror-sizer"),t.heightForcer=mn("div"," ",null,"position: absolute; height: "+vr+"px"),t.gutters=mn("div",null,"CodeMirror-gutters"),t.lineGutter=null;var n=mn("div",[t.sizer,t.heightForcer,t.gutters],null,"position: relative; min-height: 100%");return t.scroller=mn("div",[n],"CodeMirror-scroll"),t.scroller.setAttribute("tabIndex","-1"),t.wrapper=mn("div",[t.inputDiv,t.scrollbarH,t.scrollbarV,t.scrollbarFiller,t.scroller],"CodeMirror"),$n&&(t.gutters.style.zIndex=-1,t.scroller.style.paddingRight=0),e.appendChild?e.appendChild(t.wrapper):e(t.wrapper),Bn&&(i.style.width="0px"),Nn||(t.scroller.draggable=!0),On?(t.inputDiv.style.height="1px",t.inputDiv.style.position="absolute"):$n&&(t.scrollbarH.style.minWidth=t.scrollbarV.style.minWidth="18px"),t.viewOffset=t.showingFrom=t.showingTo=t.lastSizeC=0,t.lineNumWidth=t.lineNumInnerWidth=t.lineNumChars=null,t.prevInput="",t.alignWidgets=!1,t.pollingFast=!1,t.poll=new sn,t.draggingText=!1,t.cachedCharWidth=t.cachedTextHeight=null,t.measureLineCache=[],t.measureLineCachePos=0,t.inaccurateSelection=!1,t.pasteIncoming=!1,t.wheelDX=t.wheelDY=t.wheelStartX=t.wheelStartY=null,t}function i(e){var t={line:0,ch:0};return{doc:e,frontier:0,highlight:new sn,sel:{from:t,to:t,head:t,anchor:t,shift:!1,extend:!1},scrollTop:0,scrollLeft:0,overwrite:!1,focused:!1,maxLine:Ii(e,0),maxLineLength:0,maxLineChanged:!1,suppressEdits:!1,goalColumn:null,cantEdit:!1,keyMaps:[],overlays:[],modeGen:0}}function n(t){var i=t.view.doc;t.view.mode=e.getMode(t.options,t.options.mode),i.iter(0,i.size,function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.view.frontier=0,D(t,100),t.view.modeGen++,t.curOp&&K(t,0,i.size)}function r(e){var t=e.view.doc,i=q(e.display);if(e.options.lineWrapping){e.display.wrapper.className+=" CodeMirror-wrap";var n=e.display.scroller.clientWidth/U(e.display)-3;t.iter(0,t.size,function(e){if(0!=e.height){var t=Math.ceil(e.text.length/n)||1;1!=t&&Li(e,t*i)}}),e.display.sizer.style.minWidth=""}else e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-wrap",""),c(e.view),t.iter(0,t.size,function(e){0!=e.height&&Li(e,i)});K(e,0,t.size),z(e),setTimeout(function(){d(e.display,e.view.doc.height)},100)}function s(e){var t=pr[e.options.keyMap].style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function o(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),z(e)}function a(e){l(e),y(e,!0)}function l(e){var t=e.display.gutters,i=e.options.gutters;gn(t);for(var n=0;n<i.length;++n){var r=i[n],s=t.appendChild(mn("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none"}function u(e,t){if(0==t.height)return 0;for(var i,n=t.text.length,r=t;i=li(r);){var s=i.find();r=Ii(e,s.from.line),n+=s.from.ch-s.to.ch}for(r=t;i=ui(r);){var s=i.find();n-=r.text.length-s.from.ch,r=Ii(e,s.to.line),n+=r.text.length-s.to.ch}return n}function c(e){e.maxLine=Ii(e.doc,0),e.maxLineLength=u(e.doc,e.maxLine),e.maxLineChanged=!0,e.doc.iter(1,e.doc.size,function(t){var i=u(e.doc,t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)})}function h(e){for(var t=!1,i=0;i<e.gutters.length;++i)"CodeMirror-linenumbers"==e.gutters[i]&&(e.lineNumbers?t=!0:e.gutters.splice(i--,1));!t&&e.lineNumbers&&e.gutters.push("CodeMirror-linenumbers")}function d(e,t){var i=t+2*P(e);e.sizer.style.minHeight=e.heightForcer.style.top=i+"px";var n=Math.max(i,e.scroller.scrollHeight),r=e.scroller.scrollWidth>e.scroller.clientWidth,s=n>e.scroller.clientHeight;s?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=r?bn(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=n-e.scroller.clientHeight+e.scrollbarV.clientHeight+"px"):e.scrollbarV.style.display="",r?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=s?bn(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):e.scrollbarH.style.display="",r&&s?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=bn(e.measure)+"px"):e.scrollbarFiller.style.display="",Hn&&0===bn(e.measure)&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=Wn?"18px":"12px")}function p(e,t,i){var n=e.scroller.scrollTop,r=e.wrapper.clientHeight;"number"==typeof i?n=i:i&&(n=i.top,r=i.bottom-i.top),n=Math.floor(n-P(e));var s=Math.ceil(n+r);return{from:Hi(t,n),to:Hi(t,s)}}function f(e){var t=e.display;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=v(t)-t.scroller.scrollLeft+e.view.scrollLeft,n=t.gutters.offsetWidth,r=i+"px",s=t.lineDiv.firstChild;s;s=s.nextSibling)if(s.alignable)for(var o=0,a=s.alignable;o<a.length;++o)a[o].style.left=r;e.options.fixedGutter&&(t.gutters.style.left=i+n+"px")}}function m(e){if(!e.options.lineNumbers)return!1;var t=e.view.doc,i=g(e.options,t.size-1),n=e.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(mn("div",[mn("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=r.firstChild.offsetWidth,o=r.offsetWidth-s;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(s,n.lineGutter.offsetWidth-o),n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",!0}return!1}function g(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function v(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function y(e,t,i){var n=e.display.showingFrom,r=e.display.showingTo,s=b(e,t,i);return s&&(nn(e,e,"update",e),(e.display.showingFrom!=n||e.display.showingTo!=r)&&nn(e,e,"viewportChange",e,e.display.showingFrom,e.display.showingTo)),T(e),d(e.display,e.view.doc.height),s}function b(e,t,i){var n=e.display,r=e.view.doc;if(!n.wrapper.clientWidth)return n.showingFrom=n.showingTo=n.viewOffset=0,void 0;var s=p(n,r,i);if(!(t!==!0&&0==t.length&&s.from>n.showingFrom&&s.to<n.showingTo)){t&&m(e)&&(t=!0);var o=n.sizer.style.marginLeft=n.gutters.offsetWidth+"px";if(n.scrollbarH.style.left=e.options.fixedGutter?o:"0",t!==!0&&Zn)for(var a=0;a<t.length;++a)for(var l,u=t[a];l=li(Ii(r,u.from));){var c=l.find().from.line;u.diff&&(u.diff-=u.from-c),u.from=c}var h=t===!0?0:1/0;if(e.options.lineNumbers&&t&&t!==!0)for(var a=0;a<t.length;++a)if(t[a].diff){h=t[a].from;break}var c=Math.max(s.from-e.options.viewportMargin,0),d=Math.min(r.size,s.to+e.options.viewportMargin);if(n.showingFrom<c&&c-n.showingFrom<20&&(c=n.showingFrom),n.showingTo>d&&n.showingTo-d<20&&(d=Math.min(r.size,n.showingTo)),Zn)for(c=zi(ci(r,Ii(r,c)));d<r.size&&hi(Ii(r,d));)++d;for(var f=t===!0?[]:w([{from:n.showingFrom,to:n.showingTo}],t),g=0,a=0;a<f.length;++a){var v=f[a];v.from<c&&(v.from=c),v.to>d&&(v.to=d),v.from>=v.to?f.splice(a--,1):g+=v.to-v.from}if(g!=d-c||c!=n.showingFrom||d!=n.showingTo){f.sort(function(e,t){return e.from-t.from});var y=document.activeElement;.7*(d-c)>g&&(n.lineDiv.style.display="none"),k(e,c,d,f,h),n.lineDiv.style.display="",document.activeElement!=y&&y.offsetHeight&&y.focus();var _=c!=n.showingFrom||d!=n.showingTo||n.lastSizeC!=n.wrapper.clientHeight;_&&(n.lastSizeC=n.wrapper.clientHeight),n.showingFrom=c,n.showingTo=d,D(e,100);for(var x,C=n.lineDiv.offsetTop,T=n.lineDiv.firstChild;T;T=T.nextSibling)if(T.lineObj){if($n){var S=T.offsetTop+T.offsetHeight;x=S-C,C=S}else{var M=T.getBoundingClientRect();x=M.bottom-M.top}var E=T.lineObj.height-x;if(2>x&&(x=q(n)),E>.001||-.001>E){Li(T.lineObj,x);var j=T.lineObj.widgets;if(j)for(var a=0;a<j.length;++a)j[a].height=j[a].node.offsetHeight}}return n.viewOffset=Wi(e,Ii(r,c)),n.mover.style.top=n.viewOffset+"px",p(n,r,i).to>=d&&b(e,[],i),!0}}}function w(e,t){for(var i=0,n=t.length||0;n>i;++i){for(var r=t[i],s=[],o=r.diff||0,a=0,l=e.length;l>a;++a){var u=e[a];r.to<=u.from&&r.diff?s.push({from:u.from+o,to:u.to+o}):r.to<=u.from||r.from>=u.to?s.push(u):(r.from>u.from&&s.push({from:u.from,to:r.from}),r.to<u.to&&s.push({from:r.to+o,to:u.to+o}))}e=s}return e}function _(e){for(var t=e.display,i={},n={},r=t.gutters.firstChild,s=0;r;r=r.nextSibling,++s)i[e.options.gutters[s]]=r.offsetLeft,n[e.options.gutters[s]]=r.offsetWidth;return{fixedPos:v(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function k(e,t,i,n,r){function s(t){var i=t.nextSibling;return Nn&&Un&&e.display.currentWheelTarget==t?(t.style.display="none",t.lineObj=null):t.parentNode.removeChild(t),i
}var o=_(e),a=e.display,l=e.options.lineNumbers;n.length||Nn&&e.display.currentWheelTarget||gn(a.lineDiv);var u=a.lineDiv,c=u.firstChild,h=n.shift(),d=t;for(e.view.doc.iter(t,i,function(t){if(h&&h.to==d&&(h=n.shift()),hi(t)){if(0!=t.height&&Li(t,0),t.widgets&&c.previousSibling)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].showIfHidden){var a=c.previousSibling;if("pre"==a.nodeType){var p=mn("div",null,null,"position: relative");a.parentNode.replaceChild(p,a),p.appendChild(a),a=p}a.appendChild(C(t.widgets[i],a,o))}}else if(h&&h.from<=d&&h.to>d){for(;c.lineObj!=t;)c=s(c);l&&d>=r&&c.lineNumber&&yn(c.lineNumber,g(e.options,d)),c=c.nextSibling}else{var f=x(e,t,d,o);u.insertBefore(f,c),f.lineObj=t}++d});c;)c=s(c)}function x(e,t,i,n){var r=Di(e,t),s=t.gutterMarkers,o=e.display;if(!(e.options.lineNumbers||s||t.bgClass||t.wrapClass||t.widgets&&t.widgets.length))return r;var a=mn("div",null,t.wrapClass,"position: relative");if(e.options.lineNumbers||s){var l=a.appendChild(mn("div",null,null,"position: absolute; left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px"));if(e.options.fixedGutter&&(a.alignable=[l]),!e.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(a.lineNumber=l.appendChild(mn("div",g(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.lineNumInnerWidth+"px"))),s)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],h=s.hasOwnProperty(c)&&s[c];h&&l.appendChild(mn("div",[h],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}if(t.bgClass&&a.appendChild(mn("div"," ",t.bgClass+" CodeMirror-linebackground")),a.appendChild(r),t.widgets)for(var d=0,p=t.widgets;d<p.length;++d){var f=p[d],m=C(f,a,n);f.above?a.insertBefore(m,e.options.lineNumbers&&0!=t.height?l:r):a.appendChild(m)}return $n&&(a.style.zIndex=2),a}function C(e,t,i){var n=mn("div",[e.node],"CodeMirror-linewidget");if(n.widget=e,e.noHScroll){(t.alignable||(t.alignable=[])).push(n);var r=i.wrapperWidth;n.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,n.style.paddingLeft=i.gutterTotalWidth+"px"),n.style.width=r+"px"}return e.coverGutter&&(n.style.zIndex=5,n.style.position="relative",e.noHScroll||(n.style.marginLeft=-i.gutterTotalWidth+"px")),n}function T(e){var t=e.display,i=St(e.view.sel.from,e.view.sel.to);i||e.options.showCursorWhenSelecting?S(e):t.cursor.style.display=t.otherCursor.style.display="none",i?t.selectionDiv.style.display="none":M(e);var n=W(e,e.view.sel.head,"div"),r=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();t.inputDiv.style.top=Math.max(0,Math.min(t.wrapper.clientHeight-10,n.top+s.top-r.top))+"px",t.inputDiv.style.left=Math.max(0,Math.min(t.wrapper.clientWidth-10,n.left+s.left-r.left))+"px"}function S(e){var t=e.display,i=W(e,e.view.sel.head,"div");t.cursor.style.left=i.left+"px",t.cursor.style.top=i.top+"px",t.cursor.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",t.cursor.style.display="",i.other?(t.otherCursor.style.display="",t.otherCursor.style.left=i.other.left+"px",t.otherCursor.style.top=i.other.top+"px",t.otherCursor.style.height=.85*(i.other.bottom-i.other.top)+"px"):t.otherCursor.style.display="none"}function M(e){function t(e,t,i,n){0>t&&(t=0),o.appendChild(mn("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==i?a-e:i)+"px; height: "+(n-t)+"px"))}function i(i,n,s,o){function u(t){return H(e,{line:i,ch:t},"div",c)}var c=Ii(r,i),h=c.text.length,d=o?1/0:-1/0;return _n(Ri(c),n||0,null==s?h:s,function(e,i,r){var c=u("rtl"==r?i-1:e),p=u("rtl"==r?e:i-1),f=c.left,m=p.right;p.top-c.top>3&&(t(f,c.top,null,c.bottom),f=l,c.bottom<p.top&&t(f,c.bottom,null,p.top)),null==s&&i==h&&(m=a),null==n&&0==e&&(f=l),d=o?Math.min(p.top,d):Math.max(p.bottom,d),l+1>f&&(f=l),t(f,p.top,m-f,p.bottom)}),d}var n=e.display,r=e.view.doc,s=e.view.sel,o=document.createDocumentFragment(),a=n.lineSpace.offsetWidth,l=N(e.display);if(s.from.line==s.to.line)i(s.from.line,s.from.ch,s.to.ch);else{for(var u,c,h=Ii(r,s.from.line),d=h,p=[s.from.line,s.from.ch];u=ui(d);){var f=u.find();if(p.push(f.from.ch,f.to.line,f.to.ch),f.to.line==s.to.line){p.push(s.to.ch),c=!0;break}d=Ii(r,f.to.line)}if(c)for(var m=0;m<p.length;m+=3)i(p[m],p[m+1],p[m+2]);else{var g,v,y=Ii(r,s.to.line);g=s.from.ch?i(s.from.line,s.from.ch,null,!1):Wi(e,h)-n.viewOffset,v=s.to.ch?i(s.to.line,li(y)?null:0,s.to.ch,!0):Wi(e,y)-n.viewOffset,v>g&&t(l,g,null,v)}}vn(n.selectionDiv,o),n.selectionDiv.style.display=""}function E(e){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursor.style.visibility=t.otherCursor.style.visibility="",t.blinker=setInterval(function(){t.cursor.offsetHeight&&(t.cursor.style.visibility=t.otherCursor.style.visibility=(i=!i)?"":"hidden")},e.options.cursorBlinkRate)}function D(e,t){e.view.mode.startState&&e.view.frontier<e.display.showingTo&&e.view.highlight.set(t,dn(j,e))}function j(e){var t=e.view,i=t.doc;if(!(t.frontier>=e.display.showingTo)){var n,r=+new Date+e.options.workTime,s=Vt(t.mode,$(e,t.frontier)),o=[];i.iter(t.frontier,Math.min(i.size,e.display.showingTo+500),function(i){if(t.frontier>=e.display.showingFrom){var a=i.styles;i.styles=Ti(e,i,s);for(var l=!a||a.length!=i.styles.length,u=0;!l&&u<a.length;++u)l=a[u]!=i.styles[u];l&&(n&&n.end==t.frontier?n.end++:o.push(n={start:t.frontier,end:t.frontier+1})),i.stateAfter=Vt(t.mode,s)}else Mi(e,i,s),i.stateAfter=0==t.frontier%5?Vt(t.mode,s):null;return++t.frontier,+new Date>r?(D(e,e.options.workDelay),!0):void 0}),o.length&&Q(e,function(){for(var e=0;e<o.length;++e)K(this,o[e].start,o[e].end)})()}}function A(e,t){for(var i,n,r=e.view.doc,s=t,o=t-100;s>o;--s){if(0==s)return 0;var a=Ii(r,s-1);if(a.stateAfter)return s;var l=on(a.text,null,e.options.tabSize);(null==n||i>l)&&(n=s-1,i=l)}return n}function $(e,t){var i=e.view;if(!i.mode.startState)return!0;var n=A(e,t),r=n&&Ii(i.doc,n-1).stateAfter;return r=r?Vt(i.mode,r):Yt(i.mode),i.doc.iter(n,t,function(s){Mi(e,s,r);var o=n==t-1||0==n%5||n>=i.showingFrom&&n<i.showingTo;s.stateAfter=o?Vt(i.mode,r):null,++n}),r}function P(e){return e.lineSpace.offsetTop}function N(e){var t=vn(e.measure,mn("pre")).appendChild(mn("span","x"));return t.offsetLeft}function F(e,t,i,n){var r=-1;n=n||I(e,t);for(var s=i;;s+=r){var o=n[s];if(o)break;0>r&&0==s&&(r=1)}return{left:i>s?o.right:o.left,right:s>i?o.left:o.right,top:o.top,bottom:o.bottom}}function I(e,t){for(var i=e.display,n=e.display.measureLineCache,r=0;r<n.length;++r){var s=n[r];if(s.text==t.text&&s.markedSpans==t.markedSpans&&i.scroller.clientWidth==s.width)return s.measure}var o=L(e,t),s={text:t.text,width:i.scroller.clientWidth,markedSpans:t.markedSpans,measure:o};return 16==n.length?n[++i.measureLineCachePos%16]=s:n.push(s),o}function L(e,t){var i=e.display,n=hn(t.text.length),r=Di(e,t,n);if(An&&!$n&&!e.options.lineWrapping&&r.childNodes.length>100){for(var s=document.createDocumentFragment(),o=10,a=r.childNodes.length,l=0,u=Math.ceil(a/o);u>l;++l){for(var c=mn("div",null,null,"display: inline-block"),h=0;o>h&&a;++h)c.appendChild(r.firstChild),--a;s.appendChild(c)}r.appendChild(s)}vn(i.measure,r);for(var d,p=i.lineDiv.getBoundingClientRect(),f=[],m=hn(t.text.length),g=r.offsetHeight,l=0;l<n.length;++l)if(d=n[l]){for(var v=d.getBoundingClientRect(),y=Math.max(0,v.top-p.top),b=Math.min(v.bottom-p.top,g),h=0;h<f.length;h+=2){var w=f[h],_=f[h+1];if(!(w>b||y>_)&&(y>=w&&_>=b||w>=y&&b>=_||Math.min(b,_)-Math.max(y,w)>=b-y>>1)){f[h]=Math.min(y,w),f[h+1]=Math.max(b,_);break}}h==f.length&&f.push(y,b),m[l]={left:v.left-p.left,right:v.right-p.left,top:h}}for(var d,l=0;l<m.length;++l)if(d=m[l]){var k=d.top;d.top=f[k],d.bottom=f[k+1]}return m}function z(e){e.display.measureLineCache.length=e.display.measureLineCachePos=0,e.display.cachedCharWidth=e.display.cachedTextHeight=null,e.view.maxLineChanged=!0}function O(e,t,i,n){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var s=bi(t.widgets[r]);i.top+=s,i.bottom+=s}if("line"==n)return i;n||(n="local");var o=Wi(e,t);if("local"!=n&&(o-=e.display.viewOffset),"page"==n){var a=e.display.lineSpace.getBoundingClientRect();o+=a.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var l=a.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);i.left+=l,i.right+=l}return i.top+=o,i.bottom+=o,i}function H(e,t,i,n){return n||(n=Ii(e.view.doc,t.line)),O(e,n,F(e,n,t.ch),i)}function W(e,t,i,n,r){function s(t,s){var o=F(e,n,t,r);return s?o.left=o.right:o.right=o.left,O(e,n,o,i)}n=n||Ii(e.view.doc,t.line),r||(r=I(e,n));var o=Ri(n),a=t.ch;if(!o)return s(a);for(var l,u,c=o[0].level,h=0;h<o.length;++h){var d,p,f=o[h],m=f.level%2;if(f.from<a&&f.to>a)return s(a,m);var g=m?f.to:f.from,v=m?f.from:f.to;if(g==a)p=h&&f.level<(d=o[h-1]).level?s(d.level%2?d.from:d.to-1,!0):s(m&&f.from!=f.to?a-1:a),m==c?l=p:u=p;else if(v==a){var d=h<o.length-1&&o[h+1];if(!m&&d&&d.from==d.to)continue;p=d&&f.level<d.level?s(d.level%2?d.to-1:d.from):s(m?a:a-1,!0),m==c?l=p:u=p}}return c&&!a&&(u=s(o[0].to-1)),l?(u&&(l.other=u),l):u}function R(e,t,i){var n=e.view.doc;if(i+=e.display.viewOffset,0>i)return{line:0,ch:0,outside:!0};var r=Hi(n,i);if(r>=n.size)return{line:n.size-1,ch:Ii(n,n.size-1).text.length};for(0>t&&(t=0);;){var s=Ii(n,r),o=B(e,s,r,t,i),a=ui(s),l=a&&a.find();if(!(a&&o.ch>=l.from.ch))return o;r=l.to.line}}function B(e,t,i,n,r){function s(n){var r=W(e,{line:i,ch:n},"line",t,u);return a=!0,o>r.bottom?Math.max(0,r.left-l):o<r.top?r.left+l:(a=!1,r.left)}var o=r-Wi(e,t),a=!1,l=e.display.wrapper.clientWidth,u=I(e,t),c=Ri(t),h=t.text.length,d=Cn(t),p=Tn(t),f=N(e.display),m=s(p);if(n>m)return{line:i,ch:p,outside:a};for(;;){if(c?p==d||p==En(t,d,1):1>=p-d){for(var g=m-n>n-f,v=g?d:p;_r.test(t.text.charAt(v));)++v;return{line:i,ch:v,after:g,outside:a}}var y=Math.ceil(h/2),b=d+y;if(c){b=d;for(var w=0;y>w;++w)b=En(t,b,1)}var _=s(b);_>n?(p=b,m=_,a&&(m+=1e3),h-=y):(d=b,f=_,h=y)}}function q(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Qn){Qn=mn("pre");for(var t=0;49>t;++t)Qn.appendChild(document.createTextNode("x")),Qn.appendChild(mn("br"));Qn.appendChild(document.createTextNode("x"))}vn(e.measure,Qn);var i=Qn.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),gn(e.measure),i||1}function U(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=mn("span","x"),i=mn("pre",[t]);vn(e.measure,i);var n=t.offsetWidth;return n>2&&(e.cachedCharWidth=n),n||10}function V(e){e.curOp?++e.curOp.depth:e.curOp={depth:1,changes:[],delayedCallbacks:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,updateMaxLine:!1,id:++e.nextOpId}}function Y(e){var t=e.curOp;if(!--t.depth){e.curOp=null;var i=e.view,n=e.display;if(t.updateMaxLine&&c(i),i.maxLineChanged&&!e.options.lineWrapping){var r=F(e,i.maxLine,i.maxLine.text.length).right;n.sizer.style.minWidth=r+3+vr+"px",i.maxLineChanged=!1;var s=Math.max(0,n.sizer.offsetLeft+n.sizer.offsetWidth-n.scroller.clientWidth);s<i.scrollLeft&&ct(e,Math.min(n.scroller.scrollLeft,s),!0)}var o,a;if(t.selectionChanged){var l=W(e,i.sel.head);o=Ot(e,l.left,l.top,l.left,l.bottom)}(t.changes.length||o&&null!=o.scrollTop)&&(a=y(e,t.changes,o&&o.scrollTop)),!a&&t.selectionChanged&&T(e),o&&It(e),t.selectionChanged&&E(e),i.focused&&t.updateInput&&Z(e,t.userSelChange),t.textChanged&&tn(e,"change",e,t.textChanged),t.selectionChanged&&tn(e,"cursorActivity",e);for(var u=0;u<t.delayedCallbacks.length;++u)t.delayedCallbacks[u](e)}}function Q(e,t){return function(){var i=e||this;V(i);try{var n=t.apply(i,arguments)}finally{Y(i)}return n}}function K(e,t,i,n){e.curOp.changes.push({from:t,to:i,diff:n})}function X(e){e.view.pollingFast||e.display.poll.set(e.options.pollInterval,function(){G(e),e.view.focused&&X(e)})}function J(e){function t(){var n=G(e);n||i?(e.display.pollingFast=!1,X(e)):(i=!0,e.display.poll.set(60,t))}var i=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function G(e){var t=e.display.input,i=e.display.prevInput,n=e.view,r=n.sel;if(!n.focused||Mr(t)||tt(e))return!1;var s=t.value;if(s==i&&St(r.from,r.to))return!1;V(e),n.sel.shift=!1;for(var o=0,a=Math.min(i.length,s.length);a>o&&i[o]==s[o];)++o;var l=r.from,u=r.to;o<i.length?l={line:l.line,ch:l.ch-(i.length-o)}:n.overwrite&&St(l,u)&&!e.display.pasteIncoming&&(u={line:u.line,ch:Math.min(Ii(e.view.doc,u.line).text.length,u.ch+(s.length-o))});var c=e.curOp.updateInput;return _t(e,l,u,Sr(s.slice(o)),"end",e.display.pasteIncoming?"paste":"input",{from:l,to:u}),e.curOp.updateInput=c,s.length>1e3?t.value=e.display.prevInput="":e.display.prevInput=s,Y(e),e.display.pasteIncoming=!1,!0}function Z(e,t){var i,n,r=e.view;St(r.sel.from,r.sel.to)?t&&(e.display.prevInput=e.display.input.value=""):(e.display.prevInput="",i=Er&&(r.sel.to.line-r.sel.from.line>100||(n=e.getSelection()).length>1e3),e.display.input.value=i?"-":n||e.getSelection(),r.focused&&un(e.display.input)),e.display.inaccurateSelection=i}function et(e){"nocursor"==e.options.readOnly||!An&&document.activeElement==e.display.input||e.display.input.focus()}function tt(e){return e.options.readOnly||e.view.cantEdit}function it(e){function t(){e.view.focused&&setTimeout(dn(et,e),0)}function i(){s.cachedCharWidth=s.cachedTextHeight=null,z(e),y(e,!0)}function n(t){e.options.onDragEvent&&e.options.onDragEvent(e,Vi(t))||Ki(t)}function r(){s.inaccurateSelection&&(s.prevInput="",s.inaccurateSelection=!1,s.input.value=e.getSelection(),un(s.input))}var s=e.display;Zi(s.scroller,"mousedown",Q(e,st)),Zi(s.scroller,"dblclick",Q(e,Yi)),Zi(s.lineSpace,"selectstart",function(e){nt(s,e)||Yi(e)}),jn||Zi(s.scroller,"contextmenu",function(t){wt(e,t)}),Zi(s.scroller,"scroll",function(){ut(e,s.scroller.scrollTop),ct(e,s.scroller.scrollLeft,!0),tn(e,"scroll",e)}),Zi(s.scrollbarV,"scroll",function(){ut(e,s.scrollbarV.scrollTop)}),Zi(s.scrollbarH,"scroll",function(){ct(e,s.scrollbarH.scrollLeft)}),Zi(s.scroller,"mousewheel",function(t){ht(e,t)}),Zi(s.scroller,"DOMMouseScroll",function(t){ht(e,t)}),Zi(s.scrollbarH,"mousedown",t),Zi(s.scrollbarV,"mousedown",t),Zi(s.wrapper,"scroll",function(){s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),window.registered||(window.registered=0),++window.registered,Zi(window,"resize",i),setTimeout(function o(){for(var e=s.wrapper.parentNode;e&&e!=document.body;e=e.parentNode);e?setTimeout(o,5e3):(--window.registered,en(window,"resize",i))},5e3),Zi(s.input,"keyup",Q(e,function(t){e.options.onKeyEvent&&e.options.onKeyEvent(e,Vi(t))||16==Gi(t,"keyCode")&&(e.view.sel.shift=!1)})),Zi(s.input,"input",dn(J,e)),Zi(s.input,"keydown",Q(e,gt)),Zi(s.input,"keypress",Q(e,vt)),Zi(s.input,"focus",dn(yt,e)),Zi(s.input,"blur",dn(bt,e)),e.options.dragDrop&&(Zi(s.scroller,"dragstart",function(t){lt(e,t)}),Zi(s.scroller,"dragenter",n),Zi(s.scroller,"dragover",n),Zi(s.scroller,"drop",Q(e,ot))),Zi(s.scroller,"paste",function(t){nt(s,t)||(et(e),J(e))}),Zi(s.input,"paste",function(){s.pasteIncoming=!0,J(e)}),Zi(s.input,"cut",r),Zi(s.input,"copy",r),On&&Zi(s.sizer,"mouseup",function(){document.activeElement==s.input&&s.input.blur(),et(e)})}function nt(e,t){for(var i=Xi(t);i!=e.wrapper;i=i.parentNode){if(!i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(i.className)||i.parentNode==e.sizer&&i!=e.mover)return!0}}function rt(e,t,i){var n=e.display;if(!i){var r=Xi(t);if(r==n.scrollbarH||r==n.scrollbarH.firstChild||r==n.scrollbarV||r==n.scrollbarV.firstChild||r==n.scrollbarFiller)return null}var s,o,a=n.lineSpace.getBoundingClientRect();try{s=t.clientX,o=t.clientY}catch(t){return null}return R(e,s-a.left,o-a.top)}function st(e){function t(e){if("single"==h)return $t(r,jt(l,u),e),void 0;if(g=jt(l,g),v=jt(l,v),"double"==h){var t=Bt(Ii(l,e.line).text,e);Mt(e,g)?$t(r,t.from,v):$t(r,g,t.to)}else"triple"==h&&(Mt(e,g)?$t(r,v,jt(l,{line:e.line,ch:0})):$t(r,g,jt(l,{line:e.line+1,ch:0})))}function i(e){var n=++b,a=rt(r,e,!0);if(a)if(St(a,f)){var u=e.clientY<y.top?-20:e.clientY>y.bottom?20:0;u&&setTimeout(Q(r,function(){b==n&&(s.scroller.scrollTop+=u,i(e))}),50)}else{o.focused||yt(r),f=a,t(a);var c=p(s,l);(a.line>=c.to||a.line<c.from)&&setTimeout(Q(r,function(){b==n&&i(e)}),150)}}function n(e){b=1/0;var i=rt(r,e);i&&t(i),Yi(e),et(r),en(document,"mousemove",w),en(document,"mouseup",_)}var r=this,s=r.display,o=r.view,a=o.sel,l=o.doc;if(a.shift=Gi(e,"shiftKey"),nt(s,e))return Nn||(s.scroller.draggable=!1,setTimeout(function(){s.scroller.draggable=!0},100)),void 0;if(!at(r,e)){var u=rt(r,e);switch(Ji(e)){case 3:return jn&&wt.call(r,r,e),void 0;case 2:return u&&$t(r,u),setTimeout(dn(et,r),20),Yi(e),void 0}if(!u)return Xi(e)==s.scroller&&Yi(e),void 0;o.focused||yt(r);var c=+new Date,h="single";if(Xn&&Xn.time>c-400&&St(Xn.pos,u))h="triple",Yi(e),setTimeout(dn(et,r),20),qt(r,u.line);else if(Kn&&Kn.time>c-400&&St(Kn.pos,u)){h="double",Xn={time:c,pos:u},Yi(e);var d=Bt(Ii(l,u.line).text,u);$t(r,d.from,d.to)}else Kn={time:c,pos:u};var f=u;if(r.options.dragDrop&&kr&&!tt(r)&&!St(a.from,a.to)&&!Mt(u,a.from)&&!Mt(a.to,u)&&"single"==h){var m=Q(r,function(t){Nn&&(s.scroller.draggable=!1),o.draggingText=!1,en(document,"mouseup",m),en(s.scroller,"drop",m),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(Yi(t),$t(r,u),et(r))});return Nn&&(s.scroller.draggable=!0),o.draggingText=m,s.scroller.dragDrop&&s.scroller.dragDrop(),Zi(document,"mouseup",m),Zi(s.scroller,"drop",m),void 0}Yi(e),"single"==h&&$t(r,jt(l,u));var g=a.from,v=a.to,y=s.wrapper.getBoundingClientRect(),b=0,w=Q(r,function(e){An||Ji(e)?i(e):n(e)}),_=Q(r,n);Zi(document,"mousemove",w),Zi(document,"mouseup",_)}}function ot(e){var t=this;if(!(nt(t.display,e)||t.options.onDragEvent&&t.options.onDragEvent(t,Vi(e)))){Yi(e);var i=rt(t,e,!0),n=e.dataTransfer.files;if(i&&!tt(t))if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,s=Array(r),o=0,a=function(e,n){var a=new FileReader;a.onload=function(){s[n]=a.result,++o==r&&(i=jt(t.view.doc,i),Q(t,function(){var e=Tt(t,s.join(""),i,i,"paste");Pt(t,i,e)})())},a.readAsText(e)},l=0;r>l;++l)a(n[l],l);else{if(t.view.draggingText&&!Mt(i,t.view.sel.from)&&!Mt(t.view.sel.to,i))return t.view.draggingText(e),setTimeout(dn(et,t),20),void 0;try{var s=e.dataTransfer.getData("Text");if(s){var u=t.view.sel.from,c=t.view.sel.to;Pt(t,i,i),t.view.draggingText&&Tt(t,"",u,c,"paste"),t.replaceSelection(s,null,"paste"),et(t),yt(t)}}catch(e){}}}}function at(e,t){var i=e.display;try{var n=t.clientX,r=t.clientY}catch(t){return!1}if(n>=Math.floor(i.gutters.getBoundingClientRect().right))return!1;if(Yi(t),!rn(e,"gutterClick"))return!0;var s=i.lineDiv.getBoundingClientRect();if(r>s.bottom)return!0;r-=s.top-i.viewOffset;for(var o=0;o<e.options.gutters.length;++o){var a=i.gutters.childNodes[o];if(a&&a.getBoundingClientRect().right>=n){var l=Hi(e.view.doc,r),u=e.options.gutters[o];nn(e,e,"gutterClick",e,l,u,t);break}}return!0}function lt(e,t){if(!nt(e.display,t)){var i=e.getSelection();if(t.dataTransfer.setData("Text",i),t.dataTransfer.setDragImage&&!zn){var n=mn("img",null,null,"position: fixed; left: 0; top: 0;");Ln&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Ln&&n.parentNode.removeChild(n)}}}function ut(e,t){Math.abs(e.view.scrollTop-t)<2||(e.view.scrollTop=t,jn||y(e,[],t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),jn&&y(e,[]))}function ct(e,t,i){(i?t==e.view.scrollLeft:Math.abs(e.view.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.view.scrollLeft=t,f(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function ht(e,t){var i=t.wheelDeltaX,n=t.wheelDeltaY;if(null==i&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(i=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),n&&Un&&Nn)for(var r=t.target;r!=o;r=r.parentNode)if(r.lineObj){e.display.currentWheelTarget=r;break}var s=e.display,o=s.scroller;if(i&&!jn&&!Ln&&null!=tr)return n&&ut(e,Math.max(0,Math.min(o.scrollTop+n*tr,o.scrollHeight-o.clientHeight))),ct(e,Math.max(0,Math.min(o.scrollLeft+i*tr,o.scrollWidth-o.clientWidth))),Yi(t),s.wheelStartX=null,void 0;if(n&&null!=tr){var a=n*tr,l=e.view.scrollTop,u=l+s.wrapper.clientHeight;0>a?l=Math.max(0,l+a-50):u=Math.min(e.view.doc.height,u+a+50),y(e,[],{top:l,bottom:u})}20>er&&(null==s.wheelStartX?(s.wheelStartX=o.scrollLeft,s.wheelStartY=o.scrollTop,s.wheelDX=i,s.wheelDY=n,setTimeout(function(){if(null!=s.wheelStartX){var e=o.scrollLeft-s.wheelStartX,t=o.scrollTop-s.wheelStartY,i=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,i&&(tr=(tr*er+i)/(er+1),++er)}},200)):(s.wheelDX+=i,s.wheelDY+=n))}function dt(e,t,i){if("string"==typeof t&&(t=dr[t],!t))return!1;e.display.pollingFast&&G(e)&&(e.display.pollingFast=!1);var n=e.view,r=n.sel.shift;try{tt(e)&&(n.suppressEdits=!0),i&&(n.sel.shift=!1),t(e)}catch(s){if(s!=yr)throw s;return!1}finally{n.sel.shift=r,n.suppressEdits=!1}return!0}function pt(e){var t=e.view.keyMaps.slice(0);return t.push(e.options.keyMap),e.options.extraKeys&&t.unshift(e.options.extraKeys),t}function ft(e,t){function i(){a=!0}var n=Qt(e.options.keyMap),r=n.auto;clearTimeout(ir),r&&!Xt(t)&&(ir=setTimeout(function(){Qt(e.options.keyMap)==n&&(e.options.keyMap=r.call?r.call(null,e):r)},50));var s=Dr[Gi(t,"keyCode")],o=!1;if(null==s||t.altGraphKey)return!1;Gi(t,"altKey")&&(s="Alt-"+s),Gi(t,Jn?"metaKey":"ctrlKey")&&(s="Ctrl-"+s),Gi(t,Jn?"ctrlKey":"metaKey")&&(s="Cmd-"+s);var a=!1,l=pt(e);return o=Gi(t,"shiftKey")?Kt("Shift-"+s,l,function(t){return dt(e,t,!0)},i)||Kt(s,l,function(t){return"string"==typeof t&&/^go[A-Z]/.test(t)?dt(e,t):void 0},i):Kt(s,l,function(t){return dt(e,t)},i),a&&(o=!1),o&&(Yi(t),E(e),Pn&&(t.oldKeyCode=t.keyCode,t.keyCode=0)),o}function mt(e,t,i){var n=Kt("'"+i+"'",pt(e),function(t){return dt(e,t,!0)});return n&&(Yi(t),E(e)),n}function gt(e){var t=this;if(t.view.focused||yt(t),An&&27==e.keyCode&&(e.returnValue=!1),!t.options.onKeyEvent||!t.options.onKeyEvent(t,Vi(e))){var i=Gi(e,"keyCode");t.view.sel.shift=16==i||Gi(e,"shiftKey");var n=ft(t,e);Ln&&(rr=n?i:null,n||88!=i||Er||!Gi(e,Un?"metaKey":"ctrlKey")||t.replaceSelection(""))}}function vt(e){var t=this;if(!t.options.onKeyEvent||!t.options.onKeyEvent(t,Vi(e))){var i=Gi(e,"keyCode"),n=Gi(e,"charCode");if(Ln&&i==rr)return rr=null,Yi(e),void 0;if(!(Ln&&(!e.which||e.which<10)||On)||!ft(t,e)){var r=String.fromCharCode(null==n?i:n);this.options.electricChars&&this.view.mode.electricChars&&this.options.smartIndent&&!tt(this)&&this.view.mode.electricChars.indexOf(r)>-1&&setTimeout(Q(t,function(){Ht(t,t.view.sel.to.line,"smart")}),75),mt(t,e,r)||J(t)}}}function yt(e){"nocursor"!=e.options.readOnly&&(e.view.focused||(tn(e,"focus",e),e.view.focused=!0,-1==e.display.scroller.className.search(/\bCodeMirror-focused\b/)&&(e.display.scroller.className+=" CodeMirror-focused"),Z(e,!0)),X(e),E(e))}function bt(e){e.view.focused&&(tn(e,"blur",e),e.view.focused=!1,e.display.scroller.className=e.display.scroller.className.replace(" CodeMirror-focused","")),clearInterval(e.display.blinker),setTimeout(function(){e.view.focused||(e.view.sel.shift=!1)},150)}function wt(e,t){function i(){if(n.inputDiv.style.position="relative",n.input.style.cssText=a,Pn&&(n.scrollbarV.scrollTop=n.scroller.scrollTop=o),X(e),null!=n.input.selectionStart){clearTimeout(nr);var t=n.input.value=" "+(St(r.from,r.to)?"":n.input.value),i=0;n.prevInput=" ",n.input.selectionStart=1,n.input.selectionEnd=t.length,nr=setTimeout(function s(){" "==n.prevInput&&0==n.input.selectionStart?Q(e,dr.selectAll)(e):i++<10?nr=setTimeout(s,500):Z(e)},200)}}var n=e.display;if(!nt(n,t)){var r=e.view.sel,s=rt(e,t),o=n.scroller.scrollTop;if(s&&!Ln){(St(r.from,r.to)||Mt(s,r.from)||!Mt(s,r.to))&&Q(e,Pt)(e,s,s);var a=n.input.style.cssText;n.inputDiv.style.position="absolute",n.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; outline: none;"+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",et(e),Z(e,!0),St(r.from,r.to)&&(n.input.value=n.prevInput=" "),jn?(Ki(t),Zi(window,"mouseup",function l(){en(window,"mouseup",l),setTimeout(i,20)})):setTimeout(i,50)}}}function _t(e,t,i,n,r,s){var o=Gn&&oi(e.view.doc,t,i);if(!o)return kt(e,t,i,n,r,s);for(var a=o.length-1;a>=1;--a)kt(e,o[a].from,o[a].to,[""],s);return o.length?kt(e,o[0].from,o[0].to,n,r,s):void 0}function kt(e,t,i,n,r,s){if(!e.view.suppressEdits){var o=e.view,a=o.doc,l=[];a.iter(t.line,i.line+1,function(e){l.push(mi(e.text,e.markedSpans))});var u=o.sel.from,c=o.sel.to,h=si(fi(l[0]),fi(ln(l)),t.ch,i.ch,n),d=Ct(e,t,i,h,r,s);return o.history&&qi(e,t.line,n.length,l,s,u,c,o.sel.from,o.sel.to),d}}function xt(e,t){var i=e.view.doc,n=e.view.history,r=("undo"==t?n.done:n.undone).pop();if(r){for(var s={events:[],fromBefore:r.fromAfter,toBefore:r.toAfter,fromAfter:r.fromBefore,toAfter:r.toBefore},o=r.events.length-1;o>=0;o-=1){n.dirtyCounter+="undo"==t?-1:1;var a=r.events[o],l=[],u=a.start+a.added;i.iter(a.start,u,function(e){l.push(mi(e.text,e.markedSpans))}),s.events.push({start:a.start,added:a.old.length,old:l});var c=o?null:{from:r.fromBefore,to:r.toBefore};Ct(e,{line:a.start,ch:0},{line:u-1,ch:Ii(i,u-1).text.length},a.old,c,t)}("undo"==t?n.undone:n.done).push(s)}}function Ct(e,t,i,n,r,s){var o=e.view,a=o.doc,l=e.display;if(!o.suppressEdits){var c=i.line-t.line,h=Ii(a,t.line),d=Ii(a,i.line),p=!1,f=t.line;e.options.lineWrapping||(f=zi(ci(a,h)),a.iter(f,i.line+1,function(e){return e==o.maxLine?(p=!0,!0):void 0}));var m=ln(n),g=q(l);if(0==t.ch&&0==i.ch&&""==pi(m)){for(var v=[],y=0,b=n.length-1;b>y;++y)v.push(_i(pi(n[y]),fi(n[y]),g));ki(e,d,d.text,fi(m)),c&&a.remove(t.line,c,e),v.length&&a.insert(t.line,v)}else if(h==d)if(1==n.length)ki(e,h,h.text.slice(0,t.ch)+pi(n[0])+h.text.slice(i.ch),fi(n[0]));else{for(var v=[],y=1,b=n.length-1;b>y;++y)v.push(_i(pi(n[y]),fi(n[y]),g));v.push(_i(pi(m)+h.text.slice(i.ch),fi(m),g)),ki(e,h,h.text.slice(0,t.ch)+pi(n[0]),fi(n[0])),a.insert(t.line+1,v)}else if(1==n.length)ki(e,h,h.text.slice(0,t.ch)+pi(n[0])+d.text.slice(i.ch),fi(n[0])),a.remove(t.line+1,c,e);else{var v=[];ki(e,h,h.text.slice(0,t.ch)+pi(n[0]),fi(n[0])),ki(e,d,pi(m)+d.text.slice(i.ch),fi(m));for(var y=1,b=n.length-1;b>y;++y)v.push(_i(pi(n[y]),fi(n[y]),g));c>1&&a.remove(t.line+1,c-1,e),a.insert(t.line+1,v)}if(e.options.lineWrapping){var w=Math.max(5,l.scroller.clientWidth/U(l)-3);a.iter(t.line,t.line+n.length,function(e){if(0!=e.height){var t=(Math.ceil(e.text.length/w)||1)*g;t!=e.height&&Li(e,t)}})}else a.iter(f,t.line+n.length,function(e){var t=u(a,e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,p=!1)}),p&&(e.curOp.updateMaxLine=!0);o.frontier=Math.min(o.frontier,t.line),D(e,400);var _=n.length-c-1;if(K(e,t.line,i.line+1,_),rn(e,"change")){for(var y=0;y<n.length;++y)"string"!=typeof n[y]&&(n[y]=n[y].text);var k={from:t,to:i,text:n,origin:s};if(e.curOp.textChanged){for(var x=e.curOp.textChanged;x.next;x=x.next);x.next=k}else e.curOp.textChanged=k}var C,T,S={line:t.line+n.length-1,ch:pi(m).length+(1==n.length?t.ch:0)};if(r&&"string"!=typeof r)r.from?(C=r.from,T=r.to):C=T=r;else if("end"==r)C=T=S;else if("start"==r)C=T=t;else if("around"==r)C=t,T=S;else{var M=function(e){if(Mt(e,t))return e;if(!Mt(i,e))return S;var n=e.line+_,r=e.ch;return e.line==i.line&&(r+=pi(m).length-(i.ch-(i.line==t.line?t.ch:0))),{line:n,ch:r}};C=M(o.sel.from),T=M(o.sel.to)}return Pt(e,C,T,null,!0),S}}function Tt(e,t,i,n,r){if(n||(n=i),Mt(n,i)){var s=n;n=i,i=s}return _t(e,i,n,Sr(t),null,r)}function St(e,t){return e.line==t.line&&e.ch==t.ch}function Mt(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function Et(e){return{line:e.line,ch:e.ch}}function Dt(e,t){return Math.max(0,Math.min(t,e.size-1))}function jt(e,t){if(t.line<0)return{line:0,ch:0};if(t.line>=e.size)return{line:e.size-1,ch:Ii(e,e.size-1).text.length};var i=t.ch,n=Ii(e,t.line).text.length;return null==i||i>n?{line:t.line,ch:n}:0>i?{line:t.line,ch:0}:t}function At(e,t){return t>=0&&t<e.size}function $t(e,t,i,n){var r=e.view.sel;if(r.shift||r.extend){var s=r.anchor;if(i){var o=Mt(t,s);o!=Mt(i,s)?(s=t,t=i):o!=Mt(t,i)&&(t=i)}Pt(e,s,t,n)}else Pt(e,t,i||t,n);e.curOp.userSelChange=!0}function Pt(e,t,i,n,r){e.view.goalColumn=null;var s=e.view.sel;if((r||!St(t,s.anchor))&&(t=Ft(e,t,n,"push"!=r)),(r||!St(i,s.head))&&(i=Ft(e,i,n,"push"!=r)),!St(s.anchor,t)||!St(s.head,i)){s.anchor=t,s.head=i;var o=Mt(i,t);s.from=o?i:t,s.to=o?t:i,e.curOp.updateInput=!0,e.curOp.selectionChanged=!0}}function Nt(e){Pt(e,e.view.sel.from,e.view.sel.to,null,"push")}function Ft(e,t,i,n){var r=e.view.doc,s=!1,o=t,a=i||1;e.view.cantEdit=!1;e:for(;;){var l,u=Ii(r,o.line);if(u.markedSpans){for(var c=0;c<u.markedSpans.length;++c){var h=u.markedSpans[c],d=h.marker;if((null==h.from||(d.inclusiveLeft?h.from<=o.ch:h.from<o.ch))&&(null==h.to||(d.inclusiveRight?h.to>=o.ch:h.to>o.ch))){if(n&&d.clearOnEnter){(l||(l=[])).push(d);continue}if(!d.atomic)continue;var p=d.find()[0>a?"from":"to"];if(St(p,o)&&(p.ch+=a,p.ch<0?p=p.line?jt(r,{line:p.line-1}):null:p.ch>u.text.length&&(p=p.line<r.size-1?{line:p.line+1,ch:0}:null),!p)){if(s)return n?(e.view.cantEdit=!0,{line:0,ch:0}):Ft(e,t,i,!0);s=!0,p=t,a=-a}o=p;continue e}}if(l)for(var c=0;c<l.length;++c)l[c].clear()}return o}}function It(e){var t=e.view,i=Lt(e,t.sel.head);if(t.focused){var n=e.display,r=n.sizer.getBoundingClientRect(),s=null;if(i.top+r.top<0?s=!0:i.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(s=!1),null!=s&&!Rn){var o="none"==n.cursor.style.display;o&&(n.cursor.style.display="",n.cursor.style.left=i.left+"px",n.cursor.style.top=i.top-n.viewOffset+"px"),n.cursor.scrollIntoView(s),o&&(n.cursor.style.display="none")}}}function Lt(e,t){for(;;){var i=!1,n=W(e,t),r=Ot(e,n.left,n.top,n.left,n.bottom),s=e.view.scrollTop,o=e.view.scrollLeft;if(null!=r.scrollTop&&(ut(e,r.scrollTop),Math.abs(e.view.scrollTop-s)>1&&(i=!0)),null!=r.scrollLeft&&(ct(e,r.scrollLeft),Math.abs(e.view.scrollLeft-o)>1&&(i=!0)),!i)return n}}function zt(e,t,i,n,r){var s=Ot(e,t,i,n,r);null!=s.scrollTop&&ut(e,s.scrollTop),null!=s.scrollLeft&&ct(e,s.scrollLeft)}function Ot(e,t,i,n,r){var s=e.display,o=P(s);i+=o,r+=o;var a=s.scroller.clientHeight-vr,l=s.scroller.scrollTop,u={},c=e.view.doc.height+2*o,h=o+10>i,d=r+o>c-10;l>i?u.scrollTop=h?0:Math.max(0,i):r>l+a&&(u.scrollTop=(d?c:r)-a);var p=s.scroller.clientWidth-vr,f=s.scroller.scrollLeft;t+=s.gutters.offsetWidth,n+=s.gutters.offsetWidth;var m=s.gutters.offsetWidth,g=m+10>t;return f+m>t||g?(g&&(t=0),u.scrollLeft=Math.max(0,t-10-m)):n>p+f-3&&(u.scrollLeft=n+10-p),u}function Ht(e,t,i,n){var r=e.view.doc;if(i||(i="add"),"smart"==i)if(e.view.mode.indent)var s=$(e,t);else i="prev";var o,a=e.options.tabSize,l=Ii(r,t),u=on(l.text,null,a),c=l.text.match(/^\s*/)[0];if("smart"==i&&(o=e.view.mode.indent(s,l.text.slice(c.length),l.text),o==yr)){if(!n)return;i="prev"}"prev"==i?o=t?on(Ii(r,t-1).text,null,a):0:"add"==i?o=u+e.options.indentUnit:"subtract"==i&&(o=u-e.options.indentUnit),o=Math.max(0,o);var h="",d=0;if(e.options.indentWithTabs)for(var p=Math.floor(o/a);p;--p)d+=a,h+="	";o>d&&(h+=an(o-d)),h!=c&&Tt(e,h,{line:t,ch:0},{line:t,ch:c.length},"input"),l.stateAfter=null}function Wt(e,t,i){var n=t,r=t,s=e.view.doc;return"number"==typeof t?r=Ii(s,Dt(s,t)):n=zi(t),null==n?null:i(r,n)?(K(e,n,n+1),r):null}function Rt(e,t,i,n){function r(){var e=l+t;return 0>e||e==o.size?!1:(l=e,c=Ii(o,e))}function s(e){var i=(n?En:Dn)(c,u,t,!0);if(null==i){if(e||!r())return!1;u=n?(0>t?Tn:Cn)(c):0>t?c.text.length:0}else u=i;return!0}var o=e.view.doc,a=e.view.sel.head,l=a.line,u=a.ch,c=Ii(o,l);if("char"==i)s();else if("column"==i)s(!0);else if("word"==i)for(var h=!1;!(0>t)||s();){if(pn(c.text.charAt(u)))h=!0;else if(h){0>t&&(t=1,s());break}if(t>0&&!s())break}return Ft(e,{line:l,ch:u},t,!0)}function Bt(e,t){var i=t.ch,n=t.ch;if(e){t.after===!1||n==e.length?--i:++n;for(var r=e.charAt(i),s=pn(r)?pn:/\s/.test(r)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!pn(e)};i>0&&s(e.charAt(i-1));)--i;for(;n<e.length&&s(e.charAt(n));)++n}return{from:{line:t.line,ch:i},to:{line:t.line,ch:n}}}function qt(e,t){$t(e,{line:t,ch:0},jt(e.view.doc,{line:t+1,ch:0}))}function Ut(t,i,n,r){e.defaults[t]=i,n&&(sr[t]=r?function(e,t,i){i!=ar&&n(e,t,i)}:n)}function Vt(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var r=t[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function Yt(e,t,i){return e.startState?e.startState(t,i):!0}function Qt(e){return"string"==typeof e?pr[e]:e}function Kt(e,t,i,n){function r(t){t=Qt(t);var s=t[e];if(s===!1)return n&&n(),!0;if(null!=s&&i(s))return!0;if(t.nofallthrough)return n&&n(),!0;
var o=t.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return r(o);for(var a=0,l=o.length;l>a;++a)if(r(o[a]))return!0;return!1}for(var s=0;s<t.length;++s)if(r(t[s]))return!0}function Xt(e){var t=Dr[Gi(e,"keyCode")];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Jt(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8}function Gt(e,t){this.lines=[],this.type=t,this.cm=e}function Zt(e,t,i,n,r){var s=e.view.doc,o=new Gt(e,r);if("range"==r&&!Mt(t,i))return o;if(n)for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);o.replacedWith&&(o.collapsed=!0,o.replacedWith=mn("span",[o.replacedWith],"CodeMirror-widget")),o.collapsed&&(Zn=!0);var l,u,c=t.line,h=0;if(s.iter(c,i.line+1,function(n){o.collapsed&&!e.options.lineWrapping&&ci(s,n)==e.view.maxLine&&(e.curOp.updateMaxLine=!0);var r={from:null,to:null,marker:o};h+=n.text.length,c==t.line&&(r.from=t.ch,h-=t.ch),c==i.line&&(r.to=i.ch,h-=n.text.length-i.ch),o.collapsed&&(c==i.line&&(u=ai(n,i.ch)),c==t.line?l=ai(n,t.ch):Li(n,0)),ii(n,r),++c}),o.collapsed&&s.iter(t.line,i.line+1,function(e){hi(e)&&Li(e,0)}),o.readOnly&&(Gn=!0,(e.view.history.done.length||e.view.history.undone.length)&&e.clearHistory()),o.collapsed){if(l!=u)throw new Error("Inserting collapsed marker overlapping an existing one");o.size=h,o.atomic=!0}return(o.className||o.startStyle||o.endStyle||o.collapsed)&&K(e,t.line,i.line+1),o.atomic&&Nt(e),o}function ei(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function ti(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function ii(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.lines.push(e)}function ni(e,t){if(e)for(var i,n=0;n<e.length;++n){var r=e[n],s=r.marker,o=null==r.from||(s.inclusiveLeft?r.from<=t:r.from<t);if(o||"bookmark"==s.type&&r.from==t){var a=null==r.to||(s.inclusiveRight?r.to>=t:r.to>t);(i||(i=[])).push({from:r.from,to:a?null:r.to,marker:s})}}return i}function ri(e,t,i){if(e)for(var n,r=0;r<e.length;++r){var s=e[r],o=s.marker,a=null==s.to||(o.inclusiveRight?s.to>=i:s.to>i);if(a||"bookmark"==o.type&&s.from==i&&s.from!=t){var l=null==s.from||(o.inclusiveLeft?s.from<=i:s.from<i);(n||(n=[])).push({from:l?null:s.from-i,to:null==s.to?null:s.to-i,marker:o})}}return n}function si(e,t,i,n,r){if(!e&&!t)return r;var s=ni(e,i),o=ri(t,i,n),a=1==r.length,l=ln(r).length+(a?i:0);if(s)for(var u=0;u<s.length;++u){var c=s[u];if(null==c.to){var h=ei(o,c.marker);h?a&&(c.to=null==h.to?null:h.to+l):c.to=i}}if(o)for(var u=0;u<o.length;++u){var c=o[u];if(null!=c.to&&(c.to+=l),null==c.from){var h=ei(s,c.marker);h||(c.from=l,a&&(s||(s=[])).push(c))}else c.from+=l,a&&(s||(s=[])).push(c)}var d=[mi(r[0],s)];if(!a){var p,f=r.length-2;if(f>0&&s)for(var u=0;u<s.length;++u)null==s[u].to&&(p||(p=[])).push({from:null,to:null,marker:s[u].marker});for(var u=0;f>u;++u)d.push(mi(r[u+1],p));d.push(mi(ln(r),o))}return d}function oi(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=cn(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:t,to:i}],s=0;s<n.length;++s)for(var o=n[s].find(),a=0;a<r.length;++a){var l=r[a];if(Mt(o.from,l.to)&&!Mt(o.to,l.from)){var u=[a,1];Mt(l.from,o.from)&&u.push({from:l.from,to:o.from}),Mt(o.to,l.to)&&u.push({from:o.to,to:l.to}),r.splice.apply(r,u),a+=u.length-1}}return r}function ai(e,t){var i,n=Zn&&e.markedSpans;if(n)for(var r,s=0;s<n.length;++s)r=n[s],r.marker.collapsed&&(null==r.from||r.from<t)&&(null==r.to||r.to>t)&&(!i||i.width<r.marker.width)&&(i=r.marker);return i}function li(e){return ai(e,-1)}function ui(e){return ai(e,e.text.length+1)}function ci(e,t){for(var i;i=li(t);)t=Ii(e,i.find().from.line);return t}function hi(e){var t=Zn&&e.markedSpans;if(t)for(var i,n=0;n<t.length;++n)if(i=t[n],i.marker.collapsed){if(null==i.from)return!0;if(0==i.from&&i.marker.inclusiveLeft&&di(e,i))return!0}}function di(e,t){if(null==t.to){var i=t.marker.find().to,n=Ii(Oi(e),i.line);return di(n,ei(n.markedSpans,t.marker))}if(t.marker.inclusiveRight&&t.to==e.text.length)return!0;for(var r,s=0;s<e.markedSpans.length;++s)if(r=e.markedSpans[s],r.marker.collapsed&&r.from==t.to&&(r.marker.inclusiveLeft||t.marker.inclusiveRight)&&di(e,r))return!0}function pi(e){return"string"==typeof e?e:e.text}function fi(e){if("string"==typeof e)return null;for(var t=e.markedSpans,i=null,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?i||(i=t.slice(0,n)):i&&i.push(t[n]);return i?i.length?i:null:t}function mi(e,t){return t?{text:e,markedSpans:t}:e}function gi(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i){var n=t[i].marker.lines,r=cn(n,e);n.splice(r,1)}e.markedSpans=null}}function vi(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.lines.push(e);e.markedSpans=t}}function yi(e){return function(){V(this.cm);try{var t=e.apply(this,arguments)}finally{Y(this.cm)}return t}}function bi(e){return null!=e.height?e.height:(e.node.parentNode&&1==e.node.parentNode.nodeType||vn(e.cm.display.measure,mn("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function wi(e,t,i,n){var r=new fr(e,i,n);return r.noHScroll&&(e.display.alignWidgets=!0),Wt(e,t,function(t){if((t.widgets||(t.widgets=[])).push(r),r.line=t,!hi(t)||r.showIfHidden){var i=Wi(e,t)<e.display.scroller.scrollTop;Li(t,t.height+bi(r)),i&&setTimeout(function(){e.display.scroller.scrollTop+=r.height})}return!0}),r}function _i(e,t,i){var n={text:e,height:i};return vi(n,t),hi(n)&&(n.height=0),n}function ki(e,t,i,n){t.text=i,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),gi(t),vi(t,n),hi(t)?t.height=0:t.height||(t.height=q(e.display)),nn(e,t,"change")}function xi(e){e.parent=null,gi(e)}function Ci(e,t,i,n,r){var s=e.options.flattenSpans,o="",a=null,l=new Jt(t,e.options.tabSize);for(""==t&&i.blankLine&&i.blankLine(n);!l.eol();){var u=i.token(l,n);l.pos>5e3&&(s=!1,l.pos=Math.min(t.length,l.start+5e4),u=null);var c=l.current();l.start=l.pos,s&&a==u?o+=c:(o&&r(o,a),o=c,a=u)}o&&r(o,a)}function Ti(e,t,i){var n=[e.view.modeGen];Ci(e,t.text,e.view.mode,i,function(e,t){n.push(e,t)});for(var r=0;r<e.view.overlays.length;++r){var s=e.view.overlays[r],o=1;Ci(e,t.text,s.mode,!0,function(e,t){for(var i=o,r=e.length;r;){var a=n[o],l=a.length;r>=l?r-=l:(n.splice(o,1,a.slice(0,r),n[o+1],a.slice(r)),r=0),o+=2}if(t)if(s.opaque)n.splice(i,o-i,e,t),o=i+2;else for(;o>i;i+=2){var a=n[i+1];n[i+1]=a?a+" "+t:t}})}return n}function Si(e,t){return t.styles&&t.styles[0]==e.view.modeGen||(t.styles=Ti(e,t,t.stateAfter=$(e,zi(t)))),t.styles}function Mi(e,t,i){var n=e.view.mode,r=new Jt(t.text,e.options.tabSize);for(""==t.text&&n.blankLine&&n.blankLine(i);!r.eol()&&r.pos<=5e3;)n.token(r,i),r.start=r.pos}function Ei(e){return e?mr[e]||(mr[e]="cm-"+e.replace(/ +/g," cm-")):null}function Di(e,t,i){for(var n,r,s,o=t,a=!0;n=li(o);)a=!1,o=Ii(e.view.doc,n.find().from.line),r||(r=o);var l={pre:mn("pre"),col:0,pos:0,display:!i,measure:null,addedOne:!1,cm:e};o.textClass&&(l.pre.className=o.textClass);do{l.measure=o==t&&i,l.pos=0,l.addToken=l.measure?Ai:ji,i&&s&&o!=t&&!l.addedOne&&(i[0]=l.pre.appendChild(wn(e.display.measure)),l.addedOne=!0);var u=Pi(o,l,Si(e,o));s=o==r,u&&(o=Ii(e.view.doc,u.to.line),a=!1)}while(u);return i&&!l.addedOne&&(i[0]=l.pre.appendChild(a?mn("span"," "):wn(e.display.measure))),l.pre.firstChild||hi(t)||l.pre.appendChild(document.createTextNode(" ")),l.pre}function ji(e,t,i,n,r){if(t){if(gr.test(t))for(var s=document.createDocumentFragment(),o=0;;){gr.lastIndex=o;var a=gr.exec(t),l=a?a.index-o:t.length-o;if(l&&(s.appendChild(document.createTextNode(t.slice(o,o+l))),e.col+=l),!a)break;if(o+=l+1,"	"==a[0]){var u=e.cm.options.tabSize,c=u-e.col%u;s.appendChild(mn("span",an(c),"cm-tab")),e.col+=c}else{var h=mn("span","•","cm-invalidchar");h.title="\\u"+a[0].charCodeAt(0).toString(16),s.appendChild(h),e.col+=1}}else{e.col+=t.length;var s=document.createTextNode(t)}if(i||n||r||e.measure){var d=i||"";return n&&(d+=n),r&&(d+=r),e.pre.appendChild(mn("span",[s],d))}e.pre.appendChild(s)}}function Ai(e,t,i,n,r){for(var s=0;s<t.length;++s)s&&s<t.length&&e.cm.options.lineWrapping&&xr.test(t.slice(s-1,s+1))&&e.pre.appendChild(mn("wbr")),e.measure[e.pos++]=ji(e,t.charAt(s),i,0==s&&n,s==t.length-1&&r);t.length&&(e.addedOne=!0)}function $i(e,t,i){i&&(e.display||(i=i.cloneNode(!0)),e.pre.appendChild(i),e.measure&&t&&(e.measure[e.pos]=i,e.addedOne=!0)),e.pos+=t}function Pi(e,t,i){var n=e.markedSpans;if(n)for(var r,s,o,a,l,u=e.text,c=u.length,h=0,d=1,p="",f=0;;){if(f==h){s=o=a="",l=null,f=1/0;for(var m=null,g=0;g<n.length;++g){var v=n[g],y=v.marker;v.from<=h&&(null==v.to||v.to>h)?(null!=v.to&&f>v.to&&(f=v.to,o=""),y.className&&(s+=" "+y.className),y.startStyle&&v.from==h&&(a+=" "+y.startStyle),y.endStyle&&v.to==f&&(o+=" "+y.endStyle),y.collapsed&&(!l||l.marker.width<y.width)&&(l=v)):v.from>h&&f>v.from&&(f=v.from),"bookmark"==y.type&&v.from==h&&y.replacedWith&&(m=y.replacedWith)}if(l&&(l.from||0)==h&&($i(t,(null==l.to?c:l.to)-h,null!=l.from&&l.marker.replacedWith),null==l.to))return l.marker.find();m&&!l&&$i(t,0,m)}if(h>=c)break;for(var b=Math.min(c,f);;){if(p){var w=h+p.length;if(!l){var _=w>b?p.slice(0,b-h):p;t.addToken(t,_,r+s,a,h+_.length==f?o:"")}if(w>=b){p=p.slice(b-h),h=b;break}h=w,a=""}p=i[d++],r=Ei(i[d++])}}else for(var d=1;d<i.length;d+=2)t.addToken(t,i[d],Ei(i[d+1]))}function Ni(e){this.lines=e,this.parent=null;for(var t=0,i=e.length,n=0;i>t;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Fi(e){this.children=e;for(var t=0,i=0,n=0,r=e.length;r>n;++n){var s=e[n];t+=s.chunkSize(),i+=s.height,s.parent=this}this.size=t,this.height=i,this.parent=null}function Ii(e,t){for(;!e.lines;)for(var i=0;;++i){var n=e.children[i],r=n.chunkSize();if(r>t){e=n;break}t-=r}return e.lines[t]}function Li(e,t){for(var i=t-e.height,n=e;n;n=n.parent)n.height+=i}function zi(e){if(null==e.parent)return null;for(var t=e.parent,i=cn(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var r=0;n.children[r]!=t;++r)i+=n.children[r].chunkSize();return i}function Oi(e){for(var t=e.parent;t.parent;t=t.parent);return t}function Hi(e,t){var i=0;e:do{for(var n=0,r=e.children.length;r>n;++n){var s=e.children[n],o=s.height;if(o>t){e=s;continue e}t-=o,i+=s.chunkSize()}return i}while(!e.lines);for(var n=0,r=e.lines.length;r>n;++n){var a=e.lines[n],l=a.height;if(l>t)break;t-=l}return i+n}function Wi(e,t){t=ci(e.view.doc,t);for(var i=0,n=t.parent,r=0;r<n.lines.length;++r){var s=n.lines[r];if(s==t)break;i+=s.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;i+=a.height}return i}function Ri(e){var t=e.order;return null==t&&(t=e.order=jr(e.text)),t}function Bi(){return{done:[],undone:[],lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function qi(e,t,i,n,r,s,o,a,l){var u=e.view.history;u.undone.length=0;var c=+new Date,h=ln(u.done);if(h&&(u.lastOp==e.curOp.id||u.lastOrigin==r&&("input"==r||"delete"==r)&&u.lastTime>c-600)){var d=ln(h.events);if(d.start>t+n.length||d.start+d.added<t)h.events.push({start:t,added:i,old:n});else{for(var p=Math.max(0,d.start-t),f=Math.max(0,t+n.length-(d.start+d.added)),m=p;m>0;--m)d.old.unshift(n[m-1]);for(var m=f;m>0;--m)d.old.push(n[n.length-m]);p&&(d.start=t),d.added+=i-(n.length-p-f)}h.fromAfter=a,h.toAfter=l}else{for(h={events:[{start:t,added:i,old:n}],fromBefore:s,toBefore:o,fromAfter:a,toAfter:l},u.done.push(h);u.done.length>e.options.undoDepth;)u.done.shift();u.dirtyCounter<0?u.dirtyCounter=0/0:u.dirtyCounter++}u.lastTime=c,u.lastOp=e.curOp.id,u.lastOrigin=r}function Ui(){Ki(this)}function Vi(e){return e.stop||(e.stop=Ui),e}function Yi(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Qi(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ki(e){Yi(e),Qi(e)}function Xi(e){return e.target||e.srcElement}function Ji(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Un&&e.ctrlKey&&1==t&&(t=3),t}function Gi(e,t){var i=e.override&&e.override.hasOwnProperty(t);return i?e.override[t]:e[t]}function Zi(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={}),r=n[t]||(n[t]=[]);r.push(i)}}function en(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers&&e._handlers[t];if(!n)return;for(var r=0;r<n.length;++r)if(n[r]==i){n.splice(r,1);break}}}function tn(e,t){var i=e._handlers&&e._handlers[t];if(i)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function nn(e,t,i){function n(e){return function(){e.apply(null,s)}}var r=t._handlers&&t._handlers[i];if(r)for(var s=Array.prototype.slice.call(arguments,3),o=e.curOp&&e.curOp.delayedCallbacks,a=0;a<r.length;++a)o?o.push(n(r[a])):r[a].apply(null,s)}function rn(e,t){var i=e._handlers&&e._handlers[t];return i&&i.length>0}function sn(){this.id=null}function on(e,t,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var n=0,r=0;t>n;++n)"	"==e.charAt(n)?r+=i-r%i:++r;return r}function an(e){for(;br.length<=e;)br.push(ln(br)+" ");return br[e]}function ln(e){return e[e.length-1]}function un(e){Bn?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function cn(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;n>i;++i)if(e[i]==t)return i;return-1}function hn(e){for(var t=[],i=0;e>i;++i)t.push(void 0);return t}function dn(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function pn(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||wr.test(e))}function fn(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&e[i]&&++t;return!t}function mn(e,t,i,n){var r=document.createElement(e);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof t)yn(r,t);else if(t)for(var s=0;s<t.length;++s)r.appendChild(t[s]);return r}function gn(e){if(An)for(;e.firstChild;)e.removeChild(e.firstChild);else e.innerHTML="";return e}function vn(e,t){return gn(e).appendChild(t)}function yn(e,t){Pn?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function bn(e){if(null!=Cr)return Cr;var t=mn("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return vn(e,t),t.offsetWidth&&(Cr=t.offsetHeight-t.clientHeight),Cr||0}function wn(e){if(null==Tr){var t=mn("span","​");vn(e,mn("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Tr=t.offsetWidth<=1&&t.offsetHeight>2&&!$n)}return Tr?mn("span","​"):mn("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function _n(e,t,i,n){if(!e)return n(t,i,"ltr");for(var r=0;r<e.length;++r){var s=e[r];(s.from<i&&s.to>t||t==i&&s.to==t)&&n(Math.max(s.from,t),Math.min(s.to,i),1==s.level?"rtl":"ltr")}}function kn(e){return e.level%2?e.to:e.from}function xn(e){return e.level%2?e.from:e.to}function Cn(e){var t=Ri(e);return t?kn(t[0]):0}function Tn(e){var t=Ri(e);return t?xn(ln(t)):e.text.length}function Sn(e,t){var i=Ii(e.view.doc,t),n=ci(e.view.doc,i);n!=i&&(t=zi(n));var r=Ri(n),s=r?r[0].level%2?Tn(n):Cn(n):0;return{line:t,ch:s}}function Mn(e,t){for(var i,n;i=ui(n=Ii(e.view.doc,t));)t=i.find().to.line;var r=Ri(n),s=r?r[0].level%2?Cn(n):Tn(n):n.text.length;return{line:t,ch:s}}function En(e,t,i,n){var r=Ri(e);if(!r)return Dn(e,t,i,n);for(var s=n?function(t,i){do t+=i;while(t>0&&_r.test(e.text.charAt(t)));return t}:function(e,t){return e+t},o=r[0].level,a=0;a<r.length;++a){var l=r[a],u=l.level%2==o;if(l.from<t&&l.to>t||u&&(l.from==t||l.to==t))break}for(var c=s(t,l.level%2?-i:i);null!=c;)if(l.level%2==o){if(!(c<l.from||c>l.to))break;l=r[a+=i],c=l&&(i>0==l.level%2?s(l.to,-1):s(l.from,1))}else if(c==kn(l))l=r[--a],c=l&&xn(l);else{if(c!=xn(l))break;l=r[++a],c=l&&kn(l)}return 0>c||c>e.text.length?null:c}function Dn(e,t,i,n){var r=t+i;if(n)for(;r>0&&_r.test(e.text.charAt(r));)r+=i;return 0>r||r>e.text.length?null:r}var jn=/gecko\/\d/i.test(navigator.userAgent),An=/MSIE \d/.test(navigator.userAgent),$n=An&&(null==document.documentMode||document.documentMode<8),Pn=An&&(null==document.documentMode||document.documentMode<9),Nn=/WebKit\//.test(navigator.userAgent),Fn=Nn&&/Qt\/\d+\.\d+/.test(navigator.userAgent),In=/Chrome\//.test(navigator.userAgent),Ln=/Opera\//.test(navigator.userAgent),zn=/Apple Computer/.test(navigator.vendor),On=/KHTML\//.test(navigator.userAgent),Hn=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Wn=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Rn=/PhantomJS/.test(navigator.userAgent),Bn=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),qn=Bn||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Un=Bn||/Mac/.test(navigator.platform),Vn=/windows/i.test(navigator.platform),Yn=Ln&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Yn&&(Yn=Number(Yn[1]));var Qn,Kn,Xn,Jn=Un&&(Fn||Ln&&(null==Yn||12.11>Yn)),Gn=!1,Zn=!1,er=0,tr=null;An?tr=-.53:jn?tr=15:In?tr=-.7:zn&&(tr=-1/3);var ir,nr,rr=null;e.prototype={getValue:function(e){var t=[],i=this.view.doc;return i.iter(0,i.size,function(e){t.push(e.text)}),t.join(e||"\n")},setValue:Q(null,function(e){var t=this.view.doc,i={line:0,ch:0},n=Ii(t,t.size-1).text.length;kt(this,i,{line:t.size-1,ch:n},Sr(e),i,i,"setValue")}),getSelection:function(e){return this.getRange(this.view.sel.from,this.view.sel.to,e)},replaceSelection:Q(null,function(e,t,i){var n=this.view.sel;_t(this,n.from,n.to,Sr(e),t||"around",i)}),focus:function(){window.focus(),et(this),yt(this),J(this)},setOption:function(e,t){var i=this.options,n=i[e];(i[e]!=t||"mode"==e)&&(i[e]=t,sr.hasOwnProperty(e)&&Q(this,sr[e])(this,t,n))},getOption:function(e){return this.options[e]},getMode:function(){return this.view.mode},addKeyMap:function(e){this.view.keyMaps.push(e)},removeKeyMap:function(e){for(var t=this.view.keyMaps,i=0;i<t.length;++i)if(("string"==typeof e?t[i].name:t[i])==e)return t.splice(i,1),!0},addOverlay:Q(null,function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.view.overlays.push({mode:n,modeSpec:t,opaque:i&&i.opaque}),this.view.modeGen++,K(this,0,this.view.doc.size)}),removeOverlay:Q(null,function(e){for(var t=this.view.overlays,i=0;i<t.length;++i)if(t[i].modeSpec==e)return t.splice(i,1),this.view.modeGen++,K(this,0,this.view.doc.size),void 0}),undo:Q(null,function(){xt(this,"undo")}),redo:Q(null,function(){xt(this,"redo")}),indentLine:Q(null,function(e,t,i){"string"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),At(this.view.doc,e)&&Ht(this,e,t,i)}),indentSelection:Q(null,function(e){var t=this.view.sel;if(St(t.from,t.to))return Ht(this,t.from.line,e);for(var i=t.to.line-(t.to.ch?0:1),n=t.from.line;i>=n;++n)Ht(this,n,e)}),historySize:function(){var e=this.view.history;return{undo:e.done.length,redo:e.undone.length}},clearHistory:function(){this.view.history=Bi()},markClean:function(){this.view.history.dirtyCounter=0,this.view.history.lastOp=this.view.history.lastOrigin=null},isClean:function(){return 0==this.view.history.dirtyCounter},getHistory:function(){function e(e){for(var t,i=0,n=[];i<e.length;++i){var r=e[i];n.push({events:t=[],fromBefore:r.fromBefore,toBefore:r.toBefore,fromAfter:r.fromAfter,toAfter:r.toAfter});for(var s=0,o=r.events;s<o.length;++s){var a=[],l=o[s];t.push({start:l.start,added:l.added,old:a});for(var u=0;u<l.old.length;++u)a.push(pi(l.old[u]))}}return n}var t=this.view.history;return{done:e(t.done),undone:e(t.undone)}},setHistory:function(e){var t=this.view.history=Bi();t.done=e.done,t.undone=e.undone},getTokenAt:function(e){var t=this.view.doc;e=jt(t,e);for(var i=$(this,e.line),n=this.view.mode,r=Ii(t,e.line),s=new Jt(r.text,this.options.tabSize);s.pos<e.ch&&!s.eol();){s.start=s.pos;var o=n.token(s,i)}return{start:s.start,end:s.pos,string:s.current(),className:o||null,type:o||null,state:i}},getStateAfter:function(e){var t=this.view.doc;return e=Dt(t,null==e?t.size-1:e),$(this,e+1)},cursorCoords:function(e,t){var i,n=this.view.sel;return i=null==e?n.head:"object"==typeof e?jt(this.view.doc,e):e?n.from:n.to,W(this,i,t||"page")},charCoords:function(e,t){return H(this,jt(this.view.doc,e),t||"page")},coordsChar:function(e){var t=this.display.lineSpace.getBoundingClientRect();return R(this,e.left-t.left,e.top-t.top)},defaultTextHeight:function(){return q(this.display)},markText:Q(null,function(e,t,i){return Zt(this,jt(this.view.doc,e),jt(this.view.doc,t),i,"range")}),setBookmark:Q(null,function(e,t){return e=jt(this.view.doc,e),Zt(this,e,e,t?{replacedWith:t}:{},"bookmark")}),findMarksAt:function(e){var t=this.view.doc;e=jt(t,e);var i=[],n=Ii(t,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var s=n[r];(null==s.from||s.from<=e.ch)&&(null==s.to||s.to>=e.ch)&&i.push(s.marker)}return i},setGutterMarker:Q(null,function(e,t,i){return Wt(this,e,function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&fn(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Q(null,function(e){var t=0,i=this,n=i.view.doc;n.iter(0,n.size,function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,K(i,t,t+1),fn(n.gutterMarkers)&&(n.gutterMarkers=null)),++t})}),addLineClass:Q(null,function(e,t,i){return Wt(this,e,function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[n]){if(new RegExp("\\b"+i+"\\b").test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0})}),removeLineClass:Q(null,function(e,t,i){return Wt(this,e,function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",r=e[n];if(!r)return!1;if(null==i)e[n]=null;else{var s=r.replace(new RegExp("^"+i+"\\b\\s*|\\s*\\b"+i+"\\b"),"");if(s==r)return!1;e[n]=s||null}return!0})}),addLineWidget:Q(null,function(e,t,i){return wi(this,e,t,i)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!At(this.view.doc,e))return null;var t=e;if(e=Ii(this.view.doc,e),!e)return null}else{var t=zi(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(e,t,i,n,r){var s=this.display;e=W(this,jt(this.view.doc,e));var o=e.top,a=e.left;if(t.style.position="absolute",s.sizer.appendChild(t),"over"==n)o=e.top;else if("near"==n){var l=Math.max(s.wrapper.clientHeight,this.view.doc.height),u=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);e.bottom+t.offsetHeight>l&&e.top>t.offsetHeight&&(o=e.top-t.offsetHeight),a+t.offsetWidth>u&&(a=u-t.offsetWidth)}t.style.top=o+P(s)+"px",t.style.left=t.style.right="","right"==r?(a=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),i&&zt(this,a,o,a+t.offsetWidth,o+t.offsetHeight)},lineCount:function(){return this.view.doc.size},clipPos:function(e){return jt(this.view.doc,e)},getCursor:function(e){var t,i=this.view.sel;return t=null==e||"head"==e?i.head:"anchor"==e?i.anchor:"end"==e||e===!1?i.to:i.from,Et(t)},somethingSelected:function(){return!St(this.view.sel.from,this.view.sel.to)},setCursor:Q(null,function(e,t,i){var n=jt(this.view.doc,"number"==typeof e?{line:e,ch:t||0}:e);i?$t(this,n):Pt(this,n,n)}),setSelection:Q(null,function(e,t){var i=this.view.doc;Pt(this,jt(i,e),jt(i,t||e))}),extendSelection:Q(null,function(e,t){var i=this.view.doc;$t(this,jt(i,e),t&&jt(i,t))}),setExtending:function(e){this.view.sel.extend=e},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){var t=this.view.doc;return At(t,e)?Ii(t,e):void 0},getLineNumber:function(e){return zi(e)},setLine:Q(null,function(e,t){At(this.view.doc,e)&&Tt(this,t,{line:e,ch:0},{line:e,ch:Ii(this.view.doc,e).text.length})}),removeLine:Q(null,function(e){At(this.view.doc,e)&&Tt(this,"",{line:e,ch:0},jt(this.view.doc,{line:e+1,ch:0}))}),replaceRange:Q(null,function(e,t,i){var n=this.view.doc;return t=jt(n,t),i=i?jt(n,i):t,Tt(this,e,t,i)}),getRange:function(e,t,i){var n=this.view.doc;e=jt(n,e),t=jt(n,t);var r=e.line,s=t.line;if(r==s)return Ii(n,r).text.slice(e.ch,t.ch);var o=[Ii(n,r).text.slice(e.ch)];return n.iter(r+1,s,function(e){o.push(e.text)}),o.push(Ii(n,s).text.slice(0,t.ch)),o.join(i||"\n")},triggerOnKeyDown:Q(null,gt),execCommand:function(e){return dr[e](this)},moveH:Q(null,function(e,t){var i=this.view.sel,n=0>e?i.from:i.to;(i.shift||i.extend||St(i.from,i.to))&&(n=Rt(this,e,t,this.options.rtlMoveVisually)),$t(this,n,n,e)}),deleteH:Q(null,function(e,t){var i=this.view.sel;St(i.from,i.to)?Tt(this,"",i.from,Rt(this,e,t,!1),"delete"):Tt(this,"",i.from,i.to,"delete"),this.curOp.userSelChange=!0}),moveV:Q(null,function(e,t){var i,n=this.view,r=n.doc,s=this.display,o=n.sel.head,a=W(this,o,"div"),l=a.left;if(null!=n.goalColumn&&(l=n.goalColumn),"page"==t){var u=Math.min(s.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=a.top+e*u}else"line"==t&&(i=e>0?a.bottom+3:a.top-3);do{var c=R(this,l,i);i+=5*e}while(c.outside&&(0>e?i>0:i<r.height));"page"==t&&(s.scrollbarV.scrollTop+=H(this,c,"div").top-a.top),$t(this,c,c,e),n.goalColumn=l}),toggleOverwrite:function(){(this.view.overwrite=!this.view.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},posFromIndex:function(e){var t,i=0,n=this.view.doc;return n.iter(0,n.size,function(n){var r=n.text.length+1;return r>e?(t=e,!0):(e-=r,++i,void 0)}),jt(n,{line:i,ch:t})},indexFromPos:function(e){e=jt(this.view.doc,e);var t=e.ch;return this.view.doc.iter(0,e.line,function(e){t+=e.text.length+1}),t},scrollTo:function(e,t){null!=e&&(this.display.scrollbarH.scrollLeft=this.display.scroller.scrollLeft=e),null!=t&&(this.display.scrollbarV.scrollTop=this.display.scroller.scrollTop=t),y(this,[])},getScrollInfo:function(){var e=this.display.scroller,t=vr;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:function(e){"number"==typeof e&&(e={line:e,ch:0}),e&&null==e.line?zt(this,e.left,e.top,e.right,e.bottom):(e=e?jt(this.view.doc,e):this.view.sel.head,Lt(this,e))},setSize:function(e,t){function i(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.refresh()},on:function(e,t){Zi(this,e,t)},off:function(e,t){en(this,e,t)},operation:function(e){return Q(this,e)()},refresh:function(){z(this);var e=this.view.scrollTop,t=this.view.scrollLeft;this.display.scroller.scrollHeight>e&&(this.display.scrollbarV.scrollTop=this.display.scroller.scrollTop=e),this.display.scroller.scrollWidth>t&&(this.display.scrollbarH.scrollLeft=this.display.scroller.scrollLeft=t),y(this,!0)},getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var sr=e.optionHandlers={},or=e.defaults={},ar=e.Init={toString:function(){return"CodeMirror.Init"}};Ut("value","",function(e,t){e.setValue(t)},!0),Ut("mode",null,n,!0),Ut("indentUnit",2,n,!0),Ut("indentWithTabs",!1),Ut("smartIndent",!0),Ut("tabSize",4,function(e){n(e),z(e),y(e,!0)},!0),Ut("electricChars",!0),Ut("rtlMoveVisually",!Vn),Ut("theme","default",function(e){o(e),a(e)},!0),Ut("keyMap","default",s),Ut("extraKeys",null),Ut("onKeyEvent",null),Ut("onDragEvent",null),Ut("lineWrapping",!1,r,!0),Ut("gutters",[],function(e){h(e.options),a(e)},!0),Ut("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?v(e.display)+"px":"0",e.refresh()},!0),Ut("lineNumbers",!1,function(e){h(e.options),a(e)},!0),Ut("firstLineNumber",1,a,!0),Ut("lineNumberFormatter",function(e){return e},a,!0),Ut("showCursorWhenSelecting",!1,T,!0),Ut("readOnly",!1,function(e,t){"nocursor"==t?(bt(e),e.display.input.blur()):t||Z(e,!0)}),Ut("dragDrop",!0),Ut("cursorBlinkRate",530),Ut("cursorHeight",1),Ut("workTime",100),Ut("workDelay",100),Ut("flattenSpans",!0),Ut("pollInterval",100),Ut("undoDepth",40),Ut("viewportMargin",10,function(e){e.refresh()},!0),Ut("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),Ut("autofocus",null);var lr=e.modes={},ur=e.mimeModes={};e.defineMode=function(t,i){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){i.dependencies=[];for(var n=2;n<arguments.length;++n)i.dependencies.push(arguments[n])}lr[t]=i},e.defineMIME=function(e,t){ur[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ur.hasOwnProperty(t))t=ur[t];else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,i){i=e.resolveMode(i);var n=lr[i.name];if(!n)return e.getMode(t,"text/plain");var r=n(t,i);if(cr.hasOwnProperty(i.name)){var s=cr[i.name];for(var o in s)s.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=s[o])}return r.name=i.name,r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var cr=e.modeExtensions={};e.extendMode=function(e,t){var i=cr.hasOwnProperty(e)?cr[e]:cr[e]={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n])},e.defineExtension=function(t,i){e.prototype[t]=i},e.defineOption=Ut;var hr=[];e.defineInitHook=function(e){hr.push(e)},e.copyState=Vt,e.startState=Yt,e.innerMode=function(e,t){for(;e.innerMode;){var i=e.innerMode(t);t=i.state,e=i.mode}return i||{mode:e,state:t}};var dr=e.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e.getCursor(!0),i=e.getCursor(!1),n=!St(t,i);n||e.getLine(t.line).length!=t.ch?e.replaceRange("",t,n?i:{line:t.line},"delete"):e.replaceRange("",t,{line:t.line+1,ch:0},"delete")},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",{line:t,ch:0},{line:t},"delete")},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.extendSelection({line:0,ch:0})},goDocEnd:function(e){e.extendSelection({line:e.lineCount()-1})},goLineStart:function(e){e.extendSelection(Sn(e,e.getCursor().line))},goLineStartSmart:function(e){var t=e.getCursor(),i=Sn(e,t.line),n=e.getLineHandle(i.line),r=Ri(n);if(r&&0!=r[0].level)e.extendSelection(i);else{var s=Math.max(0,n.text.search(/\S/)),o=t.line==i.line&&t.ch<=s&&t.ch;e.extendSelection({line:i.line,ch:o?0:s})}},goLineEnd:function(e){e.extendSelection(Mn(e,e.getCursor().line))},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end","input")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end","input")},transposeChars:function(e){var t=e.getCursor(),i=e.getLine(t.line);t.ch>0&&t.ch<i.length-1&&e.replaceRange(i.charAt(t.ch)+i.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(e){Q(e,function(){e.replaceSelection("\n","end","input"),e.indentLine(e.getCursor().line,null,!0)})()},toggleOverwrite:function(e){e.toggleOverwrite()}},pr=e.keyMap={};pr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},pr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordBefore","Ctrl-Delete":"delWordAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},pr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordBefore","Ctrl-Alt-Backspace":"delWordAfter","Alt-Delete":"delWordAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},pr["default"]=Un?pr.macDefault:pr.pcDefault,pr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.isModifierKey=Xt,e.fromTextArea=function(t,i){function n(){t.value=l.getValue()
}if(i||(i={}),i.value=t.value,!i.tabindex&&t.tabindex&&(i.tabindex=t.tabindex),null==i.autofocus){var r=document.body;try{r=document.activeElement}catch(s){}i.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form){Zi(t.form,"submit",n);var o=t.form,a=o.submit;try{o.submit=function u(){n(),o.submit=a,o.submit(),o.submit=u}}catch(s){}}t.style.display="none";var l=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},i);return l.save=n,l.getTextArea=function(){return t},l.toTextArea=function(){n(),t.parentNode.removeChild(l.getWrapperElement()),t.style.display="",t.form&&(en(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=a))},l},Jt.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var i=t==e;else var i=t&&(e.test?e.test(t):e(t));return i?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return on(this.string,this.start,this.tabSize)},indentation:function(){return on(this.string,null,this.tabSize)},match:function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var r=function(e){return i?e.toLowerCase():e};return r(this.string).indexOf(r(e),this.pos)==this.pos?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=Jt,e.TextMarker=Gt,Gt.prototype.clear=function(){if(!this.explicitlyCleared){V(this.cm);for(var e=this.cm.view,t=null,i=null,n=0;n<this.lines.length;++n){var r=this.lines[n],s=ei(r.markedSpans,this);null!=s.to&&(i=zi(r)),r.markedSpans=ti(r.markedSpans,s),null!=s.from?t=zi(r):this.collapsed&&!hi(r)&&Li(r,q(this.cm.display))}if(this.collapsed&&!this.cm.options.lineWrapping)for(var n=0;n<this.lines.length;++n){var o=ci(e.doc,this.lines[n]),a=u(e.doc,o);a>e.maxLineLength&&(e.maxLine=o,e.maxLineLength=a,e.maxLineChanged=!0)}null!=t&&K(this.cm,t,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.collapsed&&this.cm.view.cantEdit&&(this.cm.view.cantEdit=!1,Nt(this.cm)),Y(this.cm),nn(this.cm,this,"clear")}},Gt.prototype.find=function(){for(var e,t,i=0;i<this.lines.length;++i){var n=this.lines[i],r=ei(n.markedSpans,this);if(null!=r.from||null!=r.to){var s=zi(n);null!=r.from&&(e={line:s,ch:r.from}),null!=r.to&&(t={line:s,ch:r.to})}}return"bookmark"==this.type?e:e&&{from:e,to:t}},Gt.prototype.getOptions=function(e){var t=this.replacedWith;return{className:this.className,inclusiveLeft:this.inclusiveLeft,inclusiveRight:this.inclusiveRight,atomic:this.atomic,collapsed:this.collapsed,clearOnEnter:this.clearOnEnter,replacedWith:e?t&&t.cloneNode(!0):t,readOnly:this.readOnly,startStyle:this.startStyle,endStyle:this.endStyle}};var fr=e.LineWidget=function(e,t,i){for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.cm=e,this.node=t};fr.prototype.clear=yi(function(){var e=this.line.widgets,t=zi(this.line);if(null!=t&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);Li(this.line,Math.max(0,this.line.height-bi(this))),K(this.cm,t,t+1)}}),fr.prototype.changed=yi(function(){var e=this.height;this.height=null;var t=bi(this)-e;if(t){Li(this.line,this.line.height+t);var i=zi(this.line);K(this.cm,i,i+1)}});var mr={},gr=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g;Ni.prototype={chunkSize:function(){return this.lines.length},remove:function(e,t,i){for(var n=e,r=e+t;r>n;++n){var s=this.lines[n];this.height-=s.height,xi(s),nn(i,s,"delete")}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertHeight:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0,r=t.length;r>n;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;n>e;++e)if(i(this.lines[e]))return!0}},Fi.prototype={chunkSize:function(){return this.size},remove:function(e,t,i){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],s=r.chunkSize();if(s>e){var o=Math.min(t,s-e),a=r.height;if(r.remove(e,o,i),this.height-=a-r.height,s==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=s}if(this.size-t<25){var l=[];this.collapse(l),this.children=[new Ni(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0,i=this.children.length;i>t;++t)this.children[t].collapse(e)},insert:function(e,t){for(var i=0,n=0,r=t.length;r>n;++n)i+=t[n].height;this.insertHeight(e,t,i)},insertHeight:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0,r=this.children.length;r>n;++n){var s=this.children[n],o=s.chunkSize();if(o>=e){if(s.insertHeight(e,t,i),s.lines&&s.lines.length>50){for(;s.lines.length>50;){var a=s.lines.splice(s.lines.length-25,25),l=new Ni(a);s.height-=l.height,this.children.splice(n+1,0,l),l.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),i=new Fi(t);if(e.parent){e.size-=i.size,e.height-=i.height;var n=cn(e.parent.children,e);e.parent.children.splice(n+1,0,i)}else{var r=new Fi(e.children);r.parent=e,e.children=[r,i],e=r}i.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iter:function(e,t,i){this.iterN(e,t-e,i)},iterN:function(e,t,i){for(var n=0,r=this.children.length;r>n;++n){var s=this.children[n],o=s.chunkSize();if(o>e){var a=Math.min(t,o-e);if(s.iterN(e,a,i))return!0;if(0==(t-=a))break;e=0}else e-=o}}},e.e_stop=Ki,e.e_preventDefault=Yi,e.e_stopPropagation=Qi,e.on=Zi,e.off=en,e.signal=tn;var vr=30,yr=e.Pass={toString:function(){return"CodeMirror.Pass"}};sn.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}},e.countColumn=on;var br=[""],wr=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,_r=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F]/,kr=function(){if(Pn)return!1;var e=mn("div");return"draggable"in e||"dragDrop"in e}(),xr=/^$/;jn?xr=/$'/:zn?xr=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:In&&(xr=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var Cr,Tr,Sr=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;n>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var s=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),o=s.indexOf("\r");-1!=o?(i.push(s.slice(0,o)),t+=o+1):(i.push(s),t=r+1)}return i}:function(e){return e.split(/\r\n?|\n/)};e.splitLines=Sr;var Mr=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(i){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Er=function(){var e=mn("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Dr={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};e.keyNames=Dr,function(){for(var e=0;10>e;e++)Dr[e+48]=String(e);for(var e=65;90>=e;e++)Dr[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Dr[e+111]=Dr[e+63235]="F"+e}();var jr=function(){function e(e){return 255>=e?t.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1791>=e?i.charAt(e-1536):e>=1792&&2220>=e?"r":"L"}var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,s=/[LRr]/,o=/[Lb1n]/,a=/[1n]/,l="L";return function(t){if(!n.test(t))return!1;for(var i,u=t.length,c=[],h=0;u>h;++h)c.push(i=e(t.charCodeAt(h)));for(var h=0,d=l;u>h;++h){var i=c[h];"m"==i?c[h]=d:d=i}for(var h=0,p=l;u>h;++h){var i=c[h];"1"==i&&"r"==p?c[h]="n":s.test(i)&&(p=i,"r"==i&&(c[h]="R"))}for(var h=1,d=c[0];u-1>h;++h){var i=c[h];"+"==i&&"1"==d&&"1"==c[h+1]?c[h]="1":","!=i||d!=c[h+1]||"1"!=d&&"n"!=d||(c[h]=d),d=i}for(var h=0;u>h;++h){var i=c[h];if(","==i)c[h]="N";else if("%"==i){for(var f=h+1;u>f&&"%"==c[f];++f);for(var m=h&&"!"==c[h-1]||u-1>f&&"1"==c[f]?"1":"N",g=h;f>g;++g)c[g]=m;h=f-1}}for(var h=0,p=l;u>h;++h){var i=c[h];"L"==p&&"1"==i?c[h]="L":s.test(i)&&(p=i)}for(var h=0;u>h;++h)if(r.test(c[h])){for(var f=h+1;u>f&&r.test(c[f]);++f);for(var v="L"==(h?c[h-1]:l),y="L"==(u-1>f?c[f]:l),m=v||y?"L":"R",g=h;f>g;++g)c[g]=m;h=f-1}for(var b,w=[],h=0;u>h;)if(o.test(c[h])){var _=h;for(++h;u>h&&o.test(c[h]);++h);w.push({from:_,to:h,level:0})}else{var k=h,x=w.length;for(++h;u>h&&"L"!=c[h];++h);for(var g=k;h>g;)if(a.test(c[g])){g>k&&w.splice(x,0,{from:k,to:g,level:1});var C=g;for(++g;h>g&&a.test(c[g]);++g);w.splice(x,0,{from:C,to:g,level:2}),k=g}else++g;h>k&&w.splice(x,0,{from:k,to:h,level:1})}return 1==w[0].level&&(b=t.match(/^\s+/))&&(w[0].from=b[0].length,w.unshift({from:0,to:b[0].length,level:0})),1==ln(w).level&&(b=t.match(/\s+$/))&&(ln(w).to-=b[0].length,w.push({from:u-b[0].length,to:u,level:0})),w[0].level!=ln(w).level&&w.push({from:u,to:u,level:w[0].level}),w}}();return e.version="3.02",e}(),CodeMirror.defineMode("clike",function(e,t){function i(e,t){var i=e.next();if(g[i]){var s=g[i](e,t);if(s!==!1)return s}if('"'==i||"'"==i)return t.tokenize=n(i),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(i))return l=i,null;if(/\d/.test(i))return e.eatWhile(/[\w\.]/),"number";if("/"==i){if(e.eat("*"))return t.tokenize=r,r(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(y.test(i))return e.eatWhile(y),"operator";e.eatWhile(/[\w\$_]/);var o=e.current();return d.propertyIsEnumerable(o)?(f.propertyIsEnumerable(o)&&(l="newstatement"),"keyword"):p.propertyIsEnumerable(o)?(f.propertyIsEnumerable(o)&&(l="newstatement"),"builtin"):m.propertyIsEnumerable(o)?"atom":"variable"}function n(e){return function(t,i){for(var n,r=!1,s=!1;null!=(n=t.next());){if(n==e&&!r){s=!0;break}r=!r&&"\\"==n}return(s||!r&&!v)&&(i.tokenize=null),"string"}}function r(e,t){for(var i,n=!1;i=e.next();){if("/"==i&&n){t.tokenize=null;break}n="*"==i}return"comment"}function s(e,t,i,n,r){this.indented=e,this.column=t,this.type=i,this.align=n,this.prev=r}function o(e,t,i){var n=e.indented;return e.context&&"statement"==e.context.type&&(n=e.context.indented),e.context=new s(n,t,i,null,e.context)}function a(e){var t=e.context.type;return(")"==t||"]"==t||"}"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}var l,u=e.indentUnit,c=t.statementIndentUnit||u,h=t.dontAlignCalls,d=t.keywords||{},p=t.builtin||{},f=t.blockKeywords||{},m=t.atoms||{},g=t.hooks||{},v=t.multiLineStrings,y=/[+\-*&%=<>!?|\/]/;return{startState:function(e){return{tokenize:null,context:new s((e||0)-u,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;l=null;var r=(t.tokenize||i)(e,t);if("comment"==r||"meta"==r)return r;if(null==n.align&&(n.align=!0),";"!=l&&":"!=l&&","!=l||"statement"!=n.type)if("{"==l)o(t,e.column(),"}");else if("["==l)o(t,e.column(),"]");else if("("==l)o(t,e.column(),")");else if("}"==l){for(;"statement"==n.type;)n=a(t);for("}"==n.type&&(n=a(t));"statement"==n.type;)n=a(t)}else l==n.type?a(t):(("}"==n.type||"top"==n.type)&&";"!=l||"statement"==n.type&&"newstatement"==l)&&o(t,e.column(),"statement");else a(t);return t.startOfLine=!1,r},indent:function(e,t){if(e.tokenize!=i&&null!=e.tokenize)return CodeMirror.Pass;var n=e.context,r=t&&t.charAt(0);"statement"==n.type&&"}"==r&&(n=n.prev);var s=r==n.type;return"statement"==n.type?n.indented+("{"==r?0:c):h&&")"==n.type&&!s?n.indented+c:n.align?n.column+(s?0:1):n.indented+(s?0:u)},electricChars:"{}"}}),function(){function e(e){for(var t={},i=e.split(" "),n=0;n<i.length;++n)t[i[n]]=!0;return t}function t(e,i){if(!i.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),i.tokenize=null;break}if(e.next(),e.eol()){i.tokenize=t;break}}return"meta"}function i(e,t){for(var i;null!=(i=e.next());)if('"'==i&&!e.eat('"')){t.tokenize=null;break}return"string"}function n(e,t){for(var i=0;i<e.length;++i)CodeMirror.defineMIME(e[i],t)}var r="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";n(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:e(r),blockKeywords:e("case do else for if switch while struct"),atoms:e("null"),hooks:{"#":t}}),n(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:e(r+" asm dynamic_cast namespace reinterpret_cast try bool explicit new "+"static_cast typeid catch operator template typename class friend private "+"this using const_cast inline public throw virtual delete mutable protected "+"wchar_t"),blockKeywords:e("catch class do else finally for if struct switch try while"),atoms:e("true false null"),hooks:{"#":t}}),CodeMirror.defineMIME("text/x-java",{name:"clike",keywords:e("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:e("catch class do else finally for if switch try while"),atoms:e("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}}}),CodeMirror.defineMIME("text/x-csharp",{name:"clike",keywords:e("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:e("catch class do else finally for foreach if struct switch try while"),builtin:e("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:e("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=i,i(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),CodeMirror.defineMIME("text/x-scala",{name:"clike",keywords:e("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),blockKeywords:e("catch class do else finally for forSome if match switch try while"),atoms:e("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}}})}(),CodeMirror.defineMode("css",function(e){function t(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=!0;return t}function i(e,t){return l=t,e}function n(e,t){var n=e.next();if("@"==n)return e.eatWhile(/[\w\\\-]/),i("def",e.current());if("/"==n&&e.eat("*"))return t.tokenize=r,r(e,t);if("<"==n&&e.eat("!"))return t.tokenize=s,s(e,t);if("="==n)i(null,"compare");else{if(("~"==n||"|"==n)&&e.eat("="))return i(null,"compare");if('"'==n||"'"==n)return t.tokenize=o(n),t.tokenize(e,t);if("#"==n)return e.eatWhile(/[\w\\\-]/),i("atom","hash");if("!"==n)return e.match(/^\s*\w*/),i("keyword","important");if(/\d/.test(n))return e.eatWhile(/[\w.%]/),i("number","unit");if("-"!==n)return/[,+>*\/]/.test(n)?i(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?i("qualifier","qualifier"):":"==n?i("operator",n):/[;{}\[\]\(\)]/.test(n)?i(null,n):"u"==n&&e.match("rl(")?(e.backUp(1),t.tokenize=a,i("property","variable")):(e.eatWhile(/[\w\\\-]/),i("property","variable"));if(/\d/.test(e.peek()))return e.eatWhile(/[\w.%]/),i("number","unit");if(e.match(/^[^-]+-/))return i("meta","meta")}}function r(e,t){for(var r,s=!1;null!=(r=e.next());){if(s&&"/"==r){t.tokenize=n;break}s="*"==r}return i("comment","comment")}function s(e,t){for(var r,s=0;null!=(r=e.next());){if(s>=2&&">"==r){t.tokenize=n;break}s="-"==r?s+1:0}return i("comment","comment")}function o(e,t){return function(r,s){for(var o,a=!1;null!=(o=r.next())&&(o!=e||a);)a=!a&&"\\"==o;return a||(t&&r.backUp(1),s.tokenize=n),i("string","string")}}function a(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\']/,!1)?n:o(")",!0),i(null,"(")}var l,u=e.indentUnit,c=t(["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"]),h=t(["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"]),d=t(["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid-cell","grid-column","grid-column-align","grid-column-sizing","grid-column-span","grid-columns","grid-flow","grid-row","grid-row-align","grid-row-sizing","grid-row-span","grid-rows","grid-template","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-shadow","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"]),p=t(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"]),f=t(["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","navy","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","overlay","overline","padding","padding-box","painted","paused","persian","plus-darker","plus-lighter","pointer","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","white","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small","yellow"]);return{startState:function(e){return{tokenize:n,baseIndent:e||0,stack:[]}},token:function(e,t){if(t.tokenize==n&&e.eatSpace())return null;var i=t.tokenize(e,t),r=t.stack[t.stack.length-1];return"property"==i?"propertyValue"==r?i=f[e.current()]?"string-2":p[e.current()]?"keyword":"variable-2":"rule"==r?d[e.current()]||(i+=" error"):r&&"@media{"!=r?"@media"==r?i=c[e.current()]?"attribute":/^(only|not)$/i.test(e.current())?"keyword":"and"==e.current().toLowerCase()?"error":h[e.current()]?"error":"attribute error":"@mediaType"==r?i=c[e.current()]?"attribute":"and"==e.current().toLowerCase()?"operator":/^(only|not)$/i.test(e.current())?"error":h[e.current()]?"error":"error":"@mediaType("==r?d[e.current()]||(c[e.current()]?i="error":"and"==e.current().toLowerCase()?i="operator":/^(only|not)$/i.test(e.current())?i="error":i+=" error"):i="error":i="tag":"atom"==i?r&&"@media{"!=r?"propertyValue"==r?/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e.current())||(i+=" error"):i="error":i="builtin":"@media"==r&&"{"==l&&(i="error"),"{"==l?"@media"==r||"@mediaType"==r?(t.stack.pop(),t.stack[t.stack.length-1]="@media{"):t.stack.push("rule"):"}"==l?(t.stack.pop(),"propertyValue"==r&&t.stack.pop()):"@media"==l?t.stack.push("@media"):"@media"==r&&/\b(keyword|attribute)\b/.test(i)?t.stack.push("@mediaType"):"@mediaType"==r&&","==e.current()?t.stack.pop():"@mediaType"==r&&"("==l?t.stack.push("@mediaType("):"@mediaType("==r&&")"==l?t.stack.pop():"rule"==r&&":"==l?t.stack.push("propertyValue"):"propertyValue"==r&&";"==l&&t.stack.pop(),i},indent:function(e,t){var i=e.stack.length;return/^\}/.test(t)&&(i-="propertyValue"==e.stack[e.stack.length-1]?2:1),e.baseIndent+i*u},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("htmlembedded",function(e,t){function i(e,t){return e.match(o,!1)?(t.token=n,r.token(e,t.scriptState)):s.token(e,t.htmlState)}function n(e,t){return e.match(a,!1)?(t.token=i,s.token(e,t.htmlState)):r.token(e,t.scriptState)}var r,s,o=t.scriptStartRegex||/^<%/i,a=t.scriptEndRegex||/^%>/i;return{startState:function(){return r=r||CodeMirror.getMode(e,t.scriptingModeSpec),s=s||CodeMirror.getMode(e,"htmlmixed"),{token:t.startOpen?n:i,htmlState:CodeMirror.startState(s),scriptState:CodeMirror.startState(r)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return e.token==i?s.indent(e.htmlState,t):r.indent?r.indent(e.scriptState,t):void 0},copyState:function(e){return{token:e.token,htmlState:CodeMirror.copyState(s,e.htmlState),scriptState:CodeMirror.copyState(r,e.scriptState)}},electricChars:"/{}:",innerMode:function(e){return e.token==n?{state:e.scriptState,mode:r}:{state:e.htmlState,mode:s}}}},"htmlmixed"),CodeMirror.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),CodeMirror.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),CodeMirror.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),CodeMirror.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"}),CodeMirror.defineMode("htmlmixed",function(e){function t(e,t){var i=s.token(e,t.htmlState);return/(?:^|\s)tag(?:\s|$)/.test(i)&&">"==e.current()&&t.htmlState.context&&(/^script$/i.test(t.htmlState.context.tagName)?(t.token=n,t.localState=o.startState(s.indent(t.htmlState,""))):/^style$/i.test(t.htmlState.context.tagName)&&(t.token=r,t.localState=a.startState(s.indent(t.htmlState,"")))),i
}function i(e,t,i){var n,r=e.current(),s=r.search(t);return s>-1?e.backUp(r.length-s):(n=r.match(/<\/?$/))&&(e.backUp(r.length),e.match(t,!1)||e.match(r[0])),i}function n(e,n){return e.match(/^<\/\s*script\s*>/i,!1)?(n.token=t,n.localState=null,t(e,n)):i(e,/<\/\s*script\s*>/,o.token(e,n.localState))}function r(e,n){return e.match(/^<\/\s*style\s*>/i,!1)?(n.token=t,n.localState=null,t(e,n)):i(e,/<\/\s*style\s*>/,a.token(e,n.localState))}var s=CodeMirror.getMode(e,{name:"xml",htmlMode:!0}),o=CodeMirror.getMode(e,"javascript"),a=CodeMirror.getMode(e,"css");return{startState:function(){var e=s.startState();return{token:t,localState:null,mode:"html",htmlState:e}},copyState:function(e){if(e.localState)var t=CodeMirror.copyState(e.token==r?a:o,e.localState);return{token:e.token,localState:t,mode:e.mode,htmlState:CodeMirror.copyState(s,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,i){return e.token==t||/^\s*<\//.test(i)?s.indent(e.htmlState,i):e.token==n?o.indent(e.localState,i):a.indent(e.localState,i)},electricChars:"/{}:",innerMode:function(e){var i=e.token==t?s:e.token==n?o:a;return{state:e.localState||e.htmlState,mode:i}}}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed"),CodeMirror.defineMode("javascript",function(e,t){function i(e,t,i){return t.tokenize=i,i(e,t)}function n(e,t){for(var i,n=!1;null!=(i=e.next());){if(i==t&&!n)return!1;n=!n&&"\\"==i}return n}function r(e,t,i){return z=e,O=i,t}function s(e,t){var s=e.next();if('"'==s||"'"==s)return i(e,t,o(s));if(/[\[\]{}\(\),;\:\.]/.test(s))return r(s);if("0"==s&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),r("number","number");if(/\d/.test(s)||"-"==s&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==s)return e.eat("*")?i(e,t,a):e.eat("/")?(e.skipToEnd(),r("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(n(e,"/"),e.eatWhile(/[gimy]/),r("regexp","string-2")):(e.eatWhile(q),r("operator",null,e.current()));if("#"==s)return e.skipToEnd(),r("error","error");if(q.test(s))return e.eatWhile(q),r("operator",null,e.current());e.eatWhile(/[\w\$_]/);var l=e.current(),u=B.propertyIsEnumerable(l)&&B[l];return u&&"."!=t.lastType?r(u.type,u.style,l):r("variable","variable",l)}function o(e){return function(t,i){return n(t,e)||(i.tokenize=s),r("string","string")}}function a(e,t){for(var i,n=!1;i=e.next();){if("/"==i&&n){t.tokenize=s;break}n="*"==i}return r("comment","comment")}function l(e,t,i,n,r,s){this.indented=e,this.column=t,this.type=i,this.prev=r,this.info=s,null!=n&&(this.align=n)}function u(e,t){for(var i=e.localVars;i;i=i.next)if(i.name==t)return!0}function c(e,t,i,n,r){var s=e.cc;for(V.state=e,V.stream=r,V.marked=null,V.cc=s,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=s.length?s.pop():W?w:b;if(o(i,n)){for(;s.length&&s[s.length-1].lex;)s.pop()();return V.marked?V.marked:"variable"==i&&u(e,n)?"variable-2":t}}}function h(){for(var e=arguments.length-1;e>=0;e--)V.cc.push(arguments[e])}function d(){return h.apply(null,arguments),!0}function p(e){function t(t){for(var i=t;i;i=i.next)if(i.name==e)return!0;return!1}var i=V.state;if(i.context){if(V.marked="def",t(i.localVars))return;i.localVars={name:e,next:i.localVars}}else{if(t(i.globalVars))return;i.globalVars={name:e,next:i.globalVars}}}function f(){V.state.context={prev:V.state.context,vars:V.state.localVars},V.state.localVars=Y}function m(){V.state.localVars=V.state.context.vars,V.state.context=V.state.context.prev}function g(e,t){var i=function(){var i=V.state;i.lexical=new l(i.indented,V.stream.column(),e,null,i.lexical,t)};return i.lex=!0,i}function v(){var e=V.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function y(e){return function(t){return t==e?d():";"==e?h():d(arguments.callee)}}function b(e){return"var"==e?d(g("vardef"),j,y(";"),v):"keyword a"==e?d(g("form"),w,b,v):"keyword b"==e?d(g("form"),b,v):"{"==e?d(g("}"),M,v):";"==e?d():"function"==e?d(I):"for"==e?d(g("form"),y("("),g(")"),$,y(")"),v,b,v):"variable"==e?d(g("stat"),x):"switch"==e?d(g("form"),w,g("}","switch"),y("{"),M,v,v):"case"==e?d(w,y(":")):"default"==e?d(y(":")):"catch"==e?d(g("form"),f,y("("),L,y(")"),b,v,m):h(g("stat"),w,y(";"),v)}function w(e){return U.hasOwnProperty(e)?d(k):"function"==e?d(I):"keyword c"==e?d(_):"("==e?d(g(")"),_,y(")"),v,k):"operator"==e?d(w):"["==e?d(g("]"),S(w,"]"),v,k):"{"==e?d(g("}"),S(T,"}"),v,k):d()}function _(e){return e.match(/[;\}\)\],]/)?h():h(w)}function k(e,t){if("operator"==e&&/\+\+|--/.test(t))return d(k);if("operator"==e&&"?"==t)return d(w,y(":"),w);if(";"!=e)return"("==e?d(g(")"),S(w,")"),v,k):"."==e?d(C,k):"["==e?d(g("]"),w,y("]"),v,k):void 0}function x(e){return":"==e?d(v,b):h(k,y(";"),v)}function C(e){return"variable"==e?(V.marked="property",d()):void 0}function T(e){return"variable"==e&&(V.marked="property"),U.hasOwnProperty(e)?d(y(":"),w):void 0}function S(e,t){function i(n){return","==n?d(e,i):n==t?d():d(y(t))}return function(n){return n==t?d():h(e,i)}}function M(e){return"}"==e?d():h(b,M)}function E(e){return":"==e?d(D):h()}function D(e){return"variable"==e?(V.marked="variable-3",d()):h()}function j(e,t){return"variable"==e?(p(t),R?d(E,A):d(A)):h()}function A(e,t){return"="==t?d(w,A):","==e?d(j):void 0}function $(e){return"var"==e?d(j,y(";"),N):";"==e?d(N):"variable"==e?d(P):d(N)}function P(e,t){return"in"==t?d(w):d(k,N)}function N(e,t){return";"==e?d(F):"in"==t?d(w):d(w,y(";"),F)}function F(e){")"!=e&&d(w)}function I(e,t){return"variable"==e?(p(t),d(I)):"("==e?d(g(")"),f,S(L,")"),v,b,m):void 0}function L(e,t){return"variable"==e?(p(t),R?d(E):d()):void 0}var z,O,H=e.indentUnit,W=t.json,R=t.typescript,B=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),i=e("keyword b"),n=e("keyword c"),r=e("operator"),s={type:"atom",style:"atom"},o={"if":t,"while":t,"with":t,"else":i,"do":i,"try":i,"finally":i,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":r,"typeof":r,"instanceof":r,"true":s,"false":s,"null":s,undefined:s,NaN:s,Infinity:s};if(R){var a={type:"variable",style:"variable-3"},l={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:a,number:a,bool:a,any:a};for(var u in l)o[u]=l[u]}return o}(),q=/[+\-*&%=<>!?|]/,U={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},V={state:null,column:null,marked:null,cc:null},Y={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(e){return{tokenize:s,lastType:null,cc:[],lexical:new l((e||0)-H,0,"block",!1),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var i=t.tokenize(e,t);return"comment"==z?i:(t.lastType=z,c(t,i,z,O,e))},indent:function(e,t){if(e.tokenize==a)return CodeMirror.Pass;if(e.tokenize!=s)return 0;var i=t&&t.charAt(0),n=e.lexical;"stat"==n.type&&"}"==i&&(n=n.prev);var r=n.type,o=i==r;return"vardef"==r?n.indented+("operator"==e.lastType||","==e.lastType?4:0):"form"==r&&"{"==i?n.indented:"form"==r?n.indented+H:"stat"==r?n.indented+("operator"==e.lastType||","==e.lastType?H:0):"switch"!=n.info||o?n.align?n.column+(o?0:1):n.indented+(o?0:H):n.indented+(/^(?:case|default)\b/.test(t)?H:2*H)},electricChars:":{}",jsonMode:W}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),function(){function e(e){for(var t={},i=e.split(" "),n=0;n<i.length;++n)t[i[n]]=!0;return t}function t(e){return function(t,i){return t.match(e)?i.tokenize=null:t.skipToEnd(),"string"}}var i={name:"clike",keywords:e("abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent"),blockKeywords:e("catch do else elseif for foreach if switch try while"),atoms:e("true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__"),builtin:e("func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport echo print global static exit array empty eval isset unset die include require include_once require_once"),multiLineStrings:!0,hooks:{$:function(e){return e.eatWhile(/[\w\$_]/),"variable-2"},"<":function(e,i){return e.match(/<</)?(e.eatWhile(/[\w\.]/),i.tokenize=t(e.current().slice(3)),i.tokenize(e,i)):!1},"#":function(e){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"},"/":function(e){if(e.eat("/")){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"}return!1}}};CodeMirror.defineMode("php",function(e,t){function n(e,t){var i=t.curMode==s;if(e.sol()&&'"'!=t.pending&&(t.pending=null),i)return i&&null==t.php.tokenize&&e.match("?>")?(t.curMode=r,t.curState=t.html,"meta"):s.token(e,t.curState);if(e.match(/^<\?\w*/))return t.curMode=s,t.curState=t.php,"meta";if('"'==t.pending){for(;!e.eol()&&'"'!=e.next(););var n="string"}else if(t.pending&&e.pos<t.pending.end){e.pos=t.pending.end;var n=t.pending.style}else var n=r.token(e,t.curState);t.pending=null;var o=e.current(),a=o.search(/<\?/);return-1!=a&&(t.pending="string"==n&&/\"$/.test(o)&&!/\?>/.test(o)?'"':{end:e.pos,style:n},e.backUp(o.length-a)),n}var r=CodeMirror.getMode(e,"text/html"),s=CodeMirror.getMode(e,i);return{startState:function(){var e=CodeMirror.startState(r),i=CodeMirror.startState(s);return{html:e,php:i,curMode:t.startOpen?s:r,curState:t.startOpen?i:e,pending:null}},copyState:function(e){var t,i=e.html,n=CodeMirror.copyState(r,i),o=e.php,a=CodeMirror.copyState(s,o);return t=e.curMode==r?n:a,{html:n,php:a,curMode:e.curMode,curState:t,pending:e.pending}},token:n,indent:function(e,t){return e.curMode!=s&&/^\s*<\//.test(t)||e.curMode==s&&/^\?>/.test(t)?r.indent(e.html,t):e.curMode.indent(e.curState,t)},electricChars:"/{}:",innerMode:function(e){return{state:e.curState,mode:e.curMode}}}},"htmlmixed"),CodeMirror.defineMIME("application/x-httpd-php","php"),CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),CodeMirror.defineMIME("text/x-php",i)}(),CodeMirror.defineMode("ruby",function(e){function t(e){for(var t={},i=0,n=e.length;n>i;++i)t[e[i]]=!0;return t}function i(e,t,i){return i.tokenize.push(e),e(t,i)}function n(e,t){if(l=null,e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(a),"comment";if(e.eatSpace())return null;var n,r=e.next();if("`"==r||"'"==r||'"'==r||"/"==r&&!e.eol()&&" "!=e.peek())return i(s(r,"string",'"'==r||"`"==r),e,t);if("%"==r){var u,c=!1;e.eat("s")?u="atom":e.eat(/[WQ]/)?(u="string",c=!0):e.eat(/[wxqr]/)&&(u="string");var h=e.eat(/[^\w\s]/);return h?(d.propertyIsEnumerable(h)&&(h=d[h]),i(s(h,u,c,!0),e,t)):"operator"}if("#"==r)return e.skipToEnd(),"comment";if("<"==r&&(n=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return i(o(n[1]),e,t);if("0"==r)return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(r))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==r){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}return":"==r?e.eat("'")?i(s("'","atom",!1),e,t):e.eat('"')?i(s('"',"atom",!0),e,t):(e.eatWhile(/[\w\?]/),"atom"):"@"==r?(e.eat("@"),e.eatWhile(/[\w\?]/),"variable-2"):"$"==r?(e.next(),e.eatWhile(/[\w\?]/),"variable-3"):/\w/.test(r)?(e.eatWhile(/[\w\?]/),e.eat(":")?"atom":"ident"):"|"!=r||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok?/[\(\)\[\]{}\\;]/.test(r)?(l=r,null):"-"==r&&e.eat(">")?"arrow":/[=+\-\/*:\.^%<>~|]/.test(r)?(e.eatWhile(/[=+\-\/*:\.^%<>~|]/),"operator"):null:(l="|",null)}function r(){var e=1;return function(t,i){if("}"==t.peek()){if(e--,0==e)return i.tokenize.pop(),i.tokenize[i.tokenize.length-1](t,i)}else"{"==t.peek()&&e++;return n(t,i)}}function s(e,t,i,n){return function(s,o){for(var a,l=!1;null!=(a=s.next());){if(a==e&&(n||!l)){o.tokenize.pop();break}if(i&&"#"==a&&!l&&s.eat("{")){o.tokenize.push(r(arguments.callee));break}l=!l&&"\\"==a}return t}}function o(e){return function(t,i){return t.match(e)?i.tokenize.pop():t.skipToEnd(),"string"}}function a(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var l,u=t(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload"]),c=t(["def","class","case","for","while","do","module","then","catch","loop","proc","begin"]),h=t(["end","until"]),d={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[n],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){e.sol()&&(t.indented=e.indentation());var i,n=t.tokenize[t.tokenize.length-1](e,t);if("ident"==n){var r=e.current();n=u.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(r)?"tag":"def"==t.lastTok||"class"==t.lastTok||t.varList?"def":"variable",c.propertyIsEnumerable(r)?i="indent":h.propertyIsEnumerable(r)?i="dedent":"if"!=r&&"unless"!=r||e.column()!=e.indentation()||(i="indent")}return(l||n&&"comment"!=n)&&(t.lastTok=r||l||n),"|"==l&&(t.varList=!t.varList),"indent"==i||/[\(\[\{]/.test(l)?t.context={prev:t.context,type:l||n,indented:t.indented}:("dedent"==i||/[\)\]\}]/.test(l))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"==l||"operator"==n),n},indent:function(t,i){if(t.tokenize[t.tokenize.length-1]!=n)return 0;var r=i&&i.charAt(0),s=t.context,o=s.type==d[r]||"keyword"==s.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(i);return s.indented+(o?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)},electricChars:"}de"}}),CodeMirror.defineMIME("text/x-ruby","ruby"),CodeMirror.defineMode("xml",function(e,t){function i(e,t){function i(i){return t.tokenize=i,i(e,t)}var r=e.next();if("<"==r){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?i(s("atom","]]>")):null:e.match("--")?i(s("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),i(o(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=s("meta","?>"),"meta";var a=e.eat("/");b="";for(var l;l=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)b+=l;return b?(w=a?"closeTag":"openTag",t.tokenize=n,"tag"):"error"}if("&"==r){var u;return u=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),u?"atom":"error"}return e.eatWhile(/[^&<]/),null}function n(e,t){var n=e.next();return">"==n||"/"==n&&e.eat(">")?(t.tokenize=i,w=">"==n?"endTag":"selfcloseTag","tag"):"="==n?(w="equals",null):/[\'\"]/.test(n)?(t.tokenize=r(n),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function r(e){return function(t,i){for(;!t.eol();)if(t.next()==e){i.tokenize=n;break}return"string"}}function s(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=i;break}n.next()}return e}}function o(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=o(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=i;break}return n.tokenize=o(e-1),n.tokenize(t,n)}}return"meta"}}function a(){for(var e=arguments.length-1;e>=0;e--)_.cc.push(arguments[e])}function l(){return a.apply(null,arguments),!0}function u(e,t){var i=C.doNotIndent.hasOwnProperty(e)||_.context&&_.context.noIndent;_.context={prev:_.context,tagName:e,indent:_.indented,startOfLine:t,noIndent:i}}function c(){_.context&&(_.context=_.context.prev)}function h(e){if("openTag"==e)return _.tagName=b,l(m,d(_.startOfLine));if("closeTag"==e){var t=!1;return _.context?_.context.tagName!=b&&(C.implicitlyClosed.hasOwnProperty(_.context.tagName.toLowerCase())&&c(),t=!_.context||_.context.tagName!=b):t=!0,t&&(k="error"),l(p(t))}return l()}function d(e){return function(t){var i=_.tagName;return _.tagName=null,"selfcloseTag"==t||"endTag"==t&&C.autoSelfClosers.hasOwnProperty(i.toLowerCase())?(f(i.toLowerCase()),l()):"endTag"==t?(f(i.toLowerCase()),u(i,e),l()):l()}}function p(e){return function(t){return e&&(k="error"),"endTag"==t?(c(),l()):(k="error",l(arguments.callee))}}function f(e){for(var t;;){if(!_.context)return;if(t=_.context.tagName.toLowerCase(),!C.contextGrabbers.hasOwnProperty(t)||!C.contextGrabbers[t].hasOwnProperty(e))return;c()}}function m(e){return"word"==e?(k="attribute",l(g,m)):"endTag"==e||"selfcloseTag"==e?a():(k="error",l(m))}function g(e){return"equals"==e?l(v,m):(C.allowMissing?"word"==e&&(k="attribute"):k="error","endTag"==e||"selfcloseTag"==e?a():l())}function v(e){return"string"==e?l(y):"word"==e&&C.allowUnquoted?(k="string",l()):(k="error","endTag"==e||"selfCloseTag"==e?a():l())}function y(e){return"string"==e?l(y):a()}var b,w,_,k,x=e.indentUnit,C=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},T=t.alignCDATA;return{startState:function(){return{tokenize:i,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=e.indentation()),e.eatSpace())return null;k=w=b=null;var i=t.tokenize(e,t);if(t.type=w,(i||w)&&"comment"!=i)for(_=t;;){var n=t.cc.pop()||h;if(n(w||i))break}return t.startOfLine=!1,k||i},indent:function(e,t,r){var s=e.context;if(e.tokenize!=n&&e.tokenize!=i||s&&s.noIndent)return r?r.match(/^(\s*)/)[0].length:0;if(T&&/<!\[CDATA\[/.test(t))return 0;for(s&&/^<\//.test(t)&&(s=s.prev);s&&!s.startOfLine;)s=s.prev;return s?s.indent+x:0},electricChars:"/",configuration:t.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};!function(e,t){function i(e,t,i){function n(){}function r(){}n.prototype=e,r.prototype=e.subs;var s,o=new n;o.subs=new r,o.ib();for(s in t)o.subs[s]=t[s];for(s in i)o.partials[s]=i[s];return o}function n(e){return String(null===e||void 0===e?"":e)}function r(e){return e=n(e),c.test(e)?e.replace(s,"&amp;").replace(o,"&lt;").replace(a,"&gt;").replace(l,"&#39;").replace(u,"&quot;"):e}e.Template=function(e,t,i,n){e=e||{},this.r=e.code||this.r,this.c=i,this.options=n,this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.ib()},e.Template.prototype={r:function(){return""},v:r,t:n,render:function(e,t,i){return this.ri([e],t||{},i)},ri:function(e,t,i){return this.r(e,t,i)},ep:function(e,t){var n=this.partials[e],r=t[n.name];if(n.instance&&n.base==r)return n.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}return r?(this.partials[e].base=r,n.subs&&(r=i(r,n.subs,n.partials)),this.partials[e].instance=r,r):null},rp:function(e,t,i,n){var r=this.ep(e,i);return r?r.ri(t,i,n):""},rs:function(e,t,i){var n=e[e.length-1];if(!h(n))return i(e,t,this),void 0;for(var r=0;r<n.length;r++)e.push(n[r]),i(e,t,this),e.pop()},s:function(e,t,i,n,r,s,o){var a;return h(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ms(e,t,i,n,r,s,o)),a=""===e||!!e,!n&&a&&t&&t.push("object"==typeof e?e:t[t.length-1]),a)},d:function(e,t,i,n){var r=e.split("."),s=this.f(r[0],t,i,n),o=null;if("."===e&&h(t[t.length-2]))return t[t.length-1];for(var a=1;a<r.length;a++)s&&"object"==typeof s&&null!=s[r[a]]?(o=s,s=s[r[a]]):s="";return n&&!s?!1:(n||"function"!=typeof s||(t.push(o),s=this.mv(s,t,i),t.pop()),s)},f:function(e,t,i,n){for(var r=!1,s=null,o=!1,a=t.length-1;a>=0;a--)if(s=t[a],s&&"object"==typeof s&&null!=s[e]){r=s[e],o=!0;break}return o?(n||"function"!=typeof r||(r=this.mv(r,t,i)),r):n?!1:""},ls:function(e,t,i,r,s){var o=this.options.delimiters;return this.options.delimiters=s,this.b(this.ct(n(e.call(t,r)),t,i)),this.options.delimiters=o,!1},ct:function(e,t,i){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,i)},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ib:function(){this.buf=t?[]:""},ms:function(e,t,i,n,r,s,o){var a=t[t.length-1],l=e.call(a);return"function"==typeof l?n?!0:this.ls(l,a,i,this.text.substring(r,s),o):l},mv:function(e,t,i){var r=t[t.length-1],s=e.call(r);return"function"==typeof s?this.ct(n(s.call(r)),r,i):s},sub:function(e,t,i,n){var r=this.subs[e];r&&r(t,i,this,n)}};var s=/&/g,o=/</g,a=/>/g,l=/\'/g,u=/\"/g,c=/[&<>\"\']/,h=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function i(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function n(e,t,i){if(t.charAt(i)!=e.charAt(0))return!1;for(var n=1,r=e.length;r>n;n++)if(t.charAt(i+n)!=e.charAt(n))return!1;return!0}function r(t,i,n,a){var l=[],u=null,c=null,h=null;for(c=n[n.length-1];t.length>0;){if(h=t.shift(),c&&"<"==c.tag&&!(h.tag in b))throw new Error("Illegal content in < super tag.");if(e.tags[h.tag]<=e.tags.$||s(h,a))n.push(h),h.nodes=r(t,h.tag,n,a);else{if("/"==h.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+h.n);if(u=n.pop(),h.n!=u.n&&!o(h.n,u.n,a))throw new Error("Nesting error: "+u.n+" vs. "+h.n);return u.end=h.i,l}"\n"==h.tag&&(h.last=0==t.length||"\n"==t[0].tag)}l.push(h)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return l}function s(e,t){for(var i=0,n=t.length;n>i;i++)if(t[i].o==e.n)return e.tag="#",!0}function o(e,t,i){for(var n=0,r=i.length;r>n;n++)if(i[n].c==e&&i[n].o==t)return!0}function a(e){var t=[];for(var i in e)t.push('"'+u(i)+'": function(c,p,t,i) {'+e[i]+"}");return"{ "+t.join(",")+" }"}function l(e){var t=[];for(var i in e.partials)t.push('"'+u(i)+'":{name:"'+u(e.partials[i].name)+'", '+l(e.partials[i])+"}");return"partials: {"+t.join(",")+"}, subs: "+a(e.subs)}function u(e){return e.replace(y,"\\\\").replace(m,'\\"').replace(g,"\\n").replace(v,"\\r")}function c(e){return~e.indexOf(".")?"d":"f"}function h(e,t){var i="<"+(t.prefix||""),n=i+e.n+w++;return t.partials[n]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+u(n)+'",c,p,"'+(e.indent||"")+'"));',n}function d(e,t){t.code+="t.b(t.t(t."+c(e.n)+'("'+u(e.n)+'",c,p,0)));'}function p(e){return"t.b("+e+");"}var f=/\S/,m=/\"/g,g=/\n/g,v=/\r/g,y=/\\/g;e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(r,s){function o(){y.length>0&&(b.push({tag:"_t",text:new String(y)}),y="")}function a(){for(var t=!0,i=k;i<b.length;i++)if(t=e.tags[b[i].tag]<e.tags._v||"_t"==b[i].tag&&null===b[i].text.match(f),!t)return!1;return t}function l(e,t){if(o(),e&&a())for(var i,n=k;n<b.length;n++)b[n].text&&((i=b[n+1])&&">"==i.tag&&(i.indent=b[n].text.toString()),b.splice(n,1));else t||b.push({tag:"\n"});w=!1,k=b.length}function u(e,t){var n="="+C,r=e.indexOf(n,t),s=i(e.substring(e.indexOf("=",t)+1,r)).split(" ");return x=s[0],C=s[1],r+n.length-1}var c=r.length,h=0,d=1,p=2,m=h,g=null,v=null,y="",b=[],w=!1,_=0,k=0,x="{{",C="}}";for(s&&(s=s.split(" "),x=s[0],C=s[1]),_=0;c>_;_++)m==h?n(x,r,_)?(--_,o(),m=d):"\n"==r.charAt(_)?l(w):y+=r.charAt(_):m==d?(_+=x.length-1,v=e.tags[r.charAt(_+1)],g=v?r.charAt(_+1):"_v","="==g?(_=u(r,_),m=h):(v&&_++,m=p),w=_):n(C,r,_)?(b.push({tag:g,n:i(y),otag:x,ctag:C,i:"/"==g?w-x.length:_+C.length}),y="",_+=C.length-1,m=h,"{"==g&&("}}"==C?_++:t(b[b.length-1]))):y+=r.charAt(_);return l(w,!0),b};var b={_t:!0,"\n":!0,$:!0,"/":!0};e.stringify=function(t){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+l(t)+"}"};var w=0;e.generate=function(t,i,n){w=0;var r={code:"",subs:{},partials:{}};return e.walk(t,r),n.asString?this.stringify(r,i,n):this.makeTemplate(r,i,n)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,i){var n=this.makePartials(e);return n.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(n,t,this,i)},e.makePartials=function(e){var t,i={subs:{},partials:e.partials,name:e.name};for(t in i.partials)i.partials[t]=this.makePartials(i.partials[t]);for(t in e.subs)i.subs[t]=new Function("c","p","t","i",e.subs[t]);return i},e.codegen={"#":function(t,i){i.code+="if(t.s(t."+c(t.n)+'("'+u(t.n)+'",c,p,1),'+"c,p,0,"+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){'+"t.rs(c,p,"+"function(c,p,t){",e.walk(t.nodes,i),i.code+="});c.pop();}"},"^":function(t,i){i.code+="if(!t.s(t."+c(t.n)+'("'+u(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,i),i.code+="};"},">":h,"<":function(t,i){var n={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,n);var r=i.partials[h(t,i)];r.subs=n.subs,r.partials=n.partials},$:function(t,i){var n={subs:{},code:"",partials:i.partials,prefix:t.n};e.walk(t.nodes,n),i.subs[t.n]=n.code,i.inPartial||(i.code+='t.sub("'+u(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=p('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+c(e.n)+'("'+u(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=p('"'+u(e.text)+'"')},"{":d,"&":d},e.walk=function(t,i){for(var n,r=0,s=t.length;s>r;r++)n=e.codegen[t[r].tag],n&&n(t[r],i);return i},e.parse=function(e,t,i){return i=i||{},r(e,"",[],i.sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda].join("||")},e.compile=function(t,i){i=i||{};var n=e.cacheKey(t,i),r=this.cache[n];return r?r:(r=this.generate(this.parse(this.scan(t,i.delimiters),t,i),t,i),this.cache[n]=r)}}("undefined"!=typeof exports?exports:Hogan),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_feedback_correct"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="feedback correct">'),n.b("\n"+i),n.b('  <div class="grid-65">'),n.b("\n"+i),n.b("    <p><strong>Nice!</strong> "),n.b(n.v(n.f("feedback",e,t,0))),n.b("</p>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b('  <div class="grid-35">'),n.b("\n"+i),n.b('    <div class="button-container">'),n.b("\n"+i),n.b('      <a class="button button-primary cc-goto">Next Task</a>'),n.b("\n"+i),n.b("    </div>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_feedback_wrong"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="feedback incorrect">'),n.b("\n"+i),n.b('  <div class="grid-65">'),n.b("\n"+i),n.b("    <p><strong>Bummer!</strong> "),n.b(n.v(n.f("feedback",e,t,0))),n.b("</p>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b('  <div class="grid-35">'),n.b("\n"+i),n.b('    <div class="button-container">'),n.b("\n"+i),n.b('      <a class="button button-alert cc-test" data-default-text="Try again">Try again</a>'),n.b("\n"+i),n.b("    </div>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_results"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="grid-100">'),n.b("\n"+i),n.b('<div class="feedback neutral">'),n.b("\n"+i),n.b('  <div class="grid-65">'),n.b("\n"+i),n.b("    <p><strong>Results</strong></p>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b('  <div class="grid-35">'),n.b("\n"+i),n.b('    <div class="button-container">'),n.b("\n"+i),n.b("      <a class='button button-secondary hide-results' data-task-number='"),n.b(n.v(n.f("currentTask",e,t,0))),n.b("'>Hide</a>"),n.b("\n"+i),n.b("    </div>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.b("\n"+i),n.b("<iframe id='results-"),n.b(n.v(n.f("currentTask",e,t,0))),n.b("' class='command-results' src='"),n.b(n.v(n.f("url",e,t,0))),n.b("'>"),n.b("\n"+i),n.b("</iframe>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_task"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="contained task_view">'),n.b("\n"+i),n.b('  <div class="grid-100">'),n.b("\n"+i),n.b('    <div class="secondary-heading challenge-heading">'),n.b("\n"+i),n.b('      <div id="instructions">'),n.b("\n"+i),n.b('        <strong class="task-count">Challenge task '),n.b(n.v(n.f("task",e,t,0))),n.b(" of "),n.b(n.v(n.f("totalTasks",e,t,0))),n.b("</strong>"),n.b("\n"+i),n.b('        <img src="'),n.b(n.v(n.f("badgeUrl",e,t,0))),n.b('" style="display: none"/>'),n.b("\n"+i),n.b('        <h1 class="markdown-zone">'),n.b(n.t(n.d("taskData.body",e,t,0))),n.b("</h1>"),n.b("\n"+i),n.b("        <p>Type in your command below, then press Enter.</p>"),n.b("\n"+i),n.b("      </div>"),n.b("\n"+i),n.b("    </div>"),n.b("\n"),n.b("\n"+i),n.b('    <div class="workspace">'),n.b("\n"+i),n.b('      <div class="cc-workspace">'),n.b("\n"+i),n.b('        <div id="feedback">'),n.b("\n"+i),n.b("        </div>"),n.b("\n"+i),n.b('        <div class="cc-editor-container">'),n.b("\n"+i),n.b('          <div class="terminal"></div>'),n.b("\n"+i),n.b("        </div>"),n.b("\n"+i),n.b("      </div>"),n.b("\n"+i),n.b("    </div>"),n.b("\n"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_correct"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="feedback correct">'),n.b("\n"+i),n.b('  <div class="grid-65">'),n.b("\n"+i),n.b("    <p><strong>Well done!</strong> "),n.b(n.v(n.f("feedback",e,t,0))),n.b("</p>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b('  <div class="grid-35">'),n.b("\n"+i),n.b('    <div class="button-container">'),n.b("\n"+i),n.b('      <a class="button button-primary cc-goto" data-task="'),n.b(n.v(n.f("nextTask",e,t,0))),n.b('">Next task<span class="icon icon-right-white"></span></a>'),n.b("\n"+i),n.b("    </div>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_finished"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="feedback correct">'),n.b("\n"+i),n.b('  <div class="grid-100">'),n.b("\n"+i),n.b("    <p><strong>Congrats!</strong> You completed the challenge!</p>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_inactive_task_failed"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="feedback incorrect">'),n.b("\n"+i),n.b('  <div class="grid-65">'),n.b("\n"+i),n.b("    <p><strong>Oops!</strong> It looks like Task "),n.b(n.v(n.f("failedTask",e,t,0))),n.b(" is no longer passing.</p>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b('  <div class="grid-35">'),n.b("\n"+i),n.b('    <div class="button-container">'),n.b("\n"+i),n.b('      <a class="button button-primary cc-test" data-task="'),n.b(n.v(n.f("currentTask",e,t,0))),n.b('">Recheck work</a>'),n.b("\n"+i),n.b('      <a class="button button-alert cc-goto" data-task="'),n.b(n.v(n.f("failedTask",e,t,0))),n.b('">Go to task '),n.b(n.v(n.f("failedTaskAsWord",e,t,0))),n.b("</a>"),n.b("\n"+i),n.b("    </div>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_neutral"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="feedback neutral">'),n.b("\n"+i),n.b('  <div class="grid-60">'),n.b("\n"+i),n.b('    <p><span class="icon icon-info"></span><strong>Important:</strong> The code you write in each task should be added to the code written in the previous task.</p>'),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b('  <div class="grid-40">'),n.b("\n"+i),n.b('    <div class="button-container">'),n.b("\n"+i),n.b('      <a class="button button-secondary cc-preview" data-default-text="Refresh">Refresh<span class="icon icon-resume"></span></a>'),n.b("\n"+i),n.b('      <a class="button button-secondary show-results-button"><i>Preview<span class="icon icon-view"></span></i></a>'),n.b("\n"+i),n.b('      <a class="button button-secondary show-workspace-button"><i>Editor<span class="icon icon-editor"></span></i></a>'),n.b("\n"+i),n.b('      <a class="button button-primary cc-test" data-task="'),n.b(n.v(n.f("task",e,t,0))),n.b('" data-default-text="Check work">Check work</a>'),n.b("\n"+i),n.b("    </div>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_wrong"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="feedback incorrect">'),n.b("\n"+i),n.b('  <div class="grid-65">'),n.b("\n"+i),n.b("    <p><strong>Bummer!</strong> "),n.b(n.v(n.f("feedback",e,t,0))),n.b("</p>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b('  <div class="grid-35">'),n.b("\n"+i),n.b('    <div class="button-container">'),n.b("\n"+i),n.b('      <a class="button button-alert cc-preview" data-default-text="Refresh">Refresh<span class="icon icon-resume"></span></a>'),n.b("\n"+i),n.b('      <a class="button button-alert show-results-button"><i>Preview<span class="icon icon-view"></span></i></a>'),n.b("\n"+i),n.b('      <a class="button button-alert show-workspace-button"><i>Editor<span class="icon icon-editor"></span></i></a>'),n.b("\n"+i),n.b('      <a class="button button-primary cc-test" data-task="'),n.b(n.v(n.f("failedTask",e,t,0))),n.b('" data-default-text="Recheck work">Recheck work</a>'),n.b("\n"+i),n.b("    </div>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/instructions"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<strong class="task-count">Challenge task '),n.b(n.v(n.f("task",e,t,0))),n.b(" of "),n.b(n.v(n.f("totalTasks",e,t,0))),n.b("</strong>"),n.b("\n"+i),n.b('<img src="'),n.b(n.v(n.f("badgeImageUrl",e,t,0))),n.b('" style="display: none"/>'),n.b("\n"+i),n.b('<h1 class="markdown-zone"><p>'),n.b(n.t(n.f("body",e,t,0))),n.b("</p></h1>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["profile/github_repo"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<li class="grid-50 tablet-grid-50">'),n.b("\n"+i),n.b('  <div class="content-block">'),n.b("\n"+i),n.b('    <div class="content-meta">'),n.b("\n"+i),n.b('      <a href="'),n.b(n.v(n.f("repoUrl",e,t,0))),n.b('">'),n.b("\n"+i),n.b('        <span class="icon icon-github"></span>'),n.b("\n"+i),n.b("        <strong>Github Repository</strong>"),n.b("\n"+i),n.b("        <h3>"),n.b(n.v(n.f("repoName",e,t,0))),n.b("</h3>"),n.b("\n"+i),n.b("      </a>"),n.b("\n"+i),n.b('      <p class="description">'),n.b(n.v(n.f("repoDescription",e,t,0))),n.b("</p>"),n.b("\n"+i),n.b('      <div class="content-actions-container content-stats">'),n.b("\n"+i),n.b("        <ul>"),n.b("\n"+i),n.b("          <li>"),n.b("\n"+i),n.b('            <a href="'),n.b(n.v(n.f("repoForksUrl",e,t,0))),n.b('"></a>'),n.b("\n"+i),n.b("              <strong>"),n.b(n.v(n.f("repoForks",e,t,0))),n.b("</strong>"),n.b("\n"+i),n.b("              <p>Forks</p>"),n.b("\n"+i),n.b("            </a>"),n.b("\n"+i),n.b("          </li>"),n.b("\n"+i),n.b("          <li>"),n.b("\n"+i),n.b('            <a href="'),n.b(n.v(n.f("repoStargazersUrl",e,t,0))),n.b('">'),n.b("\n"+i),n.b("              <strong>"),n.b(n.v(n.f("repoStargazers",e,t,0))),n.b("</strong>"),n.b("\n"+i),n.b("              <p>Stargazers</p>"),n.b("\n"+i),n.b("            </a>"),n.b("\n"+i),n.b("          </li>"),n.b("\n"+i),n.b("        </ul>"),n.b("\n"+i),n.s(n.f("repoOwner",e,t,1),e,t,0,758,788,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("        <p>Owner</p>"),n.b("\n"+i)}),e.pop()),n.s(n.f("repoOwner",e,t,1),e,t,1,0,0,"")||(n.b("        <p>Contributor</p>"),n.b("\n"+i)),n.b("      </div>"),n.b("\n"+i),n.b("    </div>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</li>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/feedback"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="feedback '),n.s(n.f("answer_passed",e,t,1),e,t,1,0,0,"")||n.b("incorrect"),n.b('">'),n.b("\n"+i),n.b('  <div class="grid-65">'),n.b("\n"+i),n.b('    <span class="icon icon-feedback"></span>'),n.b("\n"+i),n.b("    <p>"),n.b("\n"+i),n.s(n.f("answer_passed",e,t,1),e,t,0,170,238,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("      <strong>Well done!</strong> That's the correct answer."),n.b("\n"+i)}),e.pop()),n.s(n.f("answer_passed",e,t,1),e,t,1,0,0,"")||(n.b("      <strong>Bummer!</strong> Unfortunately, that answer is incorrect."),n.b("\n"+i)),n.b("    </p>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b('  <div class="grid-35">'),n.b("\n"+i),n.b('    <div class="button-container">'),n.b("\n"+i),n.b('      <a href="#" class="button button-primary'),n.s(n.f("answer_passed",e,t,1),e,t,1,0,0,"")||n.b(" button-alert"),n.b('">Next question <span class="icon icon-right-white"></span></a>'),n.b("\n"+i),n.b("    </div>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/fill_in_the_blank"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<ul class="quiz-answers fill-in-blank">'),n.b("\n"+i),n.s(n.f("answers",e,t,1),e,t,0,54,274,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("  <li>"),n.b("\n"+i),n.b('    <form id="fill-in-blank">'),n.b("\n"+i),n.b("      "),n.b(n.t(n.f("answer",e,t,0))),n.b("\n"+i),n.b('      <input type="submit" value="Submit" id="submit" class="hidden">'),n.b("\n"+i),n.b("    </form>"),n.b("\n"+i),n.b('    <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" class="button button-primary">Submit Answer</a>'),n.b("\n"+i),n.b("  </li>"),n.b("\n"+i)}),e.pop()),n.b("</ul>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/multiple_choice"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<ul class="quiz-answers multiple-choice">'),n.b("\n"+i),n.s(n.f("answers",e,t,1),e,t,0,56,221,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("  <li>"),n.b("\n"+i),n.b('    <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('">'),n.b("\n"+i),n.b('      <strong class="abc" id="answer_'),n.b(n.t(n.f("abcd",e,t,0))),n.b('">'),n.b(n.t(n.f("abcd",e,t,0))),n.b("</strong>"),n.b("\n"+i),n.b('      <div class="answer">'),n.b(n.t(n.f("answer",e,t,0))),n.b("</div>"),n.b("\n"+i),n.b("    </a>"),n.b("\n"+i),n.b("  </li>"),n.b("\n"+i)}),e.pop()),n.b("</ul>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/question"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.s(n.d("question.video",e,t,1),e,t,0,19,141,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("  "),n.b(n.t(n.d("question.video",e,t,0))),n.b("\n"+i),n.b("  <script>"),n.b("\n"+i),n.b("      new Featurette.registered_features['video-player']($('#player')[0]);"),n.b("\n"+i),n.b("  </script>"),n.b("\n"+i)}),e.pop()),n.s(n.d("question.image",e,t,1),e,t,0,180,230,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.d("question.image",e,t,0))),i.b('" alt="Quiz Question">')}),e.pop()),n.b("\n"+i),n.b('<strong class="question-count">Quiz question '),n.b(n.v(n.d("question.current_question",e,t,0))),n.b(" of "),n.b(n.v(n.d("question.total_questions",e,t,0))),n.b("</strong>"),n.b("\n"+i),n.b("<h1>"),n.b(n.t(n.d("question.question",e,t,0))),n.b("</h1>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/score"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="module quiz-score">'),n.b("\n"+i),n.b('  <div class="contained secondary">'),n.b("\n"+i),n.b('    <ul class="quiz-answers-breakdown">'),n.b("\n"+i),n.b('      <li class="correct'),n.s(n.d("score.answers_correct",e,t,1),e,t,0,158,165,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" active")}),e.pop()),n.b(' grid-50 tablet-grid-50 mobile-grid-50 grid-parent">'),n.b("\n"+i),n.b("        <strong>"),n.b(n.v(n.d("score.answers_correct",e,t,0))),n.b("</strong>"),n.b("\n"+i),n.b("        <p>Correct</p>"),n.b("\n"+i),n.b("      </li>"),n.b("\n"+i),n.b('      <li class="incorrect'),n.s(n.d("score.answers_incorrect",e,t,1),e,t,0,384,391,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" active")}),e.pop()),n.b(' grid-50 tablet-grid-50 mobile-grid-50 grid-parent">'),n.b("\n"+i),n.b("        <strong>"),n.b(n.v(n.d("score.answers_incorrect",e,t,0))),n.b("</strong>"),n.b("\n"+i),n.b("        <p>Incorrect</p>"),n.b("\n"+i),n.b("      </li>"),n.b("\n"+i),n.b("    </ul>"),n.b("\n"+i),n.b('    <div class="disclaimer">'),n.b("\n"+i),n.b('      <span class="icon icon-info"></span>'),n.b("\n"+i),n.b("      <p>You need <strong>"),n.b(n.v(n.d("score.answers_to_pass",e,t,0))),n.b(" correct "),n.b(n.v(n.f("label",e,t,0))),n.b("</strong> or more to pass this quiz.</p>"),n.b("\n"+i),n.b("    </div>"),n.b("\n"+i),n.b("  </div>"),n.b("\n"+i),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/true_false"]=new Hogan.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<ul class="quiz-answers true-false">'),n.b("\n"+i),n.s(n.f("answers",e,t,1),e,t,0,51,161,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("  <li>"),n.b("\n"+i),n.b('    <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('">'),n.b("\n"+i),n.b('      <strong id="answer_'),n.b(n.t(n.f("answer",e,t,0))),n.b('">'),n.b(n.v(n.f("answer",e,t,0))),n.b("</strong>"),n.b("\n"+i),n.b("    </a>"),n.b("\n"+i),n.b("  </li>"),n.b("\n"+i)}),e.pop()),n.b("</ul>"),n.b("\n"),n.fl()},partials:{},subs:{}},"",Hogan,{});/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2013, John Dyer (http://j.hn)
* License: MIT
*
*/
var mejs=mejs||{};mejs.version="2.13.1",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>',t.firstChild.href},getScriptPath:function(e){for(var t,i,n,r,s,o,a=0,l="",u="",c=document.getElementsByTagName("script"),h=c.length,d=e.length;h>a;a++){for(r=c[a].src,i=r.lastIndexOf("/"),i>-1?(o=r.substring(i+1),s=r.substring(0,i+1)):(o=r,s=""),t=0;d>t;t++)if(u=e[t],n=o.indexOf(u),n>-1){l=s;break}if(""!==l)break}return l},secondsToTimeCode:function(e,t,i,n){"undefined"==typeof i?i=!1:"undefined"==typeof n&&(n=25);var r=Math.floor(e/3600)%24,s=Math.floor(e/60)%60,o=Math.floor(e%60),a=Math.floor((e%1*n).toFixed(3)),l=(t||r>0?(10>r?"0"+r:r)+":":"")+(10>s?"0"+s:s)+":"+(10>o?"0"+o:o)+(i?":"+(10>a?"0"+a:a):"");return l},timeCodeToSeconds:function(e,t,i,n){"undefined"==typeof i?i=!1:"undefined"==typeof n&&(n=25);var r=e.split(":"),s=parseInt(r[0],10),o=parseInt(r[1],10),a=parseInt(r[2],10),l=0,u=0;return i&&(l=parseInt(r[3])/n),u=3600*s+60*o+a+l},convertSMPTEtoSeconds:function(e){if("string"!=typeof e)return!1;e=e.replace(",",".");var t=0,i=-1!=e.indexOf(".")?e.split(".")[1].length:0,n=1;e=e.split(":").reverse();for(var r=0;r<e.length;r++)n=1,r>0&&(n=Math.pow(60,r)),t+=Number(e[r])*n;return Number(t.toFixed(i))},removeSwf:function(e){var t=document.getElementById(e);t&&/object|embed/i.test(t.nodeName)&&(mejs.MediaFeatures.isIE?(t.style.display="none",function(){4==t.readyState?mejs.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(e){var t=document.getElementById(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}},mejs.PluginDetector={hasPluginVersion:function(e,t){var i=this.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,i[0]>t[0]||i[0]==t[0]&&i[1]>t[1]||i[0]==t[0]&&i[1]==t[1]&&i[2]>=t[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,i,n,r){this.plugins[e]=this.detectPlugin(t,i,n,r)},detectPlugin:function(e,t,i,n){var r,s,o,a=[0,0,0];if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[e]){if(r=this.nav.plugins[e].description,r&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[t]||this.nav.mimeTypes[t].enabledPlugin))for(a=r.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),s=0;s<a.length;s++)a[s]=parseInt(a[s].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{o=new ActiveXObject(i),o&&(a=n(o))}catch(l){}return a}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[],i=e.GetVariable("$version");return i&&(i=i.split(" ")[1].split(","),t=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]),t}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var t=[0,0,0,0],i=function(e,t,i,n){for(;e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]);)t[i]+=n;t[i]-=n};return i(e,t,0,1),i(e,t,1,1),i(e,t,2,1e4),i(e,t,2,1e3),i(e,t,2,100),i(e,t,2,10),i(e,t,2,1),i(e,t,3,1),t}),mejs.MediaFeatures={init:function(){var e,t,i=this,n=document,r=mejs.PluginDetector.nav,s=mejs.PluginDetector.ua.toLowerCase(),o=["source","track","audio","video"];i.isiPad=null!==s.match(/ipad/i),i.isiPhone=null!==s.match(/iphone/i),i.isiOS=i.isiPhone||i.isiPad,i.isAndroid=null!==s.match(/android/i),i.isBustedAndroid=null!==s.match(/android 2\.[12]/),i.isBustedNativeHTTPS="https:"===location.protocol&&(null!==s.match(/android [12]\./)||null!==s.match(/macintosh.* version.* safari/)),i.isIE=null!==r.appName.toLowerCase().match(/trident/gi),i.isChrome=null!==s.match(/chrome/gi),i.isFirefox=null!==s.match(/firefox/gi),i.isWebkit=null!==s.match(/webkit/gi),i.isGecko=null!==s.match(/gecko/gi)&&!i.isWebkit&&!i.isIE,i.isOpera=null!==s.match(/opera/gi),i.hasTouch="ontouchstart"in window&&null!=window.ontouchstart,i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(e=0;e<o.length;e++)t=document.createElement(o[e]);i.supportsMediaTag="undefined"!=typeof t.canPlayType||i.isBustedAndroid;try{t.canPlayType("video/mp4")}catch(a){i.supportsMediaTag=!1}i.hasSemiNativeFullScreen="undefined"!=typeof t.webkitEnterFullscreen,i.hasNativeFullscreen="undefined"!=typeof t.requestFullscreen,i.hasWebkitNativeFullScreen="undefined"!=typeof t.webkitRequestFullScreen,i.hasMozNativeFullScreen="undefined"!=typeof t.mozRequestFullScreen,i.hasMsNativeFullScreen="undefined"!=typeof t.msRequestFullscreen,i.hasTrueNativeFullScreen=i.hasWebkitNativeFullScreen||i.hasMozNativeFullScreen||i.hasMsNativeFullScreen,i.nativeFullScreenEnabled=i.hasTrueNativeFullScreen,i.hasMozNativeFullScreen?i.nativeFullScreenEnabled=document.mozFullScreenEnabled:i.hasMsNativeFullScreen&&(i.nativeFullScreenEnabled=document.msFullscreenEnabled),i.isChrome&&(i.hasSemiNativeFullScreen=!1),i.hasTrueNativeFullScreen&&(i.fullScreenEventName="",i.hasWebkitNativeFullScreen?i.fullScreenEventName="webkitfullscreenchange":i.hasMozNativeFullScreen?i.fullScreenEventName="mozfullscreenchange":i.hasMsNativeFullScreen&&(i.fullScreenEventName="MSFullscreenChange"),i.isFullScreen=function(){return t.mozRequestFullScreen?n.mozFullScreen:t.webkitRequestFullScreen?n.webkitIsFullScreen:t.hasMsNativeFullScreen?null!==n.msFullscreenElement:void 0},i.requestFullScreen=function(e){i.hasWebkitNativeFullScreen?e.webkitRequestFullScreen():i.hasMozNativeFullScreen?e.mozRequestFullScreen():i.hasMsNativeFullScreen&&e.msRequestFullscreen()},i.cancelFullScreen=function(){i.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():i.hasMozNativeFullScreen?document.mozCancelFullScreen():i.hasMsNativeFullScreen&&document.msExitFullscreen()}),i.hasSemiNativeFullScreen&&s.match(/mac os x 10_5/i)&&(i.hasNativeFullScreen=!1,i.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){for(var t=this.getElementsByTagName("source");t.length>0;)this.removeChild(t[0]);if("string"==typeof e)this.src=e;else{var i,n;for(i=0;i<e.length;i++)if(n=e[i],this.canPlayType(n.type)){this.src=n.src;break}}},setVideoSize:function(e,t){this.width=e,this.height=t}},mejs.PluginMediaElement=function(e,t,i){this.id=e,this.pluginType=t,this.src=i,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(e){var t,i,n,r=mejs.plugins[this.pluginType];for(t=0;t<r.length;t++)if(n=r[t],mejs.PluginDetector.hasPluginVersion(this.pluginType,n.version))for(i=0;i<n.types.length;i++)if(e==n.types[i])return"probably";return""},positionFullscreenButton:function(e,t,i){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(e),Math.floor(t),i)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){if("string"==typeof e)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e)),this.src=mejs.Utility.absolutizeUrl(e);else{var t,i;for(t=0;t<e.length;t++)if(i=e[t],this.canPlayType(i.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(i.src)),this.src=mejs.Utility.absolutizeUrl(e);break}}},setCurrentTime:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.seekTo(e):this.pluginApi.setCurrentTime(e),this.currentTime=e)},setVolume:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.setVolume(100*e):this.pluginApi.setVolume(e),this.volume=e)},setMuted:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?(e?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=e,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(e),this.muted=e)},setVideoSize:function(e,t){this.pluginElement.style&&(this.pluginElement.style.width=e+"px",this.pluginElement.style.height=t+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},removeEventListener:function(e,t){if(!e)return this.events={},!0;var n=this.events[e];if(!n)return!0;if(!t)return this.events[e]=[],!0;for(i=0;i<n.length;i++)if(n[i]===t)return this.events[e].splice(i,1),!0;return!1},dispatchEvent:function(e){var t,i,n=this.events[e];if(n)for(i=Array.prototype.slice.call(arguments,1),t=0;t<n.length;t++)n[t].apply(null,i)},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){return this.hasAttribute(e)?this.attributes[e]:""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id),mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,i){this.pluginMediaElements[e]=t,this.htmlMediaElements[e]=i},unregisterPluginElement:function(e){delete this.pluginMediaElements[e],delete this.htmlMediaElements[e]},initPlugin:function(e){var t=this.pluginMediaElements[e],i=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id),t.pluginApi=t.pluginElement.Content.MediaElementJS}null!=t.pluginApi&&t.success&&t.success(t,i)}},fireEvent:function(e,t,i){var n,r,s,o=this.pluginMediaElements[e];if(o){n={type:t,target:o};for(r in i)o[r]=i[r],n[r]=i[r];s=i.bufferedTime||0,n.target.buffered=n.buffered={start:function(){return 0},end:function(){return s},length:1},o.dispatchEvent(n.type,n)}}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)},mejs.HtmlMediaElementShim={create:function(e,t){var i,n,r=mejs.MediaElementDefaults,s="string"==typeof e?document.getElementById(e):e,o=s.tagName.toLowerCase(),a="audio"===o||"video"===o,l=a?s.getAttribute("src"):s.getAttribute("href"),u=s.getAttribute("poster"),c=s.getAttribute("autoplay"),h=s.getAttribute("preload"),d=s.getAttribute("controls");for(n in t)r[n]=t[n];return l="undefined"==typeof l||null===l||""==l?null:l,u="undefined"==typeof u||null===u?"":u,h="undefined"==typeof h||null===h||"false"===h?"none":h,c=!("undefined"==typeof c||null===c||"false"===c),d=!("undefined"==typeof d||null===d||"false"===d),i=this.determinePlayback(s,r,mejs.MediaFeatures.supportsMediaTag,a,l),i.url=null!==i.url?mejs.Utility.absolutizeUrl(i.url):"","native"==i.method?(mejs.MediaFeatures.isBustedAndroid&&(s.src=i.url,s.addEventListener("click",function(){s.play()},!1)),this.updateNative(i,r,c,h)):""!==i.method?this.createPlugin(i,r,u,c,h,d):(this.createErrorMessage(i,r,u),this)},determinePlayback:function(e,t,i,n,r){var s,o,a,l,u,c,h,d,p,f,m,g=[],v={method:"",url:"",htmlMediaElement:e,isVideo:"audio"!=e.tagName.toLowerCase()};if("undefined"!=typeof t.type&&""!==t.type)if("string"==typeof t.type)g.push({type:t.type,url:r});else for(s=0;s<t.type.length;s++)g.push({type:t.type[s],url:r});else if(null!==r)c=this.formatType(r,e.getAttribute("type")),g.push({type:c,url:r});else for(s=0;s<e.childNodes.length;s++)u=e.childNodes[s],1==u.nodeType&&"source"==u.tagName.toLowerCase()&&(r=u.getAttribute("src"),c=this.formatType(r,u.getAttribute("type")),m=u.getAttribute("media"),(!m||!window.matchMedia||window.matchMedia&&window.matchMedia(m).matches)&&g.push({type:c,url:r}));if(!n&&g.length>0&&null!==g[0].url&&this.getTypeFromFile(g[0].url).indexOf("audio")>-1&&(v.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){return null!==e.match(/video\/(mp4|m4v)/gi)?"maybe":""}),!(!i||"auto"!==t.mode&&"auto_plugin"!==t.mode&&"native"!==t.mode||mejs.MediaFeatures.isBustedNativeHTTPS&&t.httpsBasicAuthSite===!0)){for(n||(f=document.createElement(v.isVideo?"video":"audio"),e.parentNode.insertBefore(f,e),e.style.display="none",v.htmlMediaElement=e=f),s=0;s<g.length;s++)if(""!==e.canPlayType(g[s].type).replace(/no/,"")||""!==e.canPlayType(g[s].type.replace(/mp3/,"mpeg")).replace(/no/,"")){v.method="native",v.url=g[s].url;break}if("native"===v.method&&(null!==v.url&&(e.src=v.url),"auto_plugin"!==t.mode))return v}if("auto"===t.mode||"auto_plugin"===t.mode||"shim"===t.mode)for(s=0;s<g.length;s++)for(c=g[s].type,o=0;o<t.plugins.length;o++)for(h=t.plugins[o],d=mejs.plugins[h],a=0;a<d.length;a++)if(p=d[a],null==p.version||mejs.PluginDetector.hasPluginVersion(h,p.version))for(l=0;l<p.types.length;l++)if(c==p.types[l])return v.method=h,v.url=g[s].url,v;return"auto_plugin"===t.mode&&"native"===v.method?v:(""===v.method&&g.length>0&&(v.url=g[0].url),v)},formatType:function(e,t){return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){e=e.split("?")[0];var t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video":"audio")+"/"+this.getTypeFromExtension(t)},getTypeFromExtension:function(e){switch(e){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}},createErrorMessage:function(e,t,i){var n=e.htmlMediaElement,r=document.createElement("div");r.className="me-cannotplay";try{r.style.width=n.width+"px",r.style.height=n.height+"px"}catch(s){}r.innerHTML=t.customError?t.customError:""!==i?'<a href="'+e.url+'"><img src="'+i+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>",n.parentNode.insertBefore(r,n),n.style.display="none",t.error(n)},createPlugin:function(e,t,i,n,r,s){var o,a,l,u=e.htmlMediaElement,c=1,h=1,d="me_"+e.method+"_"+mejs.meIndex++,p=new mejs.PluginMediaElement(d,e.method,e.url),f=document.createElement("div");p.tagName=u.tagName;for(var m=0;m<u.attributes.length;m++){var g=u.attributes[m];1==g.specified&&p.setAttribute(g.name,g.value)}for(a=u.parentNode;null!==a&&"body"!=a.tagName.toLowerCase();){if("p"==a.parentNode.tagName.toLowerCase()){a.parentNode.parentNode.insertBefore(a,a.parentNode);break}a=a.parentNode}switch(e.isVideo?(c=t.pluginWidth>0?t.pluginWidth:t.videoWidth>0?t.videoWidth:null!==u.getAttribute("width")?u.getAttribute("width"):t.defaultVideoWidth,h=t.pluginHeight>0?t.pluginHeight:t.videoHeight>0?t.videoHeight:null!==u.getAttribute("height")?u.getAttribute("height"):t.defaultVideoHeight,c=mejs.Utility.encodeUrl(c),h=mejs.Utility.encodeUrl(h)):t.enablePluginDebug&&(c=320,h=240),p.success=t.success,mejs.MediaPluginBridge.registerPluginElement(d,p,u),f.className="me-plugin",f.id=d+"_container",e.isVideo?u.parentNode.insertBefore(f,u):document.body.insertBefore(f,document.body.childNodes[0]),l=["id="+d,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(n?"true":"false"),"preload="+r,"width="+c,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+h,"pseudostreamstart="+t.pseudoStreamingStartQueryParam],null!==e.url&&("flash"==e.method?l.push("file="+mejs.Utility.encodeUrl(e.url)):l.push("file="+e.url)),t.enablePluginDebug&&l.push("debug=true"),t.enablePluginSmoothing&&l.push("smoothing=true"),t.enablePseudoStreaming&&l.push("pseudostreaming=true"),s&&l.push("controls=true"),t.pluginVars&&(l=l.concat(t.pluginVars)),e.method){case"silverlight":f.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+d+'" name="'+d+'" width="'+c+'" height="'+h+'" class="mejs-shim">'+'<param name="initParams" value="'+l.join(",")+'" />'+'<param name="windowless" value="true" />'+'<param name="background" value="black" />'+'<param name="minRuntimeVersion" value="3.0.0.0" />'+'<param name="autoUpgrade" value="true" />'+'<param name="source" value="'+t.pluginPath+t.silverlightName+'" />'+"</object>";break;case"flash":mejs.MediaFeatures.isIE?(o=document.createElement("div"),f.appendChild(o),o.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+d+'" width="'+c+'" height="'+h+'" class="mejs-shim">'+'<param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" />'+'<param name="flashvars" value="'+l.join("&amp;")+'" />'+'<param name="quality" value="high" />'+'<param name="bgcolor" value="#000000" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+"</object>"):f.innerHTML='<embed id="'+d+'" name="'+d+'" '+'play="true" '+'loop="false" '+'quality="high" '+'bgcolor="#000000" '+'wmode="transparent" '+'allowScriptAccess="always" '+'allowFullScreen="true" '+'type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" '+'src="'+t.pluginPath+t.flashName+'" '+'flashvars="'+l.join("&")+'" '+'width="'+c+'" '+'height="'+h+'" '+'class="mejs-shim"></embed>';break;case"youtube":var v=e.url.substr(e.url.lastIndexOf("=")+1);youtubeSettings={container:f,containerId:f.id,pluginMediaElement:p,pluginId:d,videoId:v,height:h,width:c},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":p.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1),f.innerHTML='<iframe src="http://player.vimeo.com/video/'+p.vimeoid+'?portrait=0&byline=0&title=0" width="'+c+'" height="'+h+'" frameborder="0" class="mejs-shim"></iframe>'}return u.style.display="none",u.removeAttribute("autoplay"),p},updateNative:function(e,t){var i,n=e.htmlMediaElement;for(i in mejs.HtmlMediaElement)n[i]=mejs.HtmlMediaElement[i];return t.success(n,n),n}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="//www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(e){this.isLoaded?this.createIframe(e):(this.loadIframeApi(),this.iframeQueue.push(e))},createIframe:function(e){var t=e.pluginMediaElement,i=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=i,mejs.MediaPluginBridge.initPlugin(e.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(i,t,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,i,t)}}})},createEvent:function(e,t,i){var n={type:i,target:t};if(e&&e.getDuration){t.currentTime=n.currentTime=e.getCurrentTime(),t.duration=n.duration=e.getDuration(),n.paused=t.paused,n.ended=t.ended,n.muted=e.isMuted(),n.volume=e.getVolume()/100,n.bytesTotal=e.getVideoBytesTotal(),n.bufferedBytes=e.getVideoBytesLoaded();var r=n.bufferedBytes/n.bytesTotal*n.duration;n.target.buffered=n.buffered={start:function(){return 0},end:function(){return r},length:1}}t.dispatchEvent(n.type,n)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var e=this.iframeQueue.pop();this.createIframe(e)}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,i="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(t=document.createElement("div"),e.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'" class="mejs-shim">'+'<param name="movie" value="'+i+'" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+"</object>"):e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+i+'" '+'width="'+e.width+'" height="'+e.height+'" style="visibility: visible; " class="mejs-shim">'+'<param name="allowScriptAccess" value="always">'+'<param name="wmode" value="transparent">'+"</object>"},flashReady:function(e){var t=this.flashPlayers[e],i=document.getElementById(e),n=t.pluginMediaElement;n.pluginApi=n.pluginElement=i,mejs.MediaPluginBridge.initPlugin(e),i.cueVideoById(t.videoId);var r=t.containerId+"_callback";window[r]=function(e){mejs.YouTubeApi.handleStateChange(e,i,n)},i.addEventListener("onStateChange",r),setInterval(function(){mejs.YouTubeApi.createEvent(i,n,"timeupdate")},250)},handleStateChange:function(e,t,i){switch(e){case-1:i.paused=!0,i.ended=!0,mejs.YouTubeApi.createEvent(t,i,"loadedmetadata");break;case 0:i.paused=!1,i.ended=!0,mejs.YouTubeApi.createEvent(t,i,"ended");break;case 1:i.paused=!1,i.ended=!1,mejs.YouTubeApi.createEvent(t,i,"play"),mejs.YouTubeApi.createEvent(t,i,"playing");break;case 2:i.paused=!0,i.ended=!1,mejs.YouTubeApi.createEvent(t,i,"pause");break;case 3:mejs.YouTubeApi.createEvent(t,i,"progress");break;case 5:}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(e,t){"use strict";var i={locale:{language:"",strings:{}},methods:{}};i.locale.getLanguage=function(){return i.locale.language||navigator.language},"undefined"!=typeof mejsL10n&&(i.locale.language=mejsL10n.language),i.locale.INIT_LANGUAGE=i.locale.getLanguage(),i.methods.checkPlain=function(e){var t,i,n={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};e=String(e);for(t in n)n.hasOwnProperty(t)&&(i=new RegExp(t,"g"),e=e.replace(i,n[t]));return e},i.methods.formatString=function(e,t){for(var n in t){switch(n.charAt(0)){case"@":t[n]=i.methods.checkPlain(t[n]);break;case"!":break;case"%":default:t[n]='<em class="placeholder">'+i.methods.checkPlain(t[n])+"</em>"}e=e.replace(n,t[n])}return e},i.methods.t=function(e,t,n){return i.locale.strings&&i.locale.strings[n.context]&&i.locale.strings[n.context][e]&&(e=i.locale.strings[n.context][e]),t&&(e=i.methods.formatString(e,t)),e},i.t=function(e,t,n){if("string"==typeof e&&e.length>0){var r=i.locale.getLanguage();return n=n||{context:r},i.methods.t(e,t,n)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},t.i18n=i}(document,mejs),function(e){"use strict";"undefined"!=typeof mejsL10n&&(e[mejsL10n.language]=mejsL10n.strings)}(mejs.i18n.locale.strings),function(e){"use strict";e.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schließen"}}(mejs.i18n.locale.strings),function(e){"use strict";e.zh={Fullscreen:"全螢幕","Go Fullscreen":"全屏模式","Turn off Fullscreen":"退出全屏模式",Close:"關閉"}}(mejs.i18n.locale.strings),/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2013, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof ender&&(mejs.$=ender),function(e){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return.05*e.duration},defaultSeekForwardInterval:function(e){return.05*e.duration},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,t){t.paused||t.ended?t.play():t.pause()}},{keys:[38],action:function(e,t){var i=Math.min(t.volume+.1,1);t.setVolume(i)}},{keys:[40],action:function(e,t){var i=Math.max(t.volume-.1,0);t.setVolume(i)}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(i)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(i)}}},{keys:[70],action:function(e){"undefined"!=typeof e.enterFullScreen&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(t,i){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(t,i);var n=this;return n.$media=n.$node=e(t),n.node=n.media=n.$media[0],"undefined"!=typeof n.node.player?n.node.player:(n.node.player=n,"undefined"==typeof i&&(i=n.$node.data("mejsoptions")),n.options=e.extend({},mejs.MepDefaults,i),n.id="mep_"+mejs.mepIndex++,mejs.players[n.id]=n,n.init(),n)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var t=this,i=mejs.MediaFeatures,n=e.extend(!0,{},t.options,{success:function(e,i){t.meReady(e,i)},error:function(e){t.handleError(e)}}),r=t.media.tagName.toLowerCase();if(t.isDynamic="audio"!==r&&"video"!==r,t.isVideo=t.isDynamic?t.options.isVideo:"audio"!==r&&t.options.isVideo,i.isiPad&&t.options.iPadUseNativeControls||i.isiPhone&&t.options.iPhoneUseNativeControls)t.$media.attr("controls","controls"),i.isiPad&&null!==t.media.getAttribute("autoplay")&&(t.media.load(),t.media.play());else if(i.isAndroid&&t.options.AndroidUseNativeControls);else{if(t.$media.removeAttr("controls"),t.container=e('<div id="'+t.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'">'+'<div class="mejs-inner">'+'<div class="mejs-mediaelement"></div>'+'<div class="mejs-layers"></div>'+'<div class="mejs-controls"></div>'+'<div class="mejs-clear"></div>'+"</div>"+"</div>").addClass(t.$media[0].className).insertBefore(t.$media),t.container.addClass((i.isAndroid?"mejs-android ":"")+(i.isiOS?"mejs-ios ":"")+(i.isiPad?"mejs-ipad ":"")+(i.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio ")),i.isiOS){var s=t.$media.clone();t.container.find(".mejs-mediaelement").append(s),t.$media.remove(),t.$node=t.$media=s,t.node=t.media=s[0]}else t.container.find(".mejs-mediaelement").append(t.$media);t.controls=t.container.find(".mejs-controls"),t.layers=t.container.find(".mejs-layers");var o=t.isVideo?"video":"audio",a=o.substring(0,1).toUpperCase()+o.substring(1);t.width=t.options[o+"Width"]>0||t.options[o+"Width"].toString().indexOf("%")>-1?t.options[o+"Width"]:""!==t.media.style.width&&null!==t.media.style.width?t.media.style.width:null!==t.media.getAttribute("width")?t.$media.attr("width"):t.options["default"+a+"Width"],t.height=t.options[o+"Height"]>0||t.options[o+"Height"].toString().indexOf("%")>-1?t.options[o+"Height"]:""!==t.media.style.height&&null!==t.media.style.height?t.media.style.height:null!==t.$media[0].getAttribute("height")?t.$media.attr("height"):t.options["default"+a+"Height"],t.setPlayerSize(t.width,t.height),n.pluginWidth=t.width,n.pluginHeight=t.height}mejs.MediaElement(t.$media[0],n),"undefined"!=typeof t.container&&t.controlsAreVisible&&t.container.trigger("controlsshown")},showControls:function(e){var t=this;e="undefined"==typeof e||e,t.controlsAreVisible||(e?(t.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0,t.container.trigger("controlsshown")}),t.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})):(t.controls.css("visibility","visible").css("display","block"),t.container.find(".mejs-control").css("visibility","visible").css("display","block"),t.controlsAreVisible=!0,t.container.trigger("controlsshown")),t.setControlsSize())},hideControls:function(t){var i=this;t="undefined"==typeof t||t,i.controlsAreVisible&&!i.options.alwaysShowControls&&(t?(i.controls.stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block"),i.controlsAreVisible=!1,i.container.trigger("controlshidden")}),i.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block")})):(i.controls.css("visibility","hidden").css("display","block"),i.container.find(".mejs-control").css("visibility","hidden").css("display","block"),i.controlsAreVisible=!1,i.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(e){var t=this;e="undefined"!=typeof e?e:1500,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},e)},killControlsTimer:function(){var e=this;null!==e.controlsTimer&&(clearTimeout(e.controlsTimer),delete e.controlsTimer,e.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var e=this;e.killControlsTimer(),e.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var e=this;e.showControls(!1),e.controlsEnabled=!0},meReady:function(e,t){var i,n,r=this,s=mejs.MediaFeatures,o=t.getAttribute("autoplay"),a=!("undefined"==typeof o||null===o||"false"===o);if(!r.created){if(r.created=!0,r.media=e,r.domNode=t,!(s.isAndroid&&r.options.AndroidUseNativeControls||s.isiPad&&r.options.iPadUseNativeControls||s.isiPhone&&r.options.iPhoneUseNativeControls)){r.buildposter(r,r.controls,r.layers,r.media),r.buildkeyboard(r,r.controls,r.layers,r.media),r.buildoverlays(r,r.controls,r.layers,r.media),r.findTracks();for(i in r.options.features)if(n=r.options.features[i],r["build"+n])try{r["build"+n](r,r.controls,r.layers,r.media)}catch(l){}r.container.trigger("controlsready"),r.setPlayerSize(r.width,r.height),r.setControlsSize(),r.isVideo&&(mejs.MediaFeatures.hasTouch?r.$media.bind("touchstart",function(){r.controlsAreVisible?r.hideControls(!1):r.controlsEnabled&&r.showControls(!1)}):(mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){r.options.clickToPlayPause&&(r.media.paused?r.media.play():r.media.pause())},r.media.addEventListener("click",r.clickToPlayPauseCallback,!1),r.container.bind("mouseenter mouseover",function(){r.controlsEnabled&&(r.options.alwaysShowControls||(r.killControlsTimer("enter"),r.showControls(),r.startControlsTimer(2500)))}).bind("mousemove",function(){r.controlsEnabled&&(r.controlsAreVisible||r.showControls(),r.options.alwaysShowControls||r.startControlsTimer(2500))}).bind("mouseleave",function(){r.controlsEnabled&&(r.media.paused||r.options.alwaysShowControls||r.startControlsTimer(1e3))})),r.options.hideVideoControlsOnLoad&&r.hideControls(!1),a&&!r.options.alwaysShowControls&&r.hideControls(),r.options.enableAutosize&&r.media.addEventListener("loadedmetadata",function(e){r.options.videoHeight<=0&&null===r.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(r.setPlayerSize(e.target.videoWidth,e.target.videoHeight),r.setControlsSize(),r.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1)),e.addEventListener("play",function(){var e;for(e in mejs.players){var t=mejs.players[e];t.id==r.id||!r.options.pauseOtherPlayers||t.paused||t.ended||t.pause(),t.hasFocus=!1}r.hasFocus=!0},!1),r.media.addEventListener("ended",function(){if(r.options.autoRewind)try{r.media.setCurrentTime(0)}catch(e){}r.media.pause(),r.setProgressRail&&r.setProgressRail(),r.setCurrentRail&&r.setCurrentRail(),r.options.loop?r.media.play():!r.options.alwaysShowControls&&r.controlsEnabled&&r.showControls()},!1),r.media.addEventListener("loadedmetadata",function(){r.updateDuration&&r.updateDuration(),r.updateCurrent&&r.updateCurrent(),r.isFullScreen||(r.setPlayerSize(r.width,r.height),r.setControlsSize())},!1),setTimeout(function(){r.setPlayerSize(r.width,r.height),r.setControlsSize()},50),r.globalBind("resize",function(){r.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||r.setPlayerSize(r.width,r.height),r.setControlsSize()}),"youtube"==r.media.pluginType&&r.container.find(".mejs-overlay-play").hide()}a&&"native"==e.pluginType&&(e.load(),e.play()),r.options.success&&("string"==typeof r.options.success?window[r.options.success](r.media,r.domNode,r):r.options.success(r.media,r.domNode,r))}},handleError:function(e){var t=this;t.controls.hide(),t.options.error&&t.options.error(e)},setPlayerSize:function(t,i){var n=this;if("undefined"!=typeof t&&(n.width=t),"undefined"!=typeof i&&(n.height=i),n.height.toString().indexOf("%")>0||"100%"===n.$node.css("max-width")||1===parseInt(n.$node.css("max-width").replace(/px/,""),10)/n.$node.offsetParent().width()||n.$node[0].currentStyle&&"100%"===n.$node[0].currentStyle.maxWidth){var r=n.isVideo?n.media.videoWidth&&n.media.videoWidth>0?n.media.videoWidth:n.options.defaultVideoWidth:n.options.defaultAudioWidth,s=n.isVideo?n.media.videoHeight&&n.media.videoHeight>0?n.media.videoHeight:n.options.defaultVideoHeight:n.options.defaultAudioHeight,o=n.container.parent().closest(":visible").width(),a=n.isVideo||!n.options.autosizeProgress?parseInt(o*s/r,10):s;"body"===n.container.parent()[0].tagName.toLowerCase()&&(o=e(window).width(),a=e(window).height()),0!=a&&0!=o&&(n.container.width(o).height(a),n.$media.add(n.container.find(".mejs-shim")).width("100%").height("100%"),n.isVideo&&n.media.setVideoSize&&n.media.setVideoSize(o,a),n.layers.children(".mejs-layer").width("100%").height("100%"))}else n.container.width(n.width).height(n.height),n.layers.children(".mejs-layer").width(n.width).height(n.height);var l=n.layers.find(".mejs-overlay-play"),u=l.find(".mejs-overlay-button");l.height(n.container.height()-n.controls.height()),u.css("margin-top","-"+(u.height()/2-n.controls.height()/2).toString()+"px")},setControlsSize:function(){var t=this,i=0,n=0,r=t.controls.find(".mejs-time-rail"),s=t.controls.find(".mejs-time-total"),o=(t.controls.find(".mejs-time-current"),t.controls.find(".mejs-time-loaded"),r.siblings());t.options&&!t.options.autosizeProgress&&(n=parseInt(r.css("width"))),0!==n&&n||(o.each(function(){var t=e(this);"absolute"!=t.css("position")&&t.is(":visible")&&(i+=e(this).outerWidth(!0))}),n=t.controls.width()-i-(r.outerWidth(!0)-r.width())),r.width(n),s.width(n-(s.outerWidth(!0)-s.width())),t.setProgressRail&&t.setProgressRail(),t.setCurrentRail&&t.setCurrentRail()},buildposter:function(t,i,n,r){var s=this,o=e('<div class="mejs-poster mejs-layer"></div>').appendTo(n),a=t.$media.attr("poster");""!==t.options.poster&&(a=t.options.poster),""!==a&&null!=a?s.setPoster(a):o.hide(),r.addEventListener("play",function(){o.hide()},!1),t.options.showPosterWhenEnded&&t.options.autoRewind&&r.addEventListener("ended",function(){o.show()},!1)},setPoster:function(t){var i=this,n=i.container.find(".mejs-poster"),r=n.find("img");0==r.length&&(r=e('<img width="100%" height="100%" />').appendTo(n)),r.attr("src",t),n.css({"background-image":"url("+t+")"})},buildoverlays:function(t,i,n,r){var s=this;if(t.isVideo){var o=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(n),a=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(n),l=e('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(n).click(function(){s.options.clickToPlayPause&&(r.paused?r.play():r.pause())});r.addEventListener("play",function(){l.hide(),o.hide(),i.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("playing",function(){l.hide(),o.hide(),i.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("seeking",function(){o.show(),i.find(".mejs-time-buffering").show()},!1),r.addEventListener("seeked",function(){o.hide(),i.find(".mejs-time-buffering").hide()},!1),r.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||l.show()},!1),r.addEventListener("waiting",function(){o.show(),i.find(".mejs-time-buffering").show()},!1),r.addEventListener("loadeddata",function(){o.show(),i.find(".mejs-time-buffering").show()},!1),r.addEventListener("canplay",function(){o.hide(),i.find(".mejs-time-buffering").hide()},!1),r.addEventListener("error",function(){o.hide(),i.find(".mejs-time-buffering").hide(),a.show(),a.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(t,i,n,r){var s=this;s.globalBind("keydown",function(e){if(t.hasFocus&&t.options.enableKeyboard)for(var i=0,n=t.options.keyActions.length;n>i;i++)for(var s=t.options.keyActions[i],o=0,a=s.keys.length;a>o;o++)if(e.keyCode==s.keys[o])return e.preventDefault(),s.action(t,r,e.keyCode),!1;return!0}),s.globalBind("click",function(i){0==e(i.target).closest(".mejs-container").length&&(t.hasFocus=!1)})},findTracks:function(){var t=this,i=t.$media.find("track");t.tracks=[],i.each(function(i,n){n=e(n),t.tracks.push({srclang:n.attr("srclang")?n.attr("srclang").toLowerCase():"",src:n.attr("src"),kind:n.attr("kind"),label:n.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){this.media.load()},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e,t,i=this;for(e in i.options.features)if(t=i.options.features[e],i["clean"+t])try{i["clean"+t](i)}catch(n){}i.isDynamic?i.$node.insertBefore(i.container):(i.$media.prop("controls",!0),i.$node.clone().show().insertBefore(i.container),i.$node.remove()),"native"!==i.media.pluginType&&i.media.remove(),delete mejs.players[i.id],i.container.remove(),i.globalUnbind(),delete i.node.player}},function(){function t(t,n){var r={d:[],w:[]};return e.each((t||"").split(" "),function(e,t){var s=t+"."+n;0===s.indexOf(".")?(r.d.push(s),r.w.push(s)):r[i.test(t)?"w":"d"].push(s)}),r.d=r.d.join(" "),r.w=r.w.join(" "),r}var i=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(i,n,r){var s=this;i=t(i,s.id),i.d&&e(document).bind(i.d,n,r),i.w&&e(window).bind(i.w,n,r)},mejs.MediaElementPlayer.prototype.globalUnbind=function(i,n){var r=this;i=t(i,r.id),i.d&&e(document).unbind(i.d,n),i.w&&e(window).unbind(i.w,n)}}(),"undefined"!=typeof jQuery&&(jQuery.fn.mediaelementplayer=function(e){return e===!1?this.each(function(){var e=jQuery(this).data("mediaelementplayer");e&&e.remove(),jQuery(this).removeData("mediaelementplayer")}):this.each(function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,e))}),this}),e(document).ready(function(){e(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(e){e.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")}),e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,i,n,r){var s=this,o=e('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+s.id+'" title="'+s.options.playpauseText+'" aria-label="'+s.options.playpauseText+'"></button>'+"</div>").appendTo(i).click(function(e){return e.preventDefault(),r.paused?r.play():r.pause(),!1});r.addEventListener("play",function(){o.removeClass("mejs-play").addClass("mejs-pause")},!1),r.addEventListener("playing",function(){o.removeClass("mejs-play").addClass("mejs-pause")},!1),r.addEventListener("pause",function(){o.removeClass("mejs-pause").addClass("mejs-play")},!1),r.addEventListener("paused",function(){o.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{stopText:"Stop"}),e.extend(MediaElementPlayer.prototype,{buildstop:function(t,i,n,r){var s=this;e('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+s.id+'" title="'+s.options.stopText+'" aria-label="'+s.options.stopText+'"></button>'+"</div>").appendTo(i).click(function(){r.paused||r.pause(),r.currentTime>0&&(r.setCurrentTime(0),r.pause(),i.find(".mejs-time-current").width("0px"),i.find(".mejs-time-handle").css("left","0px"),i.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),i.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),n.find(".mejs-poster").show())})}})}(mejs.$),function(e){e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,i,n,r){e('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(i),i.find(".mejs-time-buffering").hide();var s=this,o=i.find(".mejs-time-total"),a=i.find(".mejs-time-loaded"),l=i.find(".mejs-time-current"),u=i.find(".mejs-time-handle"),c=i.find(".mejs-time-float"),h=i.find(".mejs-time-float-current"),d=function(e){var t=e.pageX,i=o.offset(),n=o.outerWidth(!0),s=0,a=0,l=0;r.duration&&(t<i.left?t=i.left:t>n+i.left&&(t=n+i.left),l=t-i.left,s=l/n,a=.02>=s?0:s*r.duration,p&&a!==r.currentTime&&r.setCurrentTime(a),mejs.MediaFeatures.hasTouch||(c.css("left",l),h.html(mejs.Utility.secondsToTimeCode(a)),c.show()))},p=!1,f=!1;o.bind("mousedown",function(e){return 1===e.which?(p=!0,d(e),s.globalBind("mousemove.dur",function(e){d(e)}),s.globalBind("mouseup.dur",function(){p=!1,c.hide(),s.globalUnbind(".dur")}),!1):void 0}).bind("mouseenter",function(){f=!0,s.globalBind("mousemove.dur",function(e){d(e)}),mejs.MediaFeatures.hasTouch||c.show()}).bind("mouseleave",function(){f=!1,p||(s.globalUnbind(".dur"),c.hide())}),r.addEventListener("progress",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),r.addEventListener("timeupdate",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),s.loaded=a,s.total=o,s.current=l,s.handle=u},setProgressRail:function(e){var t=this,i=void 0!=e?e.target:t.media,n=null;i&&i.buffered&&i.buffered.length>0&&i.buffered.end&&i.duration?n=i.buffered.end(0)/i.duration:i&&void 0!=i.bytesTotal&&i.bytesTotal>0&&void 0!=i.bufferedBytes?n=i.bufferedBytes/i.bytesTotal:e&&e.lengthComputable&&0!=e.total&&(n=e.loaded/e.total),null!==n&&(n=Math.min(1,Math.max(0,n)),t.loaded&&t.total&&t.loaded.width(t.total.width()*n))},setCurrentRail:function(){var e=this;if(void 0!=e.media.currentTime&&e.media.duration&&e.total&&e.handle){var t=Math.round(e.total.width()*e.media.currentTime/e.media.duration),i=t-Math.round(e.handle.outerWidth(!0)/2);e.current.width(t),e.handle.css("left",i)}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,i,n,r){var s=this;e('<div class="mejs-time"><span class="mejs-currenttime">'+(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span>"+"</div>").appendTo(i),s.currenttime=s.controls.find(".mejs-currenttime"),r.addEventListener("timeupdate",function(){t.updateCurrent()},!1)},buildduration:function(t,i,n,r){var s=this;i.children().last().find(".mejs-currenttime").length>0?e(s.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(s.options.duration>0?mejs.Utility.secondsToTimeCode(s.options.duration,s.options.alwaysShowHours||s.media.duration>3600,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(i.find(".mejs-time")):(i.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),e('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(s.options.duration>0?mejs.Utility.secondsToTimeCode(s.options.duration,s.options.alwaysShowHours||s.media.duration>3600,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>"+"</div>").appendTo(i)),s.durationD=s.controls.find(".mejs-duration"),r.addEventListener("timeupdate",function(){t.updateDuration()},!1)},updateCurrent:function(){var e=this;e.currenttime&&e.currenttime.html(mejs.Utility.secondsToTimeCode(e.media.currentTime,e.options.alwaysShowHours||e.media.duration>3600,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))},updateDuration:function(){var e=this;e.container.toggleClass("mejs-long-video",e.media.duration>3600),e.durationD&&(e.options.duration>0||e.media.duration)&&e.durationD.html(mejs.Utility.secondsToTimeCode(e.options.duration>0?e.options.duration:e.media.duration,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,i,n,r){if(!mejs.MediaFeatures.hasTouch||!this.options.hideVolumeOnTouchDevices){var s=this,o=s.isVideo?s.options.videoVolume:s.options.audioVolume,a="horizontal"==o?e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'" aria-label="'+s.options.muteText+'"></button>'+"</div>"+'<div class="mejs-horizontal-volume-slider">'+'<div class="mejs-horizontal-volume-total"></div>'+'<div class="mejs-horizontal-volume-current"></div>'+'<div class="mejs-horizontal-volume-handle"></div>'+"</div>").appendTo(i):e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'" aria-label="'+s.options.muteText+'"></button>'+'<div class="mejs-volume-slider">'+'<div class="mejs-volume-total"></div>'+'<div class="mejs-volume-current"></div>'+'<div class="mejs-volume-handle"></div>'+"</div>"+"</div>").appendTo(i),l=s.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),u=s.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),c=s.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),h=s.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),d=function(e,t){if(!l.is(":visible")&&"undefined"==typeof t)return l.show(),d(e,!0),l.hide(),void 0;if(e=Math.max(0,e),e=Math.min(e,1),0==e?a.removeClass("mejs-mute").addClass("mejs-unmute"):a.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==o){var i=u.height(),n=u.position(),r=i-i*e;h.css("top",Math.round(n.top+r-h.height()/2)),c.height(i-r),c.css("top",n.top+r)}else{var s=u.width(),n=u.position(),p=s*e;h.css("left",Math.round(n.left+p-h.width()/2)),c.width(Math.round(p))}},p=function(e){var t=null,i=u.offset();if("vertical"==o){var n=u.height(),s=(parseInt(u.css("top").replace(/px/,""),10),e.pageY-i.top);if(t=(n-s)/n,0==i.top||0==i.left)return}else{var a=u.width(),l=e.pageX-i.left;t=l/a}t=Math.max(0,t),t=Math.min(t,1),d(t),0==t?r.setMuted(!0):r.setMuted(!1),r.setVolume(t)},f=!1,m=!1;a.hover(function(){l.show(),m=!0},function(){m=!1,f||"vertical"!=o||l.hide()}),l.bind("mouseover",function(){m=!0}).bind("mousedown",function(e){return p(e),s.globalBind("mousemove.vol",function(e){p(e)}),s.globalBind("mouseup.vol",function(){f=!1,s.globalUnbind(".vol"),m||"vertical"!=o||l.hide()}),f=!0,!1}),a.find("button").click(function(){r.setMuted(!r.muted)}),r.addEventListener("volumechange",function(){f||(r.muted?(d(0),a.removeClass("mejs-mute").addClass("mejs-unmute")):(d(r.volume),a.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),s.container.is(":visible")&&(d(t.options.startVolume),0===t.options.startVolume&&r.setMuted(!0),"native"===r.pluginType&&r.setVolume(t.options.startVolume))}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")}),e.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,buildfullscreen:function(t,i,n,r){if(t.isVideo){if(t.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen){var s=function(){t.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen()))};mejs.MediaFeatures.hasMozNativeFullScreen?t.globalBind(mejs.MediaFeatures.fullScreenEventName,s):t.container.bind(mejs.MediaFeatures.fullScreenEventName,s)}var o=this,a=(t.container,e('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+o.id+'" title="'+o.options.fullscreenText+'" aria-label="'+o.options.fullscreenText+'"></button>'+"</div>").appendTo(i));if("native"===o.media.pluginType||!o.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)a.click(function(){var e=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen;e?t.exitFullScreen():t.enterFullScreen()});else{var l=null,u=function(){var e,t=document.createElement("x"),i=document.documentElement,n=window.getComputedStyle;return"pointerEvents"in t.style?(t.style.pointerEvents="auto",t.style.pointerEvents="x",i.appendChild(t),e=n&&"auto"===n(t,"").pointerEvents,i.removeChild(t),!!e):!1}();if(u&&!mejs.MediaFeatures.isOpera){var c,h,d=!1,p=function(){if(d){for(var e in f)f[e].hide();a.css("pointer-events",""),o.controls.css("pointer-events",""),o.media.removeEventListener("click",o.clickToPlayPauseCallback),d=!1}},f={},m=["top","left","right","bottom"],g=function(){var e=a.offset().left-o.container.offset().left,t=a.offset().top-o.container.offset().top,i=a.outerWidth(!0),n=a.outerHeight(!0),r=o.container.width(),s=o.container.height();for(c in f)f[c].css({position:"absolute",top:0,left:0});f.top.width(r).height(t),f.left.width(e).height(n).css({top:t}),f.right.width(r-e-i).height(n).css({top:t,left:e+i}),f.bottom.width(r).height(s-n-t).css({top:t+n})};for(o.globalBind("resize",function(){g()}),c=0,h=m.length;h>c;c++)f[m[c]]=e('<div class="mejs-fullscreen-hover" />').appendTo(o.container).mouseover(p).hide();a.on("mouseover",function(){if(!o.isFullScreen){var e=a.offset(),i=t.container.offset();r.positionFullscreenButton(e.left-i.left,e.top-i.top,!1),a.css("pointer-events","none"),o.controls.css("pointer-events","none"),o.media.addEventListener("click",o.clickToPlayPauseCallback);for(c in f)f[c].show();g(),d=!0}}),r.addEventListener("fullscreenchange",function(){o.isFullScreen=!o.isFullScreen,o.isFullScreen?o.media.removeEventListener("click",o.clickToPlayPauseCallback):o.media.addEventListener("click",o.clickToPlayPauseCallback),p()}),o.globalBind("mousemove",function(e){if(d){var t=a.offset();(e.pageY<t.top||e.pageY>t.top+a.outerHeight(!0)||e.pageX<t.left||e.pageX>t.left+a.outerWidth(!0))&&(a.css("pointer-events",""),o.controls.css("pointer-events",""),d=!1)}})}else a.on("mouseover",function(){null!==l&&(clearTimeout(l),delete l);var e=a.offset(),i=t.container.offset();r.positionFullscreenButton(e.left-i.left,e.top-i.top,!0)}).on("mouseout",function(){null!==l&&(clearTimeout(l),delete l),l=setTimeout(function(){r.hideFullscreenButton()},1500)})}t.fullscreenBtn=a,o.globalBind("keydown",function(e){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||o.isFullScreen)&&27==e.keyCode&&t.exitFullScreen()})}},cleanfullscreen:function(e){e.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var t=this;if("native"===t.media.pluginType||!mejs.MediaFeatures.isFirefox&&!t.options.usePluginFullScreen){if(e(document.documentElement).addClass("mejs-fullscreen"),normalHeight=t.container.height(),normalWidth=t.container.width(),"native"===t.media.pluginType)if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(t.container[0]),t.isInIframe&&setTimeout(function n(){t.isNativeFullScreen&&(e(window).width()!==screen.width?t.exitFullScreen():setTimeout(n,500))},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen)return t.media.webkitEnterFullscreen(),void 0;if(t.isInIframe){var i=t.options.newWindowCallback(this);if(""!==i){if(!mejs.MediaFeatures.hasTrueNativeFullScreen)return t.pause(),window.open(i,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"),void 0;setTimeout(function(){t.isNativeFullScreen||(t.pause(),window.open(i,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}t.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),t.containerSizeTimeout=setTimeout(function(){t.container.css({width:"100%",height:"100%"}),t.setControlsSize()},500),"native"===t.media.pluginType?t.$media.width("100%").height("100%"):(t.container.find(".mejs-shim").width("100%").height("100%"),t.media.setVideoSize(e(window).width(),e(window).height())),t.layers.children("div").width("100%").height("100%"),t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),t.setControlsSize(),t.isFullScreen=!0}},exitFullScreen:function(){var t=this;return clearTimeout(t.containerSizeTimeout),"native"!==t.media.pluginType&&mejs.MediaFeatures.isFirefox?(t.media.setFullscreen(!1),void 0):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||t.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),e(document.documentElement).removeClass("mejs-fullscreen"),t.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===t.media.pluginType?t.$media.width(normalWidth).height(normalHeight):(t.container.find(".mejs-shim").width(normalWidth).height(normalHeight),t.media.setVideoSize(normalWidth,normalHeight)),t.layers.children("div").width(normalWidth).height(normalHeight),t.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),t.setControlsSize(),t.isFullScreen=!1,void 0)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),e.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(t,i,n,r){if(0!=t.tracks.length){var s,o=this;if(o.domNode.textTracks)for(var s=o.domNode.textTracks.length-1;s>=0;s--)o.domNode.textTracks[s].mode="hidden";t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(n).hide(),t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(n).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=e('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+o.id+'" title="'+o.options.tracksText+'" aria-label="'+o.options.tracksText+'"></button>'+'<div class="mejs-captions-selector">'+"<ul>"+"<li>"+'<input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" />'+'<label for="'+t.id+'_captions_none">'+mejs.i18n.t("None")+"</label>"+"</li>"+"</ul>"+"</div>"+"</div>").appendTo(i);var a=0;for(s=0;s<t.tracks.length;s++)"subtitles"==t.tracks[s].kind&&a++;for(o.options.toggleCaptionsButtonWhenOnlyOne&&1==a?t.captionsButton.on("click",function(){if(null==t.selectedTrack)var e=t.tracks[0].srclang;
else var e="none";t.setTrack(e)}):t.captionsButton.hover(function(){e(this).find(".mejs-captions-selector").css("visibility","visible")},function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")}).on("click","input[type=radio]",function(){lang=this.value,t.setTrack(lang)}),t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("controlsshown",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){r.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1,s=0;s<t.tracks.length;s++)"subtitles"==t.tracks[s].kind&&t.addTrackButton(t.tracks[s].srclang,t.tracks[s].label);t.loadNextTrack(),r.addEventListener("timeupdate",function(){t.displayCaptions()},!1),""!=t.options.slidesSelector&&(t.slidesContainer=e(t.options.slidesSelector),r.addEventListener("timeupdate",function(){t.displaySlides()},!1)),r.addEventListener("loadedmetadata",function(){t.displayChapters()},!1),t.container.hover(function(){t.hasChapters&&(t.chapters.css("visibility","visible"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))},function(){t.hasChapters&&!r.paused&&t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden"),e(this).css("display","block")})}),null!==t.node.getAttribute("autoplay")&&t.chapters.css("visibility","hidden")}},setTrack:function(e){var t,i=this;if("none"==e)i.selectedTrack=null,i.captionsButton.removeClass("mejs-captions-enabled");else for(t=0;t<i.tracks.length;t++)if(i.tracks[t].srclang==e){null==i.selectedTrack&&i.captionsButton.addClass("mejs-captions-enabled"),i.selectedTrack=i.tracks[t],i.captions.attr("lang",i.selectedTrack.srclang),i.displayCaptions();break}},loadNextTrack:function(){var e=this;e.trackToLoad++,e.trackToLoad<e.tracks.length?(e.isLoadingTrack=!0,e.loadTrack(e.trackToLoad)):(e.isLoadingTrack=!1,e.checkForTracks())},loadTrack:function(t){var i=this,n=i.tracks[t],r=function(){n.isLoaded=!0,i.enableTrackButton(n.srclang,n.label),i.loadNextTrack()};e.ajax({url:n.src,dataType:"text",success:function(e){n.entries="string"==typeof e&&/<tt\s+xml/gi.exec(e)?mejs.TrackFormatParser.dfxp.parse(e):mejs.TrackFormatParser.webvvt.parse(e),r(),"chapters"==n.kind&&i.media.addEventListener("play",function(){i.media.duration>0&&i.displayChapters(n)},!1),"slides"==n.kind&&i.setupSlides(n)},error:function(){i.loadNextTrack()}})},enableTrackButton:function(t,i){var n=this;""===i&&(i=mejs.language.codes[t]||t),n.captionsButton.find("input[value="+t+"]").prop("disabled",!1).siblings("label").html(i),n.options.startLanguage==t&&e("#"+n.id+"_captions_"+t).click(),n.adjustLanguageBox()},addTrackButton:function(t,i){var n=this;""===i&&(i=mejs.language.codes[t]||t),n.captionsButton.find("ul").append(e('<li><input type="radio" name="'+n.id+'_captions" id="'+n.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" />'+'<label for="'+n.id+"_captions_"+t+'">'+i+" (loading)"+"</label>"+"</li>")),n.adjustLanguageBox(),n.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){var e=this;e.captionsButton.find(".mejs-captions-selector").height(e.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+e.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var e=this,t=!1;if(e.options.hideCaptionsButtonWhenEmpty){for(i=0;i<e.tracks.length;i++)if("subtitles"==e.tracks[i].kind){t=!0;break}t||(e.captionsButton.hide(),e.setControlsSize())}},displayCaptions:function(){if("undefined"!=typeof this.tracks){var e,t=this,i=t.selectedTrack;if(null!=i&&i.isLoaded){for(e=0;e<i.entries.times.length;e++)if(t.media.currentTime>=i.entries.times[e].start&&t.media.currentTime<=i.entries.times[e].stop)return t.captionsText.html(i.entries.text[e]),t.captions.show().height(0),void 0;t.captions.hide()}else t.captions.hide()}},setupSlides:function(e){var t=this;t.slides=e,t.slides.entries.imgs=[t.slides.entries.text.length],t.showSlide(0)},showSlide:function(t){if("undefined"!=typeof this.tracks&&"undefined"!=typeof this.slidesContainer){var i=this,n=i.slides.entries.text[t],r=i.slides.entries.imgs[t];"undefined"==typeof r||"undefined"==typeof r.fadeIn?i.slides.entries.imgs[t]=r=e('<img src="'+n+'">').on("load",function(){r.appendTo(i.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):r.is(":visible")||r.is(":animated")||r.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if("undefined"!=typeof this.slides){var e,t=this,i=t.slides;for(e=0;e<i.entries.times.length;e++)if(t.media.currentTime>=i.entries.times[e].start&&t.media.currentTime<=i.entries.times[e].stop)return t.showSlide(e),void 0}},displayChapters:function(){var e,t=this;for(e=0;e<t.tracks.length;e++)if("chapters"==t.tracks[e].kind&&t.tracks[e].isLoaded){t.drawChapters(t.tracks[e]),t.hasChapters=!0;break}},drawChapters:function(t){var i,n,r=this,s=0,o=0;for(r.chapters.empty(),i=0;i<t.entries.times.length;i++)n=t.entries.times[i].stop-t.entries.times[i].start,s=Math.floor(100*(n/r.media.duration)),(s+o>100||i==t.entries.times.length-1&&100>s+o)&&(s=100-o),r.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[i].start+'" style="left: '+o.toString()+"%;width: "+s.toString()+'%;">'+'<div class="mejs-chapter-block'+(i==t.entries.times.length-1?" mejs-chapter-block-last":"")+'">'+'<span class="ch-title">'+t.entries.text[i]+"</span>"+'<span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[i].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[i].stop)+"</span>"+"</div>"+"</div>")),o+=s;r.chapters.find("div.mejs-chapter").click(function(){r.media.setCurrentTime(parseFloat(e(this).attr("rel"))),r.media.paused&&r.media.play()}),r.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(t){for(var i,n,r=0,s=mejs.TrackFormatParser.split2(t,/\r?\n/),o={text:[],times:[]};r<s.length;r++)if(this.pattern_identifier.exec(s[r])&&(r++,i=this.pattern_timecode.exec(s[r]),i&&r<s.length)){for(r++,n=s[r],r++;""!==s[r]&&r<s.length;)n=n+"\n"+s[r],r++;n=e.trim(n).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),o.text.push(n),o.times.push({start:0==mejs.Utility.convertSMPTEtoSeconds(i[1])?.2:mejs.Utility.convertSMPTEtoSeconds(i[1]),stop:mejs.Utility.convertSMPTEtoSeconds(i[3]),settings:i[5]})}return o}},dfxp:{parse:function(t){t=e(t).filter("tt");var i,n,r=0,s=t.children("div").eq(0),o=s.find("p"),a=t.find("#"+s.attr("style")),l={text:[],times:[]};if(a.length){var u=a.removeAttr("id").get(0).attributes;if(u.length)for(i={},r=0;r<u.length;r++)i[u[r].name.split(":")[1]]=u[r].value}for(r=0;r<o.length;r++){var c,h={start:null,stop:null,style:null};if(o.eq(r).attr("begin")&&(h.start=mejs.Utility.convertSMPTEtoSeconds(o.eq(r).attr("begin"))),!h.start&&o.eq(r-1).attr("end")&&(h.start=mejs.Utility.convertSMPTEtoSeconds(o.eq(r-1).attr("end"))),o.eq(r).attr("end")&&(h.stop=mejs.Utility.convertSMPTEtoSeconds(o.eq(r).attr("end"))),!h.stop&&o.eq(r+1).attr("begin")&&(h.stop=mejs.Utility.convertSMPTEtoSeconds(o.eq(r+1).attr("begin"))),i){c="";for(var d in i)c+=d+":"+i[d]+";"}c&&(h.style=c),0==h.start&&(h.start=.2),l.times.push(h),n=e.trim(o.eq(r).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),l.text.push(n),0==l.times.start&&(l.times.start=2)}return l}},split2:function(e,t){return e.split(t)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(e,t){var i,n=[],r="";for(i=0;i<e.length;i++)r+=e.substring(i,i+1),t.test(r)&&(n.push(r.replace(t,"")),r="");return n.push(r),n})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(e){return"undefined"==typeof e.enterFullScreen?null:e.isFullScreen?mejs.i18n.t("Turn off Fullscreen"):mejs.i18n.t("Go Fullscreen")},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},{render:function(e){return e.media.muted?mejs.i18n.t("Unmute"):mejs.i18n.t("Mute")},click:function(e){e.media.muted?e.setMuted(!1):e.setMuted(!0)}},{isSeparator:!0},{render:function(){return mejs.i18n.t("Download Video")},click:function(e){window.location.href=e.media.currentSrc}}]}),e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide(),t.container.bind("contextmenu",function(e){return t.isContextMenuEnabled?(e.preventDefault(),t.renderContextMenu(e.clientX-1,e.clientY-1),!1):void 0}),t.container.bind("click",function(){t.contextMenu.hide()}),t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},cleancontextmenu:function(e){e.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer(),e.contextMenuTimer=setTimeout(function(){e.hideContextMenu(),e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;null!=e&&(clearTimeout(e),delete e,e=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,i){for(var n=this,r="",s=n.options.contextMenuItems,o=0,a=s.length;a>o;o++)if(s[o].isSeparator)r+='<div class="mejs-contextmenu-separator"></div>';else{var l=s[o].render(n);null!=l&&(r+='<div class="mejs-contextmenu-item" data-itemindex="'+o+'" id="element-'+1e6*Math.random()+'">'+l+"</div>")}n.contextMenu.empty().append(e(r)).css({top:i,left:t}).show(),n.contextMenu.find(".mejs-contextmenu-item").each(function(){var t=e(this),i=parseInt(t.data("itemindex"),10),r=n.options.contextMenuItems[i];"undefined"!=typeof r.show&&r.show(t,n),t.click(function(){"undefined"!=typeof r.click&&r.click(n),n.contextMenu.hide()})}),setTimeout(function(){n.killControlsTimer("rev3")},100)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")}),e.extend(MediaElementPlayer.prototype,{buildpostroll:function(t,i,n){var r=this,s=r.container.find('link[rel="postroll"]').attr("href");"undefined"!=typeof s&&(t.postroll=e('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+r.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(n).hide(),r.media.addEventListener("ended",function(){e.ajax({dataType:"html",url:s,success:function(e){n.find(".mejs-postroll-layer-content").html(e)}}),t.postroll.show()},!1))}})}(mejs.$),function(){mejs.MediaElementDefaults.pluginPath="",mejs.MediaElementDefaults.flashName="https://wac.A8B5.edgecastcdn.net/80A8B5/static-assets/assets/mediaelement/flashmediaelement-2c9f3e13868796e8637977a218fc7b5b.swf"}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.onSelectChange=t(this.onSelectChange,this),this.setOptions=t(this.setOptions,this),this.onUnfocus=t(this.onUnfocus,this),this.onSelectClick=t(this.onSelectClick,this),this.onOptionClick=t(this.onOptionClick,this),this.setSelected=t(this.setSelected,this),this.select=$(e),this.select.on("change",this.onSelectChange),this.container=$("<div class='dd-container'>"),this.container.delegate("li .dd-option","click",this.onOptionClick),this.container.delegate(".dd-select","click",this.onSelectClick),this.container.insertAfter(this.select),$(document.body).on("click",this.onUnfocus),this.select.hide(),this.onSelectChange()}return e.prototype.setSelected=function(){var e,t;return t=this.select.find("option:selected"),e=$("<div>").addClass("dd-select").append(this.divForOption(t).addClass("dd-selected")).append('<span class="icon icon-chevron-down"></span>'),this.container.append(e)},e.prototype.onOptionClick=function(e){var t;return t=$(e.currentTarget),this.select.val(t.data("value")).change()},e.prototype.onSelectClick=function(e){var t;return t=this.container.find("ul"),t.is(":visible")?void 0:(e.stopPropagation(),$(e.currentTarget).trigger("open"),t.slideDown("fast").find("icon-chevron-down").removeClass("icon-chevron-down").addClass("icon-chevron-up"))},e.prototype.onUnfocus=function(){var e;return e=this.container.find("ul"),e.is(":visible")?(this.container.find(".dd-select").trigger("close"),e.hide().find("icon-chevron-up").removeClass("icon-chevron-up").addClass("icon-chevron-down")):void 0},e.prototype.setOptions=function(){var e,t,i,n,r,s;for(i=$("<ul>").addClass("dd-options dd-click-off-close"),s=this.select.find("option[value]").not(":first-child"),n=0,r=s.length;r>n;n++)t=s[n],e=this.divForOption(t).toggleClass("dd-option-selected",$(t).is(":selected")).addClass("dd-option"),i.append($("<li>").append(e));return this.container.append(i)},e.prototype.divForOption=function(e){var t;return e=$(e),t=$('<a>\n  <label class="dd-option-text '+(e.is(":first-child")?"dd-placeholder":"")+'"><span class="topic-color">&bull;</span> '+e.text()+"</label>\n</a>"),t.data("value",e.val()),e.data("skillLevel")&&t.append('<span class="dd-desc">'+e.data("skillLevel")+"</span>"),e.data("imagesrc")&&t.prepend('<div class="achievement-hero"><img class="dd-option-image" src="'+e.data("imagesrc")+'"></div>'),t},e.prototype.onSelectChange=function(){return this.container.empty(),this.setSelected(),this.setOptions(),this.container.find(".dd-select").trigger("close")},e}(),window.Slick=e}.call(this),/*!
 * Braintree End-to-End Encryption Library
 * https://www.braintreepayments.com
 * Copyright (c) 2009-2013 Braintree Payment Solutions
 *
 * JSBN
 * Copyright (c) 2005  Tom Wu
 *
 * Both Licensed under the MIT License.
 * http://opensource.org/licenses/MIT
 *
 * ASN.1 JavaScript decoder
 * Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
 * Licensed under the ISC License.
 * http://opensource.org/licenses/ISC
 */
function(){// Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
// copyright notice and this permission notice appear in all copies.
function e(t,i){t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=i)}function t(e,t,i,n,r){this.stream=e,this.header=t,this.length=i,this.tag=n,this.sub=r}function i(e){var t,i,n="";for(t=0;t+3<=e.length;t+=3)i=parseInt(e.substring(t,t+3),16),n+=nt.charAt(i>>6)+nt.charAt(63&i);for(t+1==e.length?(i=parseInt(e.substring(t,t+1),16),n+=nt.charAt(i<<2)):t+2==e.length&&(i=parseInt(e.substring(t,t+2),16),n+=nt.charAt(i>>2)+nt.charAt((3&i)<<4));(3&n.length)>0;)n+=rt;return n}function n(e){var t,i,n="",r=0;for(t=0;t<e.length&&e.charAt(t)!=rt;++t)v=nt.indexOf(e.charAt(t)),0>v||(0==r?(n+=c(v>>2),i=3&v,r=1):1==r?(n+=c(i<<2|v>>4),i=15&v,r=2):2==r?(n+=c(i),n+=c(v>>2),i=3&v,r=3):(n+=c(i<<2|v>>4),n+=c(15&v),r=0));return 1==r&&(n+=c(i<<2)),n}function r(e){var t,i=n(e),r=new Array;for(t=0;2*t<i.length;++t)r[t]=parseInt(i.substring(2*t,2*t+2),16);return r}function s(e,t,i){null!=e&&("number"==typeof e?this.fromNumber(e,t,i):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function o(){return new s(null)}function a(e,t,i,n,r,s){for(;--s>=0;){var o=t*this[e++]+i[n]+r;r=Math.floor(o/67108864),i[n++]=67108863&o}return r}function l(e,t,i,n,r,s){for(var o=32767&t,a=t>>15;--s>=0;){var l=32767&this[e],u=this[e++]>>15,c=a*l+u*o;l=o*l+((32767&c)<<15)+i[n]+(1073741823&r),r=(l>>>30)+(c>>>15)+a*u+(r>>>30),i[n++]=1073741823&l}return r}function u(e,t,i,n,r,s){for(var o=16383&t,a=t>>14;--s>=0;){var l=16383&this[e],u=this[e++]>>14,c=a*l+u*o;l=o*l+((16383&c)<<14)+i[n]+r,r=(l>>28)+(c>>14)+a*u,i[n++]=268435455&l}return r}function c(e){return ct.charAt(e)}function h(e,t){var i=ht[e.charCodeAt(t)];return null==i?-1:i}function d(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function p(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function f(e){var t=o();return t.fromInt(e),t}function m(e,t){var i;if(16==t)i=4;else if(8==t)i=3;else if(256==t)i=8;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.fromRadix(e,t),void 0;i=2}this.t=0,this.s=0;for(var n=e.length,r=!1,o=0;--n>=0;){var a=8==i?255&e[n]:h(e,n);0>a?"-"==e.charAt(n)&&(r=!0):(r=!1,0==o?this[this.t++]=a:o+i>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,o+=i,o>=this.DB&&(o-=this.DB))}8==i&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),r&&s.ZERO.subTo(this,this)}function g(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function y(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,n=(1<<t)-1,r=!1,s="",o=this.t,a=this.DB-o*this.DB%t;if(o-->0)for(a<this.DB&&(i=this[o]>>a)>0&&(r=!0,s=c(i));o>=0;)t>a?(i=(this[o]&(1<<a)-1)<<t-a,i|=this[--o]>>(a+=this.DB-t)):(i=this[o]>>(a-=t)&n,0>=a&&(a+=this.DB,--o)),i>0&&(r=!0),r&&(s+=c(i));return r?s:"0"}function b(){var e=o();return s.ZERO.subTo(this,e),e}function w(){return this.s<0?this.negate():this}function _(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(t=i-e.t,0!=t)return this.s<0?-t:t;for(;--i>=0;)if(0!=(t=this[i]-e[i]))return t;return 0}function k(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}function x(){return this.t<=0?0:this.DB*(this.t-1)+k(this[this.t-1]^this.s&this.DM)}function C(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s}function T(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s}function S(e,t){var i,n=e%this.DB,r=this.DB-n,s=(1<<r)-1,o=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(i=this.t-1;i>=0;--i)t[i+o+1]=this[i]>>r|a,a=(this[i]&s)<<n;for(i=o-1;i>=0;--i)t[i]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()}function M(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)return t.t=0,void 0;var n=e%this.DB,r=this.DB-n,s=(1<<n)-1;t[0]=this[i]>>n;for(var o=i+1;o<this.t;++o)t[o-i-1]|=(this[o]&s)<<r,t[o-i]=this[o]>>n;n>0&&(t[this.t-i-1]|=(this.s&s)<<r),t.t=this.t-i,t.clamp()}function E(e,t){for(var i=0,n=0,r=Math.min(e.t,this.t);r>i;)n+=this[i]-e[i],t[i++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;i<this.t;)n+=this[i],t[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<e.t;)n-=e[i],t[i++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=0>n?-1:0,-1>n?t[i++]=this.DV+n:n>0&&(t[i++]=n),t.t=i,t.clamp()}function D(e,t){var i=this.abs(),n=e.abs(),r=i.t;for(t.t=r+n.t;--r>=0;)t[r]=0;for(r=0;r<n.t;++r)t[r+i.t]=i.am(0,n[r],t,r,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&s.ZERO.subTo(t,t)}function j(e){for(var t=this.abs(),i=e.t=2*t.t;--i>=0;)e[i]=0;for(i=0;i<t.t-1;++i){var n=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,n,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()}function A(e,t,i){var n=e.abs();if(!(n.t<=0)){var r=this.abs();if(r.t<n.t)return null!=t&&t.fromInt(0),null!=i&&this.copyTo(i),void 0;null==i&&(i=o());var a=o(),l=this.s,u=e.s,c=this.DB-k(n[n.t-1]);c>0?(n.lShiftTo(c,a),r.lShiftTo(c,i)):(n.copyTo(a),r.copyTo(i));var h=a.t,d=a[h-1];if(0!=d){var p=d*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),f=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,v=i.t,y=v-h,b=null==t?o():t;for(a.dlShiftTo(y,b),i.compareTo(b)>=0&&(i[i.t++]=1,i.subTo(b,i)),s.ONE.dlShiftTo(h,b),b.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--y>=0;){var w=i[--v]==d?this.DM:Math.floor(i[v]*f+(i[v-1]+g)*m);if((i[v]+=a.am(0,w,i,y,0,h))<w)for(a.dlShiftTo(y,b),i.subTo(b,i);i[v]<--w;)i.subTo(b,i)}null!=t&&(i.drShiftTo(h,t),l!=u&&s.ZERO.subTo(t,t)),i.t=h,i.clamp(),c>0&&i.rShiftTo(c,i),0>l&&s.ZERO.subTo(i,i)}}}function $(e){var t=o();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(s.ZERO)>0&&e.subTo(t,t),t}function P(e){this.m=e}function N(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function F(e){return e}function I(e){e.divRemTo(this.m,null,e)}function L(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function z(e,t){e.squareTo(t),this.reduce(t)}function O(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=15&t*(2-(15&e)*t),t=255&t*(2-(255&e)*t),t=65535&t*(2-(65535&(65535&e)*t)),t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function H(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function W(e){var t=o();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(s.ZERO)>0&&this.m.subTo(t,t),t}function R(e){var t=o();return e.copyTo(t),this.reduce(t),t}function B(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],n=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(i=t+this.m.t,e[i]+=this.m.am(0,n,e,t,0,this.m.t);e[i]>=e.DV;)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function q(e,t){e.squareTo(t),this.reduce(t)}function U(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function V(){return 0==(this.t>0?1&this[0]:this.s)}function Y(e,t){if(e>4294967295||1>e)return s.ONE;var i=o(),n=o(),r=t.convert(this),a=k(e)-1;for(r.copyTo(i);--a>=0;)if(t.sqrTo(i,n),(e&1<<a)>0)t.mulTo(n,r,i);else{var l=i;i=n,n=l}return t.revert(i)}function Q(e,t){var i;return i=256>e||t.isEven()?new P(t):new H(t),this.exp(e,i)}function K(e,t){return new s(e,t)}function X(e,t){if(t<e.length+11)return alert("Message too long for RSA"),null;for(var i=new Array,n=e.length-1;n>=0&&t>0;){var r=e.charCodeAt(n--);128>r?i[--t]=r:r>127&&2048>r?(i[--t]=128|63&r,i[--t]=192|r>>6):(i[--t]=128|63&r,i[--t]=128|63&r>>6,i[--t]=224|r>>12)}i[--t]=0;for(var o=0,a=0,l=0;t>2;)0==l&&(a=dt.random.randomWords(1,0)[0]),o=255&a>>l,l=(l+8)%32,0!=o&&(i[--t]=o);return i[--t]=2,i[--t]=0,new s(i)}function J(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function G(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=K(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")}function Z(e){return e.modPowInt(this.e,this.n)}function et(e){var t=X(e,this.n.bitLength()+7>>3);if(null==t)return null;var i=this.doPublic(t);if(null==i)return null;var n=i.toString(16);return 0==(1&n.length)?n:"0"+n}function tt(e){var t=this.encrypt(e);return t?i(t):null}e.prototype.get=function(e){if(void 0==e&&(e=this.pos++),e>=this.enc.length)throw"Requesting byte offset "+e+" on a stream of length "+this.enc.length;return this.enc[e]},e.prototype.hexDigits="0123456789ABCDEF",e.prototype.hexByte=function(e){return this.hexDigits.charAt(15&e>>4)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t){for(var i="",n=e;t>n;++n)switch(i+=this.hexByte(this.get(n)),15&n){case 7:i+="  ";break;case 15:i+="\n";break;default:i+=" "}return i},e.prototype.parseStringISO=function(e,t){for(var i="",n=e;t>n;++n)i+=String.fromCharCode(this.get(n));return i},e.prototype.parseStringUTF=function(e,t){for(var i="",n=0,r=e;t>r;){var n=this.get(r++);i+=128>n?String.fromCharCode(n):n>191&&224>n?String.fromCharCode((31&n)<<6|63&this.get(r++)):String.fromCharCode((15&n)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return i},e.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,e.prototype.parseTime=function(e,t){var i=this.parseStringISO(e,t),n=this.reTime.exec(i);return n?(i=n[1]+"-"+n[2]+"-"+n[3]+" "+n[4],n[5]&&(i+=":"+n[5],n[6]&&(i+=":"+n[6],n[7]&&(i+="."+n[7]))),n[8]&&(i+=" UTC","Z"!=n[8]&&(i+=n[8],n[9]&&(i+=":"+n[9]))),i):"Unrecognized time: "+i},e.prototype.parseInteger=function(e,t){var i=t-e;if(i>4){i<<=3;var n=this.get(e);if(0==n)i-=8;else for(;128>n;)n<<=1,--i;return"("+i+" bit)"}for(var r=0,s=e;t>s;++s)r=r<<8|this.get(s);return r},e.prototype.parseBitString=function(e,t){var i=this.get(e),n=(t-e-1<<3)-i,r="("+n+" bit)";if(20>=n){var s=i;r+=" ";for(var o=t-1;o>e;--o){for(var a=this.get(o),l=s;8>l;++l)r+=1&a>>l?"1":"0";s=0}}return r},e.prototype.parseOctetString=function(e,t){var i=t-e,n="("+i+" byte) ";i>20&&(t=e+20);for(var r=e;t>r;++r)n+=this.hexByte(this.get(r));return i>20&&(n+=String.fromCharCode(8230)),n},e.prototype.parseOID=function(e,t){for(var i,n=0,r=0,s=e;t>s;++s){var o=this.get(s);n=n<<7|127&o,r+=7,128&o||(void 0==i?i=parseInt(n/40)+"."+n%40:i+="."+(r>=31?"bigint":n),n=r=0),i+=String.fromCharCode()}return i},t.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var e=this.tag>>6;1&this.tag>>5;var t=31&this.tag;switch(e){case 0:switch(t){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+t.toString(16)}case 1:return"Application_"+t.toString(16);case 2:return"["+t+"]";case 3:return"Private_"+t.toString(16)}},t.prototype.content=function(){if(void 0==this.tag)return null;var e=this.tag>>6;if(0!=e)return null==this.sub?null:"("+this.sub.length+")";var t=31&this.tag,i=this.posContent(),n=Math.abs(this.length);switch(t){case 1:return 0==this.stream.get(i)?"false":"true";case 2:return this.stream.parseInteger(i,i+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(i,i+n);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(i,i+n);case 6:return this.stream.parseOID(i,i+n);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(i,i+n);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(i,i+n);case 23:case 24:return this.stream.parseTime(i,i+n)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},t.prototype.print=function(e){if(void 0==e&&(e=""),document.writeln(e+this),null!=this.sub){e+="  ";for(var t=0,i=this.sub.length;i>t;++t)this.sub[t].print(e)}},t.prototype.toPrettyString=function(e){void 0==e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,32&this.tag?t+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(t+=" (encapsulates)"),t+="\n",null!=this.sub){e+="  ";for(var i=0,n=this.sub.length;n>i;++i)t+=this.sub[i].toPrettyString(e)}return t},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.decodeLength=function(e){var t=e.get(),i=127&t;if(i==t)return i;if(i>3)throw"Length over 24 bits not supported at position "+(e.pos-1);if(0==i)return-1;t=0;for(var n=0;i>n;++n)t=t<<8|e.get();return t},t.hasContent=function(i,n,r){if(32&i)return!0;if(3>i||i>4)return!1;var s=new e(r);3==i&&s.get();var o=s.get();if(1&o>>6)return!1;try{var a=t.decodeLength(s);return s.pos-r.pos+a==n}catch(l){return!1}},t.decode=function(i){i instanceof e||(i=new e(i,0));var n=new e(i),r=i.get(),s=t.decodeLength(i),o=i.pos-n.pos,a=null;if(t.hasContent(r,s,i)){var l=i.pos;if(3==r&&i.get(),a=[],s>=0){for(var u=l+s;i.pos<u;)a[a.length]=t.decode(i);if(i.pos!=u)throw"Content size is not correct for container starting at offset "+l}else try{for(;;){var c=t.decode(i);if(0==c.tag)break;a[a.length]=c}s=l-i.pos}catch(h){throw"Exception while decoding undefined length content: "+h}}else i.pos+=s;return new t(n,o,s,r,a)};var it,nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rt="=",st=0xdeadbeefcafe,ot=15715070==(16777215&st);ot&&"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=l,it=30):ot&&"Netscape"!=navigator.appName?(s.prototype.am=a,it=26):(s.prototype.am=u,it=28),s.prototype.DB=it,s.prototype.DM=(1<<it)-1,s.prototype.DV=1<<it;var at=52;s.prototype.FV=Math.pow(2,at),s.prototype.F1=at-it,s.prototype.F2=2*it-at;var lt,ut,ct="0123456789abcdefghijklmnopqrstuvwxyz",ht=new Array;for(lt="0".charCodeAt(0),ut=0;9>=ut;++ut)ht[lt++]=ut;for(lt="a".charCodeAt(0),ut=10;36>ut;++ut)ht[lt++]=ut;for(lt="A".charCodeAt(0),ut=10;36>ut;++ut)ht[lt++]=ut;P.prototype.convert=N,P.prototype.revert=F,P.prototype.reduce=I,P.prototype.mulTo=L,P.prototype.sqrTo=z,H.prototype.convert=W,H.prototype.revert=R,H.prototype.reduce=B,H.prototype.mulTo=U,H.prototype.sqrTo=q,s.prototype.copyTo=d,s.prototype.fromInt=p,s.prototype.fromString=m,s.prototype.clamp=g,s.prototype.dlShiftTo=C,s.prototype.drShiftTo=T,s.prototype.lShiftTo=S,s.prototype.rShiftTo=M,s.prototype.subTo=E,s.prototype.multiplyTo=D,s.prototype.squareTo=j,s.prototype.divRemTo=A,s.prototype.invDigit=O,s.prototype.isEven=V,s.prototype.exp=Y,s.prototype.toString=y,s.prototype.negate=b,s.prototype.abs=w,s.prototype.compareTo=_,s.prototype.bitLength=x,s.prototype.mod=$,s.prototype.modPowInt=Q,s.ZERO=f(0),s.ONE=f(1),J.prototype.doPublic=Z,J.prototype.setPublic=G,J.prototype.encrypt=et,J.prototype.encrypt_b64=tt;var dt={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};"undefined"!=typeof module&&module.exports&&(module.exports=dt),dt.cipher.aes=function(e){this._tables[0][0][0]||this._precompute();var t,i,n,r,s,o=this._tables[0][4],a=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new dt.exception.invalid("invalid aes key size");for(this._key=[r=e.slice(0),s=[]],t=l;4*l+28>t;t++)n=r[t-1],(0===t%l||8===l&&4===t%l)&&(n=o[n>>>24]<<24^o[255&n>>16]<<16^o[255&n>>8]<<8^o[255&n],0===t%l&&(n=n<<8^n>>>24^u<<24,u=u<<1^283*(u>>7))),r[t]=r[t-l]^n;for(i=0;t;i++,t--)n=r[3&i?t:t-4],s[i]=4>=t||4>i?n:a[0][o[n>>>24]]^a[1][o[255&n>>16]]^a[2][o[255&n>>8]]^a[3][o[255&n]]},dt.cipher.aes.prototype={encrypt:function(e){return this._crypt(e,0)},decrypt:function(e){return this._crypt(e,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var e,t,i,n,r,s,o,a,l,u=this._tables[0],c=this._tables[1],h=u[4],d=c[4],p=[],f=[];for(e=0;256>e;e++)f[(p[e]=e<<1^283*(e>>7))^e]=e;for(t=i=0;!h[t];t^=n||1,i=f[i]||1)for(o=i^i<<1^i<<2^i<<3^i<<4,o=99^(o>>8^255&o),h[t]=o,d[o]=t,s=p[r=p[n=p[t]]],l=16843009*s^65537*r^257*n^16843008*t,a=257*p[o]^16843008*o,e=0;4>e;e++)u[e][t]=a=a<<24^a>>>8,c[e][o]=l=l<<24^l>>>8;for(e=0;5>e;e++)u[e]=u[e].slice(0),c[e]=c[e].slice(0)},_crypt:function(e,t){if(4!==e.length)throw new dt.exception.invalid("invalid aes block size");var i,n,r,s,o=this._key[t],a=e[0]^o[0],l=e[t?3:1]^o[1],u=e[2]^o[2],c=e[t?1:3]^o[3],h=o.length/4-2,d=4,p=[0,0,0,0],f=this._tables[t],m=f[0],g=f[1],v=f[2],y=f[3],b=f[4];for(s=0;h>s;s++)i=m[a>>>24]^g[255&l>>16]^v[255&u>>8]^y[255&c]^o[d],n=m[l>>>24]^g[255&u>>16]^v[255&c>>8]^y[255&a]^o[d+1],r=m[u>>>24]^g[255&c>>16]^v[255&a>>8]^y[255&l]^o[d+2],c=m[c>>>24]^g[255&a>>16]^v[255&l>>8]^y[255&u]^o[d+3],d+=4,a=i,l=n,u=r;for(s=0;4>s;s++)p[t?3&-s:s]=b[a>>>24]<<24^b[255&l>>16]<<16^b[255&u>>8]<<8^b[255&c]^o[d++],i=a,a=l,l=u,u=c,c=i;return p}},dt.bitArray={bitSlice:function(e,t,i){return e=dt.bitArray._shiftRight(e.slice(t/32),32-(31&t)).slice(1),void 0===i?e:dt.bitArray.clamp(e,i-t)},extract:function(e,t,i){var n,r=Math.floor(31&-t-i);return n=-32&(t+i-1^t)?e[0|t/32]<<32-r^e[0|t/32+1]>>>r:e[0|t/32]>>>r,n&(1<<i)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var i=e[e.length-1],n=dt.bitArray.getPartial(i);return 32===n?e.concat(t):dt.bitArray._shiftRight(t,n,0|i,e.slice(0,e.length-1))},bitLength:function(e){var t,i=e.length;return 0===i?0:(t=e[i-1],32*(i-1)+dt.bitArray.getPartial(t))},clamp:function(e,t){if(32*e.length<t)return e;e=e.slice(0,Math.ceil(t/32));var i=e.length;return t=31&t,i>0&&t&&(e[i-1]=dt.bitArray.partial(t,e[i-1]&2147483648>>t-1,1)),e},partial:function(e,t,i){return 32===e?t:(i?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(dt.bitArray.bitLength(e)!==dt.bitArray.bitLength(t))return!1;var i,n=0;for(i=0;i<e.length;i++)n|=e[i]^t[i];return 0===n},_shiftRight:function(e,t,i,n){var r,s,o=0;for(void 0===n&&(n=[]);t>=32;t-=32)n.push(i),i=0;if(0===t)return n.concat(e);for(r=0;r<e.length;r++)n.push(i|e[r]>>>t),i=e[r]<<32-t;return o=e.length?e[e.length-1]:0,s=dt.bitArray.getPartial(o),n.push(dt.bitArray.partial(31&t+s,t+s>32?i:n.pop(),1)),n},_xor4:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}},dt.codec.hex={fromBits:function(e){var t,i="";for(t=0;t<e.length;t++)i+=((0|e[t])+0xf00000000000).toString(16).substr(4);return i.substr(0,dt.bitArray.bitLength(e)/4)},toBits:function(e){var t,i,n=[];for(e=e.replace(/\s|0x/g,""),i=e.length,e+="00000000",t=0;t<e.length;t+=8)n.push(0^parseInt(e.substr(t,8),16));return dt.bitArray.clamp(n,4*i)}},dt.codec.utf8String={fromBits:function(e){var t,i,n="",r=dt.bitArray.bitLength(e);for(t=0;r/8>t;t++)0===(3&t)&&(i=e[t/4]),n+=String.fromCharCode(i>>>24),i<<=8;return decodeURIComponent(escape(n))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,i=[],n=0;for(t=0;t<e.length;t++)n=n<<8|e.charCodeAt(t),3===(3&t)&&(i.push(n),n=0);return 3&t&&i.push(dt.bitArray.partial(8*(3&t),n)),i}},dt.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,i){var n,r="",s=0,o=dt.codec.base64._chars,a=0,l=dt.bitArray.bitLength(e);for(i&&(o=o.substr(0,62)+"-_"),n=0;6*r.length<l;)r+=o.charAt((a^e[n]>>>s)>>>26),6>s?(a=e[n]<<6-s,s+=26,n++):(a<<=6,s-=6);for(;3&r.length&&!t;)r+="=";return r},toBits:function(e,t){e=e.replace(/\s|=/g,"");var i,n,r=[],s=0,o=dt.codec.base64._chars,a=0;for(t&&(o=o.substr(0,62)+"-_"),i=0;i<e.length;i++){if(n=o.indexOf(e.charAt(i)),0>n)throw new dt.exception.invalid("this isn't base64!");s>26?(s-=26,r.push(a^n>>>s),a=n<<32-s):(s+=6,a^=n<<32-s)}return 56&s&&r.push(dt.bitArray.partial(56&s,a,1)),r}},dt.codec.base64url={fromBits:function(e){return dt.codec.base64.fromBits(e,1,1)},toBits:function(e){return dt.codec.base64.toBits(e,1)}},void 0===dt.beware&&(dt.beware={}),dt.beware["CBC mode is dangerous because it doesn't protect message integrity."]=function(){dt.mode.cbc={name:"cbc",encrypt:function(e,t,i,n){if(n&&n.length)throw new dt.exception.invalid("cbc can't authenticate data");if(128!==dt.bitArray.bitLength(i))throw new dt.exception.invalid("cbc iv must be 128 bits");var r,s=dt.bitArray,o=s._xor4,a=s.bitLength(t),l=0,u=[];if(7&a)throw new dt.exception.invalid("pkcs#5 padding only works for multiples of a byte");for(r=0;a>=l+128;r+=4,l+=128)i=e.encrypt(o(i,t.slice(r,r+4))),u.splice(r,0,i[0],i[1],i[2],i[3]);return a=16843009*(16-(15&a>>3)),i=e.encrypt(o(i,s.concat(t,[a,a,a,a]).slice(r,r+4))),u.splice(r,0,i[0],i[1],i[2],i[3]),u},decrypt:function(e,t,i,n){if(n&&n.length)throw new dt.exception.invalid("cbc can't authenticate data");if(128!==dt.bitArray.bitLength(i))throw new dt.exception.invalid("cbc iv must be 128 bits");if(127&dt.bitArray.bitLength(t)||!t.length)throw new dt.exception.corrupt("cbc ciphertext must be a positive multiple of the block size");var r,s,o,a=dt.bitArray,l=a._xor4,u=[];for(n=n||[],r=0;r<t.length;r+=4)s=t.slice(r,r+4),o=l(i,e.decrypt(s)),u.splice(r,0,o[0],o[1],o[2],o[3]),i=s;if(s=255&u[r-1],0==s||s>16)throw new dt.exception.corrupt("pkcs#5 padding corrupt");if(o=16843009*s,!a.equal(a.bitSlice([o,o,o,o],0,8*s),a.bitSlice(u,32*u.length-8*s,32*u.length)))throw new dt.exception.corrupt("pkcs#5 padding corrupt");return a.bitSlice(u,0,32*u.length-8*s)}}},dt.misc.hmac=function(e,t){this._hash=t=t||dt.hash.sha256;var i,n=[[],[]],r=t.prototype.blockSize/32;for(this._baseHash=[new t,new t],e.length>r&&(e=t.hash(e)),i=0;r>i;i++)n[0][i]=909522486^e[i],n[1][i]=1549556828^e[i];this._baseHash[0].update(n[0]),this._baseHash[1].update(n[1])},dt.misc.hmac.prototype.encrypt=dt.misc.hmac.prototype.mac=function(e,t){var i=new this._hash(this._baseHash[0]).update(e,t).finalize();return new this._hash(this._baseHash[1]).update(i).finalize()},dt.hash.sha256=function(e){this._key[0]||this._precompute(),e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()},dt.hash.sha256.hash=function(e){return(new dt.hash.sha256).update(e).finalize()},dt.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(e){"string"==typeof e&&(e=dt.codec.utf8String.toBits(e));var t,i=this._buffer=dt.bitArray.concat(this._buffer,e),n=this._length,r=this._length=n+dt.bitArray.bitLength(e);for(t=-512&512+n;r>=t;t+=512)this._block(i.splice(0,16));return this},finalize:function(){var e,t=this._buffer,i=this._h;for(t=dt.bitArray.concat(t,[dt.bitArray.partial(1,1)]),e=t.length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this._length/4294967296)),t.push(0|this._length);t.length;)this._block(t.splice(0,16));return this.reset(),i},_init:[],_key:[],_precompute:function(){function e(e){return 0|4294967296*(e-Math.floor(e))}var t,i=0,n=2;e:for(;64>i;n++){for(t=2;n>=t*t;t++)if(0===n%t)continue e;8>i&&(this._init[i]=e(Math.pow(n,.5))),this._key[i]=e(Math.pow(n,1/3)),i++}},_block:function(e){var t,i,n,r,s=e.slice(0),o=this._h,a=this._key,l=o[0],u=o[1],c=o[2],h=o[3],d=o[4],p=o[5],f=o[6],m=o[7];for(t=0;64>t;t++)16>t?i=s[t]:(n=s[15&t+1],r=s[15&t+14],i=s[15&t]=0|(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+s[15&t]+s[15&t+9]),i=i+m+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(p^f))+a[t],m=f,f=p,p=d,d=0|h+i,h=c,c=u,u=l,l=0|i+(u&c^h&(u^c))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10);o[0]=0|o[0]+l,o[1]=0|o[1]+u,o[2]=0|o[2]+c,o[3]=0|o[3]+h,o[4]=0|o[4]+d,o[5]=0|o[5]+p,o[6]=0|o[6]+f,o[7]=0|o[7]+m}},dt.random={randomWords:function(e,t){var i,n,r=[],s=this.isReady(t);if(s===this._NOT_READY)throw new dt.exception.notReady("generator isn't seeded");for(s&this._REQUIRES_RESEED&&this._reseedFromPools(!(s&this._READY)),i=0;e>i;i+=4)0===(i+1)%this._MAX_WORDS_PER_BURST&&this._gate(),n=this._gen4words(),r.push(n[0],n[1],n[2],n[3]);return this._gate(),r.slice(0,e)},setDefaultParanoia:function(e){this._defaultParanoia=e},addEntropy:function(e,t,i){i=i||"user";var n,r,s,o=(new Date).valueOf(),a=this._robins[i],l=this.isReady(),u=0;switch(n=this._collectorIds[i],void 0===n&&(n=this._collectorIds[i]=this._collectorIdNext++),void 0===a&&(a=this._robins[i]=0),this._robins[i]=(this._robins[i]+1)%this._pools.length,typeof e){case"number":void 0===t&&(t=1),this._pools[a].update([n,this._eventId++,1,t,o,1,0|e]);break;case"object":var c=Object.prototype.toString.call(e);if("[object Uint32Array]"===c){for(s=[],r=0;r<e.length;r++)s.push(e[r]);e=s}else for("[object Array]"!==c&&(u=1),r=0;r<e.length&&!u;r++)"number"!=typeof e[r]&&(u=1);if(!u){if(void 0===t)for(t=0,r=0;r<e.length;r++)for(s=e[r];s>0;)t++,s>>>=1;this._pools[a].update([n,this._eventId++,2,t,o,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this._pools[a].update([n,this._eventId++,3,t,o,e.length]),this._pools[a].update(e);break;default:u=1}if(u)throw new dt.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[a]+=t,this._poolStrength+=t,l===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(e){var t=this._PARANOIA_LEVELS[void 0!==e?e:this._defaultParanoia];return this._strength&&this._strength>=t?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=t?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(e){var t=this._PARANOIA_LEVELS[e?e:this._defaultParanoia];return this._strength>=t?1:this._poolStrength>t?1:this._poolStrength/t},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else{if(!document.attachEvent)throw new dt.exception.bug("can't attach event");document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(e,t){this._callbacks[e][this._callbackI++]=t},removeEventListener:function(e,t){var i,n,r=this._callbacks[e],s=[];for(n in r)r.hasOwnProperty(n)&&r[n]===t&&s.push(n);for(i=0;i<s.length;i++)n=s[i],delete r[n]},_pools:[new dt.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var e=0;4>e&&(this._counter[e]=0|this._counter[e]+1,!this._counter[e]);e++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new dt.cipher.aes(this._key)},_reseed:function(e){this._key=dt.hash.sha256.hash(this._key.concat(e)),this._cipher=new dt.cipher.aes(this._key);for(var t=0;4>t&&(this._counter[t]=0|this._counter[t]+1,!this._counter[t]);t++);},_reseedFromPools:function(e){var t,i=[],n=0;for(this._nextReseed=i[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,t=0;16>t;t++)i.push(0|4294967296*Math.random());for(t=0;t<this._pools.length&&(i=i.concat(this._pools[t].finalize()),n+=this._poolEntropy[t],this._poolEntropy[t]=0,e||!(this._reseedCount&1<<t));t++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new dt.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=n,n>this._strength&&(this._strength=n),this._reseedCount++,this._reseed(i)},_mouseCollector:function(e){var t=e.x||e.clientX||e.offsetX||0,i=e.y||e.clientY||e.offsetY||0;dt.random.addEntropy([t,i],2,"mouse")},_loadTimeCollector:function(){dt.random.addEntropy((new Date).valueOf(),2,"loadtime")},_fireEvent:function(e,t){var i,n=dt.random._callbacks[e],r=[];for(i in n)n.hasOwnProperty(i)&&r.push(n[i]);for(i=0;i<r.length;i++)r[i](t)}},function(){try{var e=new Uint32Array(32);crypto.getRandomValues(e),dt.random.addEntropy(e,1024,"crypto.getRandomValues")}catch(t){}}();for(var pt in dt.beware)dt.beware.hasOwnProperty(pt)&&dt.beware[pt]();var ft={sjcl:dt,version:"1.3.0"};ft.generateAesKey=function(){return{key:dt.random.randomWords(8,0),encrypt:function(e){return this.encryptWithIv(e,dt.random.randomWords(4,0))},encryptWithIv:function(e,t){var i=new dt.cipher.aes(this.key),n=dt.codec.utf8String.toBits(e),r=dt.mode.cbc.encrypt(i,n,t),s=dt.bitArray.concat(t,r);return dt.codec.base64.fromBits(s)}}},ft.create=function(e){var i=function(e){var t=[];if("INTEGER"==e.typeName()){var n=e.posContent(),r=e.posEnd(),s=e.stream.hexDump(n,r).replace(/[ \n]/g,"");t.push(s)}if(null!=e.sub)for(var o=0;o<e.sub.length;o++)t=t.concat(i(e.sub[o]));return t},n=function(){try{var n=r(e),s=t.decode(n)}catch(o){throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'"}var a=i(s);if(2!=a.length)throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'";var l=a[0],u=a[1],c=new J;return c.setPublic(l,u),c},s=function(){return{key:dt.random.randomWords(8,0),sign:function(e){var t=new dt.misc.hmac(this.key,dt.hash.sha256),i=t.encrypt(e);return dt.codec.base64.fromBits(i)}}},o=function(e){var t=n(),i=ft.generateAesKey(),r=s(),o=i.encrypt(e),a=r.sign(dt.codec.base64.toBits(o)),l=dt.bitArray.concat(i.key,r.key),u=dt.codec.base64.fromBits(l),c=t.encrypt_b64(u),h="$bt4|javascript_"+p.version.replace(/\./g,"_")+"$";return h+c+"$"+o+"$"+a},a=function(e){var t,i;return i=[],t=function(e){for(var n,r=0;r<e.children.length;r++)n=e.children[r],n.attributes["data-encrypted-name"]?i.push(n):t(n)},t(e),i},l=function(e,t){var i,n,r;i=document.createElement(e);for(n in t)r=t[n],i.setAttribute(n,r);return i},u=function(e){return window.jQuery&&e instanceof jQuery?e[0]:e.nodeType&&1===e.nodeType?e:document.getElementById(e)},c=function(e){var t,i,n,r,s,o;for(e=u(e),o=a(e),s=0;s<o.length;s++)t=o[s],n=t.getAttribute("data-encrypted-name"),i=p.encrypt(t.value),t.removeAttribute("name"),r=l("input",{value:i,type:"hidden",name:n}),e.appendChild(r)},h=function(e,t){var i;e=u(e),i=function(i){return p.encryptForm(e),null==t?i:t(i)},window.jQuery?window.jQuery(e).submit(i):e.addEventListener?e.addEventListener("submit",i,!1):e.attachEvent&&e.attachEvent("onsubmit",i)},d={encryptForm:c,extractForm:u,onSubmitEncryptForm:h},p=new function(){this.encrypt=o,this.version=ft.version,this.publicKey=e,this.encryptForm=c,this.formEncrypter=d,this.onSubmitEncryptForm=h};return dt.random.startCollectors(),p},window.Braintree=ft,"function"==typeof define&&define("braintree",function(){return ft})}(),function(){var e;e=function(){function e(){}return e.version="1.2.0",e.registered_features={},e.featurettes={},e.featurettes_counter=0,e.register=function(e,t){return this.registered_features[e]=t},e.load=function(){var e,t,i,n,r,s,o,a,l;for(a=document.querySelectorAll("[data-featurette]"),l=[],s=0,o=a.length;o>s;s++){if(e=a[s],t=e.getAttribute("data-featurette"),n=this.registered_features[t],!n)throw"Unknown featurette "+t;i=e.id,null==this.featurettes[i]?((null==i||""===i)&&(i="featurette-"+this.featurettes_counter,e.id=i),r=new n(e),this.featurettes[i]=r,l.push(this.featurettes_counter+=1)):l.push(void 0)}return l},e.get=function(e){return this.featurettes[e]},e}(),window.Featurette=e}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.removeField=t(this.removeField,this),this.addNewField=t(this.addNewField,this),this.createNestedField=t(this.createNestedField,this),this.el=$(e),this.createNestedField("language",".add-new-language",".remove-language",".profile-languages","#language-fields-template"),this.createNestedField("award",".add-new-award",".remove-award",".profile-awards","#award-fields-template"),this.createNestedField("publication",".add-new-publication",".remove-publication",".profile-publications","#publication-fields-template")
}return e.prototype.createNestedField=function(e,t,i,n,r){return this.el.on("click",t,{title:e,templateName:r},this.addNewField),this.el.on("click",i,{wrapperClass:n,removeLink:i},this.removeField),1===this.el.find(""+n+":visible").length?this.el.find(""+n+":visible:first "+i).hide():void 0},e.prototype.addNewField=function(e){var t,i,n;return e.preventDefault(),this.template||(this.template=this.el.find(e.data.templateName).html()),i=(new Date).getTime(),n=new RegExp("new_"+e.data.title,"g"),t=$(this.template.replace(n,i)),$(e.currentTarget).before(t)},e.prototype.removeField=function(e){return e.preventDefault(),$(e.currentTarget).prev("input[type=hidden]").val("1"),$(e.currentTarget).closest("div").hide(),1===this.el.find(""+e.data.wrapperClass+":visible").length?this.el.find(""+e.data.wrapperClass+":visible:first "+e.data.removeLink).hide():void 0},e}(),Featurette.register("accounts-form",e)}.call(this),function(){var e;e=function(){function e(e){var t;t=$(e),t.click(function(){return window._gaq.push(["_trackEvent",t.attr("data-category"),t.attr("data-action"),t.attr("data-label"),t.attr("data-value")])})}return e}(),Featurette.register("analytics-event-link",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.success=t(this.success,this),this.listener=t(this.listener,this),this.element=$(e),this.element.click(this.listener)}return e.prototype.listener=function(){var e;return e=this.element.data("user-id"),$.post(""+window.location.origin+window.location.pathname+"/request_answer",{user_id:e},this.success)},e.prototype.success=function(){return this.element.text("Asked").addClass("button-posted").attr("disabled","disabled")},e}(),Featurette.register("ask-to-answer",e)}.call(this),function(){var e;e=function(){function e(e,t){this.options={newPlaceholderText:"Add another…",newButtonText:"Add",newButtonClass:"button"},$.extend(this.options,t),this.element=$(e),this.element.wrap("<div data-bullmark-wrapper-for='"+this.element.attr("id")+"' class='bullmark' />"),this.wrapper=$("[data-bullmark-wrapper-for='"+this.element.attr("id")+"']"),this.wrapper.append("<ul />"),this.list=this.wrapper.find("ul"),this.element.hide(),this.drawList(),this.newItem()}return e.prototype.drawList=function(){var e,t=this;return this.list.empty(),e=this.element.val().split("\n"),_.each(e,function(e,i){var n;return e=$.trim(e),"*"===e[0]||"-"===e[0]?(n=$("<li>"+e.slice(1)+"</li>"),n.append("<span class='bullmark-destroy' data-bullmark-remove='"+i+"'>&times;</span>"),t.list.append(n)):void 0}),this.destroyListeners()},e.prototype.newItem=function(){var e,t,i=this;return t=$("<textarea class='bullmark-new' placeholder='"+this.options.newPlaceholderText+"'></textarea>"),e=$("<button class='bullmark-new-button button-secondary "+this.options.newButtonClass+"' disabled>"+this.options.newButtonText+"</button>"),t.appendTo(this.wrapper),e.appendTo(this.wrapper),t.on("keyup keydown change",function(){return 0===$.trim(t).length?e.attr("disabled","disabled"):e.removeAttr("disabled")}),e.on("click",function(e){return e.preventDefault(),i.createItem(t.val()),t.val(""),t.focus()})},e.prototype.createItem=function(e){return this.element.val(""+this.element.val()+"\n* "+e),this.drawList()},e.prototype.destroyItem=function(e){var t;return t=this.element.val().split("\n"),t.splice(e,1),this.element.val(t.join("\n")),this.drawList()},e.prototype.destroyListeners=function(){var e,t=this;return e=$(".bullmark-destroy",this.wrapper),e.off("click"),e.each(function(e,i){return $(i).click(function(e){var i;return i=$(e.target).data("bullmark-remove"),t.destroyItem(i)})})},e}(),Featurette.register("bullmark",e)}.call(this),window.Bugsnag=function(e,t,i){function n(t){var i=e.console;void 0!==i&&void 0!==i.log&&i.log("[Bugsnag] "+t)}function r(e,t){var i=[];for(var n in e)if(e.hasOwnProperty(n)&&null!=n&&null!=e[n]){var s=t?t+"["+n+"]":n,o=e[n];i.push("object"==typeof o?r(o,s):encodeURIComponent(s)+"="+encodeURIComponent(o))}return i.join("&")}function s(e,t){if(null==t)return e;e=e||{};for(var i in t)if(t.hasOwnProperty(i))try{e[i]=t[i].constructor===Object?s(e[i],t[i]):t[i]}catch(n){e[i]=t[i]}return e}function o(e,t){if(y.testRequest)y.testRequest(e,t);else{var i=new Image;i.src=e+"?"+r(t)+"&ct=img&cb="+(new Date).getTime()}}function a(e){for(var t={},i=/^data\-([\w\-]+)$/,n=e.attributes,r=0;r<n.length;r++){var s=n[r];if(i.test(s.nodeName)){var o=s.nodeName.match(i)[1];t[o]=s.nodeValue}}return t}function l(e){return b=b||a(D),y[e]||b[e.toLowerCase()]}function u(e){return null!=e&&e.match(w)?!0:(n("Invalid API key '"+e+"'"),!1)}function c(t,n){var r=l("apiKey");if(u(r)){for(var a=l("releaseStage")||S,c=l("notifyReleaseStages")||M,h=!1,d=0;d<c.length;d++)if(a===c[d]){h=!0;break}if(h){var p=s(l("metaData"),n),f=e.location;o(l("endpoint")||x,{notifierVersion:T,apiKey:r,projectRoot:l("projectRoot")||f.protocol+"//"+f.host,context:l("context")||f.pathname,metaData:p,releaseStage:a,url:e.location.href,userAgent:i.userAgent,language:i.language||i.userLanguage,name:t.name,message:t.message,stacktrace:t.stacktrace,file:t.file,lineNumber:t.lineNumber})}}}function h(){var e,t=10,i="[anonymous]";try{throw new Error("")}catch(n){e=d(n)}if(!e){for(var r=[],s=arguments.callee.caller.caller;s&&r.length<t;){var o=_.test(s.toString())?RegExp.$1||i:i;r.push(o),s=s.caller}e=r.join("\n")}return e}function d(e){return e.stack||e.backtrace||e.stacktrace}function p(){var e=l("metrics"),t=l("apiKey");if((e===!0||"true"===e)&&u(t)){var i="bugsnag_"+t,n=v(i);null==n&&(n=m(),g(i,n,1e3,!0)),o(l("metricsEndpoint")||C,{userId:n,apiKey:t})}}function f(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function m(){return f()+f()+"-"+f()+"-"+f()+"-"+f()+"-"+f()+f()+f()}function g(i,n,r,s){var o="",a="";if(r){var l=new Date;l.setTime(l.getTime()+1e3*60*60*24*r),a="; expires="+l.toGMTString()}if(s){var u=e.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),c=u?u[0]:"";o=c?"; domain=."+c:""}t.cookie=i+"="+encodeURIComponent(n)+a+"; path=/"+o}function v(e){var i=t.cookie.match(e+"=([^$;]+)");return i?decodeURIComponent(i[1]):null}var y={};y.notifyException=function(e,t,i){"string"!=typeof t&&(i=t),c({name:t||e.name,message:e.message||e.description,stacktrace:d(e)||h(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line},i)},y.notify=function(e,t,i){c({name:e,message:t,stacktrace:h()},i)};var b,w=/^[0-9a-f]{32}$/i,_=/function\s*([\w\-$]+)?\s*\(/i,k="https://notify.bugsnag.com/",x=k+"js",C=k+"metrics",T="1.0.6",S="production",M=[S],E=t.getElementsByTagName("script"),D=E[E.length-1];return p(),y}(window,document,navigator),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Bugsnag.apiKey="16b875e4d6899a27049288618f9ba496",this.CodeChallenge||(this.CodeChallenge={}),CodeChallenge.Base=function(){function t(t){var i,n,r,s,o,a=this;for(this.el=t,this.acceptIncomingMessage=e(this.acceptIncomingMessage,this),this.handleEngineStatusUpdate=e(this.handleEngineStatusUpdate,this),this.handleEngineEvent=e(this.handleEngineEvent,this),this.handleTimeoutError=e(this.handleTimeoutError,this),this.refresh=e(this.refresh,this),this.checkWork=e(this.checkWork,this),this.submit=e(this.submit,this),this.goToTask=e(this.goToTask,this),this.el=$(this.el),i=this.el.data("challenge"),this.tasks=i.tasks,this.currentTask=0,this.lastTaskPassed=0,this.timeoutDelay=1e3*i.timeout,this.timeoutId=null,this.isAdminPreview=i.admin_preview,this.workspace=new CodeChallenge.WorkspaceView(this.el.find(".cc-workspace")),this.instructions=new CodeChallenge.InstructionView(this.el.find("#instructions"),this.tasks,this.el.data("badge-url")),this.feedback=new CodeChallenge.FeedbackView(this.el.find("#feedback"),this.checkWork,this.refresh,this.goToTask),this.results=new CodeChallenge.ResultsView(this.el.find(".cc-results")),this.submitter=new CodeChallenge.Submitter(this.el.data("submit-path"),i.uuid,i.challenge_id,this.timeoutDelay,i.queue_name),this.engineListener=new CodeChallenge.EngineListener(i.uuid,this.acceptIncomingMessage,{event:this.handleEngineEvent,engine_update:this.handleEngineStatusUpdate,connect:function(){return i.no_preview?void 0:a.refresh()}}),$(document).bind("keydown","ctrl+return",this.checkWork),$(document).bind("keydown","alt+r",this.refresh),o=this.workspace.editors,r=0,s=o.length;s>r;r++)n=o[r],n.codeMirror.addKeyMap({"Ctrl-Enter":this.checkWork}),n.codeMirror.addKeyMap({"Alt-R":this.refresh});this.goToTask(1),i.no_preview&&this.feedback.hidePreviewButton()}return t.prototype.goToTask=function(e){var t;return this.currentTask=e,t=Math.max(e,this.lastTaskPassed),this.instructions.update(e),this.feedback["default"](t)},t.prototype.submit=function(e){var t;return t=this.listenForMessages(),this.submitter.submit(t,this.workspace.getFiles(),e),this.timeoutId=setTimeout(this.handleTimeoutError,this.timeoutDelay)},t.prototype.checkWork=function(){return this.feedback.canCheckWork()?(this.feedback.disableCheckWork(),this.feedback.disableRefresh(),this.submit(this.feedback.currentTask())):void 0},t.prototype.refresh=function(){return this.feedback.canRefresh()?(this.feedback.disableRefresh(),this.feedback.disableCheckWork(),this.submit()):void 0},t.prototype.handleTimeoutError=function(){return this.rejectMessages(),this.genericErrorMessage("Timeout Error"),this.feedback.resetButtons()},t.prototype.handleEngineEvent=function(e){return this.rejectMessages(),e.pass?e.task===this.tasks.length?(this.feedback.finished(),this.isAdminPreview!==!0&&this.completeChallenge()):(e.task>this.lastTaskPassed&&(this.lastTaskPassed=e.task),this.feedback.correct(e.feedback,e.task+1)):e.pass===!1&&(e.task<=this.lastTaskPassed&&e.task!==this.currentTask?this.feedback.inactiveTaskFailed(e.task,e.up_to):(this.feedback.showWorkspace(),this.feedback.wrong(e.feedback,e.up_to))),clearTimeout(this.timeoutId),this.results.update(e),this.feedback.resetButtons()},t.prototype.handleEngineStatusUpdate=function(e){var t;return t="run"===e.target?this.feedback.updatePreviewButton(e.text):this.feedback.updateTestButton(e.text)},t.prototype.listenForMessages=function(){return null==this.messageId&&(this.messageId=0),null==this.totalMessages&&(this.totalMessages=0),this.totalMessages+=1,this.messageId=this.totalMessages},t.prototype.acceptIncomingMessage=function(e){return parseInt(e.message_id,10)===this.messageId},t.prototype.rejectMessages=function(){return this.messageId=null},t.prototype.completeChallenge=function(){var e=this;return $.ajax({type:"POST",url:this.el.data("completed-path"),data:{_method:"PUT"},success:function(t){return"Badge achieved!"===t.message?t.video?(Featurette.get("badge-video-modal").showOverlay(),$("#reward-video-container").html(t.video),$("#reward-video").show(),e.player=new MediaElementPlayer($("#player"))):Featurette.get("badge-modal").showOverlay():(Featurette.get("challenge-completed-modal").showOverlay(),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300))},error:function(t,i,n){return e.genericErrorMessage(n)}})},t.prototype.genericErrorMessage=function(e){return alert("There was a problem connecting to the Code Challenge Engine: "+e+". If this problem persists, please contact support at help@teamtreehouse.com.")},t}(),Featurette.register("code-challenge",CodeChallenge.Base)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};this.CodeChallenge||(this.CodeChallenge={}),CodeChallenge.CommandChallenge=function(){function t(t){var i;this.el=t,this.acceptIncomingMessage=e(this.acceptIncomingMessage,this),this.acceptIncomingMessage=e(this.acceptIncomingMessage,this),this.retryCurrentTask=e(this.retryCurrentTask,this),this.goToNextTask=e(this.goToNextTask,this),this.handleEngineEvent=e(this.handleEngineEvent,this),this.handleTimeoutError=e(this.handleTimeoutError,this),this.submit=e(this.submit,this),this.el=$(this.el),i=this.el.data("challenge"),this.tasks=i.tasks,this.currentTask=1,this.lastTaskPassed=0,this.timeoutDelay=1e3*i.timeout,this.timeoutId=null,this.badgeUrl=this.el.data("badge-url"),this.addViewForCurrentTask(),this.engineListener=new CodeChallenge.EngineListener(i.uuid,this.acceptIncomingMessage,{event:this.handleEngineEvent}),this.submitter=new CodeChallenge.Submitter(this.el.data("submit-path"),i.uuid,i.challenge_id,this.timeoutDelay,i.queue_name)}return t.prototype.submit=function(e,t){var i;return i=this.listenForMessages(),this.submitter.submit(i,[],e,t),this.timeoutId=setTimeout(this.handleTimeoutError,this.timeoutDelay)},t.prototype.handleTimeoutError=function(){return this.rejectMessages(),this.genericErrorMessage()},t.prototype.handleEngineEvent=function(e){var t,i=this;return this.rejectMessages(),e.pass?e.task===this.tasks.length?this.completeChallenge():(this.lastTaskPassed=e.task,this.taskView.correct(e.feedback),$(".cc-goto").click(function(){return i.goToNextTask()})):(this.taskView.wrong(e.feedback),$(".cc-test").click(function(){return i.retryCurrentTask()})),this.taskView.displayResults(null!=(t=e.preview_urls)?t[0]:void 0),clearTimeout(this.timeoutId)},t.prototype.goToNextTask=function(){return this.taskView.hideResults(this.lastTaskPassed,$(".hide-results")),$(".cc-goto").remove(),this.currentTask=this.lastTaskPassed+1,this.addViewForCurrentTask()},t.prototype.retryCurrentTask=function(){return $("#"+this.el.attr("id")+" .task_view").last().remove(),this.addViewForCurrentTask()},t.prototype.listenForMessages=function(){return null==this.messageId&&(this.messageId=0),null==this.totalMessages&&(this.totalMessages=0),this.totalMessages+=1,this.messageId=this.totalMessages},t.prototype.addViewForCurrentTask=function(){return this.taskView=new CodeChallenge.CommandTaskView(this.el,this.tasks[this.currentTask-1],this.currentTask,this.tasks.length,this.submit,this.badgeUrl)},t.prototype.acceptIncomingMessage=function(){},t.prototype.acceptIncomingMessage=function(e){return parseInt(e.message_id,10)===this.messageId},t.prototype.rejectMessages=function(){return this.messageId=null},t.prototype.completeChallenge=function(){var e=this;return $.ajax({type:"POST",url:this.el.data("completed-path"),data:{_method:"PUT"},success:function(t){return"Badge awarded!"===t?t.video?(Featurette.get("badge-video-modal").showOverlay(),$("#reward-video-container").html(t.video),$("#reward-video").show(),e.player=new MediaElementPlayer($("#player"))):Featurette.get("badge-modal").showOverlay():(Featurette.get("challenge-completed-modal").showOverlay(),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300))},error:function(){return e.genericErrorMessage}})},t.prototype.genericErrorMessage=function(){return alert("There was a problem connecting to the Code Challenge Engine. If this problem persists, please contact support at help@teamtreehouse.com.")},t}(),Featurette.register("command-challenge",CodeChallenge.CommandChallenge)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.EngineListener=function(){function t(t,i,n){this.acceptIncoming=i,this.callbacks=n,this.fireEvent=e(this.fireEvent,this),pubnub.subscribe({channel:t,connect:this.callbacks.connect,message:this.fireEvent})}return t.prototype.subKey="sub-e2de2b5c-13c2-11e2-b508-f53fda4cd93d",t.prototype.pubKey="pub-b8a18d09-58e0-4ec4-acd5-67ce32d576cd",t.prototype.fireEvent=function(e){return this.acceptIncoming&&this.callbacks[e.name]?this.callbacks[e.name](e.data):void 0},t}()}.call(this),function(){null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.Submitter=function(){function e(e,t,i,n,r){this.url=e,this.ajaxDefaultData={uuid:t,challenge_id:i,queue_name:r}}return e.prototype.submit=function(e,t,i,n){var r;return null==i&&(i=null),null==n&&(n=null),r={message_id:e,task:i,files:t,command:n},$.extend(r,this.ajaxDefaultData),$.ajax({type:"POST",url:this.url,data:r})},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.CommandTaskView=function(){function t(t,i,n,r,s,o){this.el=t,this.taskData=i,this.currentTask=n,this.totalTasks=r,this.submitForTestingCallback=s,this.badgeUrl=o,this.hideResults=e(this.hideResults,this),this.displayResults=e(this.displayResults,this),this.wrong=e(this.wrong,this),this.correct=e(this.correct,this),this.disableOtherTaskEntries=e(this.disableOtherTaskEntries,this),this.addNewTaskEntry=e(this.addNewTaskEntry,this),this.el=$(this.el),this.addNewTaskEntry()}return t.prototype.addNewTaskEntry=function(){var e,t,i,n,r=this;return this.disableOtherTaskEntries(),e={taskData:this.taskData,currentTask:this.currentTask,totalTasks:this.totalTasks,badgeUrl:this.badgeUrl},this.el.append(HoganTemplates["code_challenges/command_task"].render(e)),n=$("#"+this.el.attr("id")+" .task_view .terminal").last(),t=function(e,t){return""!==e?(r.submitForTestingCallback(r.currentTask,e),t.pause(),t.echo("Checking your answer...")):void 0},i=n.terminal(t,{greetings:""},{width:"100%",prompt:"> "}),n.data("terminal",i)},t.prototype.disableOtherTaskEntries=function(){return this.el.children(".task_view").addClass("inactive")},t.prototype.correct=function(e){var t;return t=$("#"+this.el.attr("id")+" .task_view #feedback").last(),t.html(HoganTemplates["code_challenges/command_feedback_correct"].render({feedback:e}))},t.prototype.wrong=function(e){var t;return t=$("#"+this.el.attr("id")+" .task_view #feedback").last(),t.html(HoganTemplates["code_challenges/command_feedback_wrong"].render({feedback:e}))},t.prototype.displayResults=function(e){var t,i,n,r=this;if(void 0!==e&&null!==e)return n=this.el.children(".task_view").last(),t={currentTask:this.currentTask,url:e},n.append(HoganTemplates["code_challenges/command_results"].render(t)),i=$(".hide-results").last(),i.click(function(){var e;return e=t.currentTask,r.hideResults(e,i)})},t.prototype.hideResults=function(e,t){var i=this;return $("#results-"+e).hide(),t.addClass("show-results"),t.removeClass("hide-results"),t.html("Show"),t.click(function(){return $("#results-"+e).show(),t.addClass("hide-results"),t.removeClass("show-results"),t.html("Hide"),t.click(function(){return i.hideResults(e,t)})})},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.EditorView=function(){function t(t,i,n){this.submitForTestingCallback=i,this.submitForPreviewCallback=n,this.refresh=e(this.refresh,this),this.handleCursorMove=e(this.handleCursorMove,this),this.codeMirror=CodeMirror.fromTextArea(t,{mode:$(t).data("editor-mode"),tabMode:"indent",tabSize:2,lineNumbers:!0,theme:"solarized dark",viewportMargin:30}),this.codeMirror.on("cursorActivity",this.handleCursorMove),$(".CodeMirror").ready(this.refresh)}return t.prototype.handleCursorMove=function(){var e,t;return t=this.highlightedLine,e=this.codeMirror.getCursor().line,t&&this.codeMirror.removeLineClass(t,"background","CodeMirror-activeline-background"),this.highlightedLine=this.codeMirror.addLineClass(e,"background","CodeMirror-activeline-background")},t.prototype.getValue=function(){return this.codeMirror.getValue()},t.prototype.refresh=function(){return this.codeMirror.refresh()},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.FeedbackView=function(){function t(t,i,n,r){this.el=t,this.submitForTestingCallback=i,this.submitForPreviewCallback=n,this.goToTaskCallback=r,this.showWorkspace=e(this.showWorkspace,this),this.showResults=e(this.showResults,this),this.disableRefresh=e(this.disableRefresh,this),this.disableCheckWork=e(this.disableCheckWork,this),this.currentTask=e(this.currentTask,this),this.goToTask=e(this.goToTask,this),this.testButtonHandler=e(this.testButtonHandler,this),this.previewButtonHandler=e(this.previewButtonHandler,this),this.el=$(this.el),this.el.on("click",".cc-test",this.testButtonHandler),this.el.on("click",".cc-preview",this.previewButtonHandler),this.el.on("click",".cc-goto",this.goToTask),this.el.on("click",".show-results-button",this.showResults),this.el.on("click",".show-workspace-button",this.showWorkspace)}return t.prototype.previewButtonHandler=function(e){return e.preventDefault(),this.submitForPreviewCallback()},t.prototype.testButtonHandler=function(e){return e.preventDefault(),this.submitForTestingCallback()},t.prototype.goToTask=function(e){var t,i;return e.preventDefault(),t=$(e.target),t.hasClass("disabled")?void 0:(i=t.data("task"),this.goToTaskCallback(i))},t.prototype.generateFeedback=function(e,t){return null==t&&(t={}),HoganTemplates["code_challenges/feedback_"+e].render(t)},t.prototype["default"]=function(e){return this.el.html(this.generateFeedback("neutral",{task:e}))},t.prototype.canCheckWork=function(){return!this.el.find(".cc-test").hasClass("disabled")},t.prototype.canRefresh=function(){return!this.el.find(".cc-preview").hasClass("disabled")},t.prototype.correct=function(e,t){return this.el.html(this.generateFeedback("correct",{feedback:e,nextTask:t}))},t.prototype.currentTask=function(){return this.el.find(".cc-test").data("task")},t.prototype.disableCheckWork=function(){return this.el.find(".cc-test").addClass("disabled"),this.updateTestButton("Working...")},t.prototype.disableRefresh=function(){return this.el.find(".cc-preview").addClass("disabled"),this.updatePreviewButton("Working...")},t.prototype.finished=function(){return this.el.html(this.generateFeedback("finished"))},t.prototype.wrong=function(e,t){return this.el.html(this.generateFeedback("wrong",{feedback:e,failedTask:t}))},t.prototype.hidePreviewButton=function(){return this.el.find(".show-results-button").hide()},t.prototype.inactiveTaskFailed=function(e,t){var i;return i={failedTaskAsWord:this.numberToWord(e),failedTask:e,currentTask:t},this.el.html(this.generateFeedback("inactive_task_failed",i))},t.prototype.numberToWord=function(e){var t;return t=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten"],11>e?t[e]:"#"+e},t.prototype.resetButtons=function(){var e,t;return e=this.el.find(".cc-test"),e.text(e.data("default-text")),t=this.el.find(".cc-preview"),t.text(t.data("default-text")),$(".cc-test, .cc-preview").removeClass("disabled")},t.prototype.showResults=function(){return this.el.find(".cc-preview").show(),$(".show-results-button").hide(),$(".show-workspace-button").show(),$(".workspace").hide(),$(".cc-results").show()},t.prototype.showWorkspace=function(){return this.el.find(".cc-preview").hide(),$(".show-results-button").show(),$(".show-workspace-button").hide(),$(".workspace").show(),$(".cc-results").hide()},t.prototype.updateTestButton=function(e){return this.el.find(".cc-test").text(e)},t.prototype.updatePreviewButton=function(e){return this.el.find(".cc-preview").text(e)},t}()}.call(this),function(){null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.InstructionView=function(){function e(e,t,i){this.el=e,this.taskInstructions=t,this.badgeImageUrl=i,this.el=$(this.el)}return e.prototype.update=function(e){var t;return t={task:e,body:this.taskInstructions[e-1].body,totalTasks:this.taskInstructions.length,badgeImageUrl:this.badgeImageUrl},this.el.html(HoganTemplates["code_challenges/instructions"].render(t))},e}()}.call(this),function(){null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.PreviewView=function(){function e(e){this.el=e,this.el=$(this.el)}return e.prototype.update=function(e){return this.el.find("iframe").attr("src",e)},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.ResultsView=function(){function t(t){this.el=t,this.update=e(this.update,this),this.handleMenuClick=e(this.handleMenuClick,this),this.initializePreview=e(this.initializePreview,this),this.el.find(".cc-preview-view").each(this.initializePreview),this.el.on("click",".cc-results-menu a",this.handleMenuClick),this.el.find(".cc-results-menu .selected").click()}return t.prototype.initializePreview=function(e,t){return this.previews||(this.previews={}),this.previews[$(t).data("source")]=new CodeChallenge.PreviewView(t)},t.prototype.handleMenuClick=function(e){var t,i;return e.preventDefault(),i=$(e.target),this.el.find(".cc-results-menu .selected").removeClass("selected"),i.addClass("selected"),t=this.el.find(".cc-results-menu a").index(i),this.el.find(".preview.selected").removeClass("selected"),this.el.find(".preview").eq(t).addClass("selected")},t.prototype.update=function(e){var t,i,n,r,s;r=this.previews,s=[];for(t in r)i=r[t],e.preview_urls?s.push(function(){var r,s,o,a;for(o=e.preview_urls,a=[],r=0,s=o.length;s>r;r++)n=o[r],new RegExp("/"+t+"$").test(n)&&a.push(i.update(n));return a}()):s.push(void 0);return s},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.WorkspaceView=function(){function t(t,i,n){this.el=t,this.submitForTestingCallback=i,this.submitForPreviewCallback=n,this.handleMenuClick=e(this.handleMenuClick,this),this.initializeEditor=e(this.initializeEditor,this),this.el.find(".editor textarea").each(this.initializeEditor),this.el.on("click",".cc-editor-menu a",this.handleMenuClick),this.el.find(".cc-editor-menu .selected").click()}return t.prototype.initializeEditor=function(e,t){return this.editors||(this.editors=[]),this.editors.push(new CodeChallenge.EditorView(t,this.submitForTestingCallback,this.submitForPreviewCallback))},t.prototype.handleMenuClick=function(e){var t,i;return e.preventDefault(),i=$(e.target),this.el.find(".cc-editor-menu .selected").removeClass("selected"),i.addClass("selected"),t=this.el.find(".cc-editor-menu a").index(i),this.el.find(".editor.selected").removeClass("selected"),this.el.find(".editor").eq(t).addClass("selected"),this.editors[t].codeMirror.refresh()},t.prototype.getFiles=function(){var e=this;return $.map(this.editors,function(t,i){var n,r;return r=e.el.find(".cc-editor-menu a").eq(i).text(),n=t.getValue(),{source:r,content:n}})},t}()}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.toggleCompletedCards=t(this.toggleCompletedCards,this),this.element=$(e),this.toggle=$("div[data-featurette='expandable-content-card'].completed"),this.icon=this.element.find(".icon"),this.text=this.element.find(".toggle-text"),this.element.on("click",this.toggleCompletedCards)}return e.prototype.toggleCompletedCards=function(){return"Hide"===this.text.html()?this.contract():this.expand()},e.prototype.expand=function(){return this.toggle.removeClass("hidden"),this.text.html("Hide"),this.icon.removeClass("icon-chevron-down").addClass("icon-chevron-up")},e.prototype.contract=function(){return this.toggle.addClass("hidden"),this.text.html("Show"),this.icon.removeClass("icon-chevron-up").addClass("icon-chevron-down")},e}(),Featurette.register("completed-card-toggle",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.respectAnchor=t(this.respectAnchor,this),this.element=$(e),_.delay(this.respectAnchor,500)}return e.prototype.respectAnchor=function(){var e,t;return e=window.location.hash.substring(1),""===e?null:(t=Featurette.get(e),void 0!==t?(_.each(this.element.find("[data-featurette='expandable-content-card']"),function(e){return Featurette.get($(e).attr("id")).contract(0)}),t.expand(0),$(window).scrollTop($(window).scrollTop()-100)):void 0)},e}(),Featurette.register("content-cards",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.displayErrors=t(this.displayErrors,this),this.formSubmit=t(this.formSubmit,this),this.el=$(e),this.fieldValidation(),this.el.find("#payment_card_number").on("keyup",this.getCardType),this.el.on("submit",this.formSubmit)}return e.prototype.formSubmit=function(e){return e.preventDefault(),this.reset(),$.ajax({url:"/payments/verify_credit_card",type:"POST",data:this.el.serialize(),headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:this.displayErrors})},e.prototype.displayErrors=function(e){var t;return null===e.errors?this.el.get(0).submit():(t=_.keys(e.errors),_.each(t,function(t){var i,n;return i=$("[data-errors-on~="+t+"]"),n=e.errors[t],0===$("p.error-message",i).length&&n.length>0?(i.addClass("field_with_errors"),i.append("<p class='error-message'>"+n[0]+"</p>")):void 0}))},e.prototype.fieldValidation=function(){return $("#payment_card_number").payment("formatCardNumber"),$("#payment_card_cvc").payment("formatCardCVC"),$("#payment_card_expiration").payment("formatCardExpiry")},e.prototype.getCardType=function(){var e,t;return t=$("#payment_card_number").val(),e=$.payment.cardType(t),$("#payment_card_type").val(e),$("#cards img").removeClass("selected"),null!==e?$("#card-"+e).addClass("selected"):void 0},e.prototype.reset=function(){return $("p.error-message").remove(),$(".field_with_errors").removeClass("field_with_errors")},e}(),Featurette.register("credit-card-form",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.resize=t(this.resize,this),this.dropdown=$(e),this.dropdown.wrap("<span class='drop-down-container' />"),this.wrapper=this.dropdown.parent(),this.dropdown.chosen({no_results_text:"No results for",allow_single_deselect:!0}),this.button=this.wrapper.find(".chzn-single"),this.center(),void 0!==this.dropdown.data("autocomplete-url")?(this.dropdown.data("existing",this.dropdown.html()),this.autocomplete()):this.wrapper.find(".chzn-search").hide(),$(document).on("liszt:updated",this.resize),this.dropdown.on("change",this.resize),this.resize()}return e.prototype.resize=function(){return this.button.parent().removeAttr("style"),this.center()},e.prototype.center=function(){var e,t,i;return e=this.wrapper.width(),t=this.wrapper.find(".chzn-drop").width(),i=e/2-t/2,this.wrapper.find(".chzn-drop").css("margin-left",i)},e.prototype.autocomplete=function(){var e=this;return this.input=this.wrapper.find(".chzn-search input"),this.input.autocomplete({delay:500,minLength:5,source:function(t,i){return $.ajax({url:e.dropdown.data("autocomplete-url"),data:{location:e.input.val()},dataType:"json",beforeSend:function(){return e.wrapper.find("ul.chzn-results, select").empty()},success:function(n){var r;return e.addExisting(),r=_.each(n,function(i){return e.dropdown.append("<option>"+i+"</option>"),e.dropdown.trigger("liszt:updated"),e.input.val(t.term)}),i(r)}})}})},e.prototype.addExisting=function(){return this.dropdown.prepend(this.dropdown.data("existing")),this.dropdown.trigger("liszt:updated")},e}(),Featurette.register("drop-down",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.toggleSteps=t(this.toggleSteps,this),this.element=$(e),this.list=this.element.find(".achievement-steps ul"),this.toggle=this.element.find(".toggle-steps"),this.message=this.element.find(".toggle-steps i"),this.element.on("click",".toggle-steps",this.toggleSteps)}return e.prototype.toggleSteps=function(){return"Hide"===this.message.html()?this.contract():this.expand()},e.prototype.expand=function(e){return null==e&&(e="fast"),this.list.stop(!0,!0).slideDown(e),this.toggle.addClass("selected"),this.message.html("Hide"),this.element.find(".toggle-steps").addClass("selected")},e.prototype.contract=function(e){return null==e&&(e="fast"),this.list.stop(!0,!0).slideUp(e),this.toggle.removeClass("selected"),this.message.html("Show"),this.element.find(".toggle-steps").removeClass("selected")},e}(),Featurette.register("expandable-content-card",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.toggleContent=t(this.toggleContent,this),this.root=$(e),this.root.on("click",".expander-trigger",this.toggleContent),this.parentSelector=this.root.data("parent-selector")}return e.prototype.toggleContent=function(e){var t,i,n,r;return e.preventDefault(),n=$(e.currentTarget),i=n.parents(this.parentSelector),i.toggleClass("expanded"),i.hasClass("expanded")&&(r=i.data("content-path"))&&(t=i.find(".expander-content-container"),t.hasClass("is-empty"))?$.get(r,function(e){return t.html(e).removeClass("is-empty")}):void 0},e}(),Featurette.register("expander",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.listener=t(this.listener,this),this.init=t(this.init,this),this.element=$(e),this.element.on("filter-list:updated",this.init),this.element.trigger("filter-list:updated"),this.initialValue()
}return e.prototype.init=function(){return this.filters=this.element.find("a"),this.filters.off("click",this.listener),this.filters.on("click",this.listener)},e.prototype.initialValue=function(){var e;return(e=this.queryString()[this.element.attr("id")])&&this.val(e.replace(/\+/g," ")),void 0===this.val()?this.val(""):void 0},e.prototype.listener=function(e){var t;return e.preventDefault(),t=$(e.target),this.val(t.data("filter-value"))},e.prototype.val=function(e,t){var i;return null==t&&(t=!0),void 0===e?this.filters.filter(".selected").first().data("filter-value"):(this.filters.removeClass("selected"),i=this.filters.filter("[data-filter-value='"+e+"']"),1===i.length&&i.addClass("selected"),t?this.element.trigger("change"):void 0)},e.prototype.queryString=function(){var e,t,i,n,r,s;if(e=new Object,i=location.href.split("?")[1],!i)return e;for(s=i.split("&"),n=0,r=s.length;r>n;n++)t=s[n],t=t.split("="),e[t[0]]=t[1];return e},e}(),Featurette.register("filter-list",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.cancelNewComment=t(this.cancelNewComment,this),this.showNewComment=t(this.showNewComment,this),this.$el=$(e),this.id=this.$el.data("item-id"),this.type=this.$el.data("item-type"),this.$addEl=$("#add-"+this.type+"-comment-"+this.id),this.$newEl=$("#new-"+this.type+"-comment-"+this.id),this.$cancelEl=$("#cancel-new-"+this.type+"-comment-"+this.id),this.$el.click(this.showNewComment),this.$cancelEl.click(this.cancelNewComment)}return e.prototype.showNewComment=function(e){return e.preventDefault(),this.$addEl.hide(),this.$newEl.show()},e.prototype.cancelNewComment=function(e){return e.preventDefault(),this.$newEl.hide().find("textarea").val(""),this.$addEl.show()},e}(),Featurette.register("forum-commenting",e)}.call(this),function(){var e;e=function(){function e(e){var t=this;this.$el=$(e),this.id=this.$el.data("item-id"),this.type=this.$el.data("item-type"),this.$showEl=$("#show-"+this.type+"-"+this.id),this.$editEl=$("#edit-"+this.type+"-"+this.id),this.$cancelEl=$("#cancel-edit-"+this.type+"-"+this.id),this.$el.click(function(){return t.previousValue=t.$editEl.find("textarea").val(),t.$showEl.hide(),t.$editEl.show()}),this.$cancelEl.click(function(e){return e.preventDefault(),t.$editEl.hide(),t.$showEl.show(),t.$editEl.find("textarea").val(t.previousValue)})}return e}(),Featurette.register("forum-editing",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.updateVotingCounts=t(this.updateVotingCounts,this),this.vote=t(this.vote,this),this.selectBest=t(this.selectBest,this),this.$el=$(e),this.id=this.$el.data("answer-id"),this.cancelVoteUrl=this.$el.data("cancel-vote-url"),this.$answerWrap=this.$el.find(".discussion-highlight"),this.$bestEl=this.$el.find(".vote-best-answer"),this.$upvoteEl=this.$el.find(".vote-up"),this.$downvoteEl=this.$el.find(".vote-down"),this.$bestEl.find("a").click(this.selectBest),this.$upvoteEl.find("a").click(this.vote),this.$downvoteEl.find("a").click(this.vote)}return e.prototype.selectBest=function(e){var t,i,n=this;return e.preventDefault(),i=this.$bestEl.find("a").data("url"),this.$answerWrap.hasClass("discussion-answer-best")?(t=this.$answerWrap,this.$answerWrap.removeClass("discussion-answer-best"),this.$bestEl.addClass("selected")):(t=$(".discussion-answer-best"),t.removeClass("discussion-answer-best"),t.find(".vote-best-answer").addClass("selected"),this.$answerWrap.addClass("discussion-answer-best"),this.$bestEl.removeClass("selected")),$.ajax({url:i,type:"POST",error:function(){return n.$answerWrap.removeClass("discussion-answer-best"),n.$bestEl.addClass("selected"),t.addClass("discussion-answer-best"),t.find(".vote-best-answer").removeClass("selected"),alert("There was a problem marking the answer as best.")}})},e.prototype.vote=function(e){var t,i,n,r,s,o,a,l,u=this;return e.preventDefault(),t=$(e.currentTarget),s={upvotes_count:this.$upvoteEl.find(".vote-count").text(),downvotes_count:this.$downvoteEl.find(".vote-count").text()},i=t.find(".vote-count"),t.hasClass("voted")?(o=this.cancelVoteUrl,n=t,t.removeClass("voted"),r=Math.max(parseInt(null!=(a=i.text())?a:0)-1,0)):(o=t.data("url"),n=this.$el.find(".voted"),n.removeClass("voted"),t.addClass("voted"),r=parseInt(null!=(l=i.text())?l:0)+1),i.text(r),$.ajax({url:o,type:"POST",success:this.updateVotingCounts,error:function(){return t.removeClass("voted"),n.addClass("voted"),u.updateVotingCounts(s),alert("There was a problem counting your vote.")}})},e.prototype.updateVotingCounts=function(e){var t,i,n,r;return i=parseInt(null!=(n=e.upvotes_count)?n:0),t=parseInt(null!=(r=e.downvotes_count)?r:0),this.$upvoteEl.find(".vote-count").text(i),this.$downvoteEl.find(".vote-count").text(t),this.$upvoteEl.find("a").toggleClass("vote-count-zero",0===i),this.$downvoteEl.find("a").toggleClass("vote-count-zero",0===t)},e}(),Featurette.register("forum-voting",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.renderRepos=t(this.renderRepos,this),this.getRepos=t(this.getRepos,this),this.el=$(e),this.githubUsername=this.el.data("github-username"),this.githubSection=this.el.find("ul"),this.getRepos(this.githubUsername,this.githubSection,this.renderRepos)}return e.prototype.getRepos=function(e,t){var i,n;return i="https://api.github.com/users/"+e+"/repos",n=this,$.ajax({url:i,dataType:"jsonp",crossDomain:!0,success:function(i){var r;return r=i.data,r=$.grep(r,function(e){return!e.fork}),r.sort(function(e,t){return t.watchers_count-e.watchers_count}),r=$(r),n.renderRepos(r,e,t)}})},e.prototype.renderRepos=function(e,t,i){return this.setToggle(i,e.length),e.each(function(e){var n,r;return n={repoName:this.name,repoDescription:this.description,repoUrl:this.html_url,repoForksUrl:""+this.html_url+"/forks",repoForks:""+this.forks+" fork"+(this.forks>1?"s":""),repoStargazersUrl:""+this.html_url+"/stargazers",repoStargazers:""+this.watchers+" stargazer"+(this.watchers>1?"s":""),repoOwner:this.owner.login===t},r=HoganTemplates["profile/github_repo"].render(n),e>1&&(r=$(r).hide()),i.append(r)})},e.prototype.setToggle=function(e,t){var i;return i=e.parent(),t>0?i.find("a.show-all-repos").click(function(t){var i;return e.find("li").slice(2).slideToggle(),i=$(t.target),i.text("See all repositories"===i.text()?"Hide repositories":"See all repositories")}):i.find("a.show-all-repos").replaceWith("<span class='no-repos-found'>0 repositories</span>")},e}(),Featurette.register("github-profile",e)}.call(this),function(){var e,t,i=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(){function e(e){this.removeMessage=i(this.removeMessage,this),this.id=e.id,this.mikeId="mike",this.mikeSound="mike-sound",this.countCookie="mikeCounter",this.setupMike(),this.el=$(e),this.el.on("click",".close-message",this.removeMessage),$(document).on("scroll",this.removeMessage)}return e.prototype.setupMike=function(){var e=this;return this.canPlayMp3()||this.canPlayOgg()?$("#"+this.mikeId).click(function(){var t;return $("#"+e.id).slideToggle("fast"),t=parseInt($.cookie(e.countCookie))||0,0===t%10&&$("#"+e.mikeSound)[0].play(),$.cookie(e.countCookie,t+1)}):void 0},e.prototype.canPlayMp3=function(){var e;return e=document.createElement("audio"),!(!e.canPlayType||!e.canPlayType("audio/mpeg;").replace(/no/,""))},e.prototype.canPlayOgg=function(){var e;return e=document.createElement("audio"),!(!e.canPlayType||!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""))},e.prototype.removeMessage=function(){return this.el.fadeOut(500),$("body").removeClass("global-message-displayed")},e}(),Featurette.register("global-message-container",e),t=function(e){function t(e){var t;this.id=e.id,t=$(e),this.key=t.attr("data-hide"),"true"!==$.cookie(this.key)&&t.show(),t.find(".close-message").click(function(){return this.key=t.attr("data-hide"),t.hide(),$.cookie(this.key,"true",{expires:365,path:"/"}),$("body").removeClass("global-message-displayed")})}return r(t,e),t}(e),Featurette.register("global-message-container-with-key",t)}.call(this),function(){var e;e=function(){function e(e){var t=this;this.id=e.id,$(e).find("#contact-form .honey-pot-field").remove(),this.resetContactForm(),$(e).find("#contact-form").submit(function(e){return t.handleSubmit(e)})}return e.prototype.resetContactForm=function(){var e;return e=$("#"+this.id),e.find("#contact-form input").add("#"+this.id+" #contact-form textarea").removeClass("field_with_errors"),e.find("span.error-message").hide(),e.find(".message").hide(),window.element=e,this.hasBeenSubmitted&&e.find("#contact-form").css("visibility","visible"),this.hasBeenSubmitted&&e.find(".form-footer .button").css("visibility","visible"),this.hasBeenSubmitted=!1},e.prototype.handleSubmit=function(e){var t,i=this;return t=$("#"+this.id),this.resetContactForm(),t.find("#contact-form").css("visibility","hidden"),t.find(".form-footer .button").css("visibility","hidden"),t.find(".message.waiting").show(),$.ajax({url:"/contact.json",type:"POST",dataType:"json",data:t.find("form").serialize(),error:function(){return $(".contactForm .message").hide(),$(".contactForm .message.error").show()},success:function(e){return t.find(".message").hide(),$.isEmptyObject(e.errors)?(t.find(".message.success").show(),i.hasBeenSubmitted=!0,t.find("#contact-form textarea").val("")):(t.find(".message.error").show(),t.find("#contact-form").css("visibility","visible"),t.find(".form-footer .button").css("visibility","visible"),$.each(e.errors,function(e,i){return t.find("#contact_form_"+e).addClass("field_with_errors").closest("div.form-item").find("span.error-message").show().text(i[0])}))}}),e.preventDefault()},e}(),Featurette.register("help-form",e)}.call(this),function(){var e;e=function(){function e(e){var t;t=$(e),t.find(".play-button a").on("click",function(e){var i;return t.find(".video-feature").fadeOut(1e3),i=Featurette.get(t.find("video").attr("id")),i.endCallback=function(){return t.find(".video-feature").fadeIn(1e3)},i.player.play(),e.preventDefault()})}return e}(),Featurette.register("how-treehouse-works-video",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.removePathItem=t(this.removePathItem,this),this.addNewPathItem=t(this.addNewPathItem,this),this.onCourseSelection=t(this.onCourseSelection,this);var i;this.el=$(e),this.el.on("change",".select-course",this.onCourseSelection),this.el.on("click",".add-new",this.addNewPathItem),this.el.on("click",".remove-path-item",this.removePathItem),this.el.on("open",".dd-select",function(e){return $(e.target).parents(".item").css("z-index",200)}),this.el.on("close",".dd-select",function(e){return $(e.target).parents(".item").css("z-index","")}),i=this.el.find(".select-course select, .select-item select"),$.uniform.restore(i),this.initializeDropdowns(this.el)}return e.prototype.initializeDropdowns=function(e){return e.find(".select-course select").each(function(){return new Slick(this)}),e.find(".select-item select").each(function(){return new Slick(this)})},e.prototype.onCourseSelection=function(e){var t,i;return t=$(e.target),i=t.parents(".item").find(".select-item"),$.get("/learning-adventures/syllabus-options/"+t.val(),function(e){return i.find("select").html(e).change(),i.show()})},e.prototype.addNewPathItem=function(e){var t,i,n;return e.preventDefault(),this.template||(this.template=this.el.find("#path-item-fields-template").html()),i=(new Date).getTime(),n=new RegExp("new_path_item","g"),t=$(this.template.replace(n,i)),this.initializeDropdowns(t),this.el.find(".item:last").after(t),this.el.find(".item:visible").length>1?this.el.find(".item:visible:first .remove-path-item").show():void 0},e.prototype.removePathItem=function(e){var t,i;return e.preventDefault(),i=$(e.currentTarget).parents(".item"),t=i.find("input[type=hidden]"),t.length>0?(t.val("1"),i.hide()):i.remove(),1===this.el.find(".item:visible").length?this.el.find(".item:visible:first .remove-path-item").hide():void 0},e}(),Featurette.register("learning-adventure-form",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.requiredFields=t(this.requiredFields,this),this.form=$(e),this.contactEmailOnClick(),this.contactPhoneOnClick(),this.iePlaceholders(),this.requiredFields()}return e.prototype.contactEmailOnClick=function(){return $("#contact-email").click(function(){return $("#phone-email").val(""),$("#phone-email").attr("placeholder","Email Address"),$("#mailing-list-subscribe").removeClass("hide")})},e.prototype.contactPhoneOnClick=function(){return $("#contact-phone").click(function(){return $("#phone-email").val(""),$("#phone-email").attr("placeholder","Phone Number"),$("#mailing-list-subscribe").addClass("hide")})},e.prototype.requiredFields=function(){return this.form.submit(function(e){return $(this).find(".required").each(function(t,i){return i=$(i),i.removeClass("error"),i.parents(".form-element").removeClass("error"),i.val()===i.attr("placeholder")||""===$.trim(i.val())?(e.preventDefault(),i.parents(".form-element").addClass("error"),i.addClass("error"),$(".alert-box").show()):void 0})})},e.prototype.iePlaceholders=function(){return $("[placeholder]").focus(function(){var e;return e=$(this),e.val()===e.attr("placeholder")?(e.val(""),e.removeClass("placeholder")):void 0}),$("[placeholder").blur(function(){var e;return e=$(this),""===e.val()||e.val()===e.attr("placeholder")?(e.addClass("placeholder"),e.val(e.attr("placeholder"))):void 0}),$("[placeholder").blur(),$("[placeholder]").parents("form").submit(function(){var e;return e=$(this),e.val()===e.attr("placeholder")?e.val(""):void 0})},e}(),Featurette.register("library-inquiry-form",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.onFormSubmit=t(this.onFormSubmit,this);var i;this.textarea=$(e),this.form=this.textarea.closest("form"),this.textarea.mentionsInput({onDataRequest:this.onDataRequest,triggerChar:"@",minChars:1,showAvatars:!0,elastic:!1,templates:{autocompleteList:_.template('<ul class="user-tagging"></ul>'),autocompleteListItem:_.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><a><strong><%= content %></strong><p>@<%= username %></p></a></li>'),autocompleteListItemAvatar:_.template('<div class="avatar <%= type %>" style="background-image: url(<%= avatar %>)"></div>')}}),(i=this.textarea.data("mentions"))&&this.textarea.mentionsInput("setMentions",this.textarea.data("mentions-body"),i),this.form.on("submit",this.onFormSubmit)}return e.prototype.onFormSubmit=function(){var e=this;return this.textarea.mentionsInput("val",function(t){var i;return i=$("<input type='hidden' name='"+e.textarea.attr("name")+"'/>"),i.val(t),e.textarea.after(i),e.textarea.attr("name","gui_body")})},e.prototype.onDataRequest=function(e,t,i){return $.getJSON("/users/mention_search.json","query="+t,function(e){return i.call(this,e)})},e}(),Featurette.register("mentions",e)}.call(this),function(){var e,t,i,n,r={}.hasOwnProperty,s=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},o=function(e,t){return function(){return e.apply(t,arguments)}};i=function(){function e(e){this.id=e.id,this.beforeClose=null,this.closeable=null==$(e).data("uncloseable"),this.lightbox=new LightBox("#"+this.id,this.closeable)}return e.prototype.showOverlay=function(){return this.lightbox.showOverlay()},e.prototype.closeOverlay=function(){return this.beforeClose&&this.beforeClose(),this.lightbox.closeOverlay()},e}(),Featurette.register("modal",i),t=function(e){function t(){return n=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.showOverlay=function(){return Featurette.get("help-form").resetContactForm(),t.__super__.showOverlay.call(this)},t}(i),Featurette.register("help-modal",t),e=function(e){function t(e){this.onInput=o(this.onInput,this),this.setRating=o(this.setRating,this),this.removeStar=o(this.removeStar,this),this.setStar=o(this.setStar,this),this.closeFeedbackForm=o(this.closeFeedbackForm,this),this.afterFormSubmit=o(this.afterFormSubmit,this),this.onSubmit=o(this.onSubmit,this),this.el=$(e),this.el.on("mouseenter",".content-feedback-star",this.setStar),this.el.on("mouseleave",".content-feedback-star",this.removeStar),this.el.on("click",".content-feedback-star",this.setRating),this.el.on("input",".expanding-input",this.onInput),this.el.find(".expanding-input").trigger("input"),this.el.on("submit","form",this.onSubmit),this.el.on("click","#close-content-feedback",this.closeFeedbackForm),t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.onSubmit=function(e){var t;return e.preventDefault(),t=$(e.currentTarget),$.post(t.attr("action"),t.serialize(),this.afterFormSubmit)},t.prototype.afterFormSubmit=function(){return this.closeFeedbackForm(),$(".feedback-callout").hide()},t.prototype.closeFeedbackForm=function(){return LightBox.lastOpen?LightBox.lastOpen.showOverlay():this.closeOverlay()},t.prototype.setStar=function(e){return this.el.find(".content-feedback-star").removeClass("starred"),$(e.currentTarget).parent().prevAll().addBack().children("label").addClass("starred")},t.prototype.removeStar=function(e){return this.el.find(".content-feedback-star").removeClass("starred"),$(e.currentTarget).parent().prevAll().addBack().children("label").removeClass("starred")},t.prototype.setRating=function(e){return this.el.find(".content-feedback-star").removeClass("selected"),$(e.currentTarget).parent().prevAll().addBack().children("label").addClass("selected"),this.el.find(".expanding-input").focus(),this.el.find(".button").show()},t.prototype.onInput=function(e){var t,i;return i=$.trim($(e.currentTarget).val()),t=i?"fadeOut":"fadeIn",this.el.find(".label-optional")[t]()},t}(i),Featurette.register("content-modal",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.always=t(this.always,this),this.fail=t(this.fail,this),this.done=t(this.done,this),this.submit=t(this.submit,this),this.element=$(e),this.form=this.element.find("form"),$(document).on("submit","#"+this.form.attr("id"),this.submit)}return e.prototype.submit=function(e){var t;return e.preventDefault(),t=$.ajax({cache:!1,type:"post",url:this.form.attr("action"),data:$("#"+this.form.attr("id")).serialize()}),t.done(this.done),t.fail(this.fail),t.always(this.always)},e.prototype.done=function(e){return e.redirect?location.href=e.redirect:this.element.html(response.responseText),this.form.trigger("modal-form:done")},e.prototype.fail=function(e){return this.form=this.element.find("form"),this.element.html(e.responseText),this.form.trigger("modal-form:fail")},e.prototype.always=function(){return this.element.find("select").uniform(),this.element.find(".form-item label:not(.prefill)").inFieldLabels()},e}(),Featurette.register("modal-form",e)}.call(this),function(){var e,t,i={}.hasOwnProperty,n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=function(){function e(e){var t,i=this;this.id=e.id,t=$(e),this.target=t.attr("data-target"),this.mobile_fallback=t.attr("data-mobile-fallback"),t.click(function(e){var t;return i.mobile_fallback&&$(window).width()<=480?!0:(t=Featurette.get(i.target),t.showOverlay(),e.preventDefault())})}return e}(),Featurette.register("modal-trigger",e),t=function(e){function t(e){var t,i=this;this.id=e.id,t=$(e),this.target=t.attr("data-target"),this.mobile_fallback=t.attr("data-mobile-fallback"),this.src=t.attr("data-src"),t.click(function(e){var t,n;return i.mobile_fallback&&$(window).width()<=480?!0:(t=function(e){return $("#"+n.id+" #modal_url_replace_me").html(e)},$.get(i.src,{},t),n=Featurette.get(i.target),n.showOverlay(),e.preventDefault())})}return n(t,e),t}(e),Featurette.register("modal-URL-trigger",t)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.updateNotificationsCount=t(this.updateNotificationsCount,this),this.markNotificationsRead=t(this.markNotificationsRead,this),this.sendWebkitNotification=t(this.sendWebkitNotification,this),this.addNewNotification=t(this.addNewNotification,this),this.hideDropdown=t(this.hideDropdown,this),this.showDropdown=t(this.showDropdown,this),this.toggleDropdown=t(this.toggleDropdown,this);var i,n,r=this;this.el=$(e),i=this.el.data("channel"),this.notificationsDropdown=this.el.find(".notifications-container"),this.notificationsLink=this.el.find("a:first-child"),this.counter=this.el.find(".notifications-count"),this.timeout=null,n={channel:i,subscribe_key:this.subKey,publish_key:this.pubKey,presence:!1,ssl:!0},pubnub.subscribe({channel:i,message:function(e){return"notification"===e.name?r.addNewNotification(e.data):void 0}}),this.el.click(function(){return r.toggleDropdown()}),this.notificationsDropdown.on("click",function(e){return e.stopPropagation()}),Tinycon.setOptions({colour:"#ffffff",background:"#ea6c6c"}),Tinycon.setBubble(parseInt(this.counter.text()))}return e.prototype.subKey="sub-e2de2b5c-13c2-11e2-b508-f53fda4cd93d",e.prototype.pubKey="pub-b8a18d09-58e0-4ec4-acd5-67ce32d576cd",e.prototype.toggleDropdown=function(){return"none"===this.notificationsDropdown.css("display")?this.showDropdown():this.hideDropdown()},e.prototype.showDropdown=function(){var e=this;return $(".click-toggled").hide(),this.notificationsDropdown.addClass("click-toggled").show(),this.notificationsLink.addClass("selected"),$("body").on("click",function(t){return e.bodyClick=t,$(t.target).closest("li.featurette").length?void 0:e.hideDropdown()}),$(document).keyup(function(t){return e.documentKeyup=t,27===t.keyCode?e.hideDropdown(!1):void 0}),this.el.off("mouseleave, mouseenter"),this.el.on("mouseleave",function(){return e.hideDropdown(!0,1e3)}),this.el.on("mouseenter",function(){return e.notificationsDropdown.stop(!0,!1)})},e.prototype.hideDropdown=function(e,t){var i=this;return null==e&&(e=!0),null==t&&(t=0),this.notificationsDropdown.delay(t).hide(0,function(){return i.notificationsLink.removeClass("selected"),i.bodyClick&&$("body").off(i.bodyClick),i.documentKeyup&&$(document).off(i.documentKeyup),i.notificationsDropdown.removeClass("click-toggled"),e?i.markNotificationsRead():void 0})},e.prototype.addNewNotification=function(e){var t,i;return t=$(e),0===$(t.attr("id")).length&&($(".global-notifications-list").prepend(t),i=parseInt(this.counter.text()),i++,this.updateNotificationsCount(i),window.webkitNotifications)?this.sendWebkitNotification(t):void 0},e.prototype.sendWebkitNotification=function(e){var t,i,n,r,s;return 0===window.webkitNotifications.checkPermission()?(r=e.children("h3").first().text(),i=e.find("p.notification-message").first().text(),t=e.find("img").first().attr("src"),t.match("^http")||(t="http:"+t),s=e.children("a").first().attr("href"),n=window.webkitNotifications.createNotification(t,r,i),n.onclick=function(){return window.open(s),n.close()},n.show()):void 0},e.prototype.markNotificationsRead=function(){var e,t,i=this;return e=this.el.find("input").serializeArray(),e.length?(t=window.location.protocol+"//"+window.location.host+"/notifications/mark-read",$.post(t,e,function(){return i.el.find(".notification-unread").removeClass("notification-unread"),i.el.find('input[name="unread"]').remove(),i.updateNotificationsCount(0),!0})):void 0},e.prototype.updateNotificationsCount=function(e){return 0===e?this.counter.addClass("hidden"):this.counter.removeClass("hidden"),this.counter.text(e),Tinycon.setBubble(e)},e}(),Featurette.register("notifications",e)}.call(this),function(){var e;e=function(){function e(e){var t=this;this.element=$(e),this.element.find("#email").remove(),this.donateButton=$("#scrollButton_donate"),this.signupButton=$("#scrollButton_signup"),this.signUpTarget=this.element.find("#scrollTarget_signup"),this.signupOffset=this.signUpTarget.offset().top,this.donationForm=this.element.find("form#scrollTarget_donate"),this.donateOffset=this.donationForm.offset().top,this.signupButton.click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:t.signupOffset},600)}),this.donateButton.click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:t.donateOffset},600)}),this.donationForm.submit(function(e){return e.preventDefault(),$("#donate-submit").attr("value","Submitting...").addClass("submitting"),$.post(t.donationForm.attr("action"),t.donationForm.serialize()).done(function(){return t.submittedSuccess()}).fail(function(){return t.submittedError()})}),setTimeout(function(){return $(".animation-container").addClass("start-animation")},600)}return e.prototype.submittedSuccess=function(){return $("#donate-submit").attr("value","Get in touch").removeClass("submitting"),this.donationForm[0].reset(),$("#default-form-content").hide(),$("#success-form-content").show()},e.prototype.submittedError=function(){return $("#donate-submit").attr("value","Get in touch").removeClass("submitting"),$("#error-alert").show()},e}(),Featurette.register("bogo-page",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.listeners=t(this.listeners,this),this.element=$(e),this.container=$("#forums-pjax"),_.delay(this.listeners,500)}return e.prototype.listeners=function(){return new Filters({basePath:"forum",container:"#forums-pjax",binds:{sort:Featurette.get("sort"),topic:Featurette.get("topic"),q:$("#q"),content:$("#step_id")}}),$(document).on("filters:serialized",function(){var e,t,i,n,r;return $("#forum_post_topic_id option").each(function(){return this.text.toLowerCase()===Featurette.get("topic").val().replace("-"," ")?this.selected=!0:void 0}),$.uniform.update(),n=$("#step-tagged-content"),""===$("#step_id").val()?n.hide():(e=n.find(".content-icon"),r=n.find(".content-title"),t=$(".step-tag span").attr("class"),i=$(".step-tag").text(),r.text(i),e.removeClass("icon-video-small icon-code-challenge-small icon-quiz-small"),e.addClass(t),n.show())})},e}(),Featurette.register("forum-index",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.showImagePreview=t(this.showImagePreview,this),this.el=$(e),$("#contact-method-selector").on("change",this.contactMethodToggle),$(".radio-replacement-wrapper").on("click",this.replaceRadios),$("#job_company_logo").on("change",this.showImagePreview),this.contactMethodInit(),this.setupRadios()}return e.prototype.contactMethodInit=function(){var e,t;return e=$(".contact_email"),t=$(".contact_url"),""!==e.children("input").val()?t.hide():($("#contact-method-selector").val("email"),e.hide())},e.prototype.contactMethodToggle=function(){var e;return e=$("#contact-method-selector").val(),$("#contact-method-selector-wrapper input").val("").parents(".form-item").hide(),$(".contact_"+e).show()},e.prototype.replaceRadios=function(e){var t;return t=$(e.delegateTarget),t.siblings(".radio-replacement-wrapper").removeClass("selected"),t.addClass("selected"),t.find("input[type='radio']").attr("checked","checked")},e.prototype.setupRadios=function(){var e;return e=$(".radio-replacement-wrapper input[type='radio']:checked"),0===e.length?$(".radio-collection").each(function(e,t){return $(t).find(":radio").first().attr("checked","checked").parents(".radio-replacement-wrapper").addClass("selected")}):e.parent().addClass("selected")},e.prototype.highlightRadioContainer=function(e){return $(e).parents(".radio-replacement-wrapper").addClass("selected")},e.prototype.showImagePreview=function(e){return window.File&&window.FileReader&&window.FileList&&window.Blob?_.each(e.target.files,function(e){var t;return t=new FileReader,t.onload=function(e){var t;return t=$(".company-logo").empty(),$("<img src='"+e.target.result+"' />").appendTo(t).hide().show(250),$(".company-logo").css({"background-image":"background-image",none:"none"})},t.readAsDataURL(e)}):void 0},e}(),Featurette.register("job-form",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.locationSource=t(this.locationSource,this),this.updateLocations=t(this.updateLocations,this),this.noResults=t(this.noResults,this),this.listeners=t(this.listeners,this),this.element=$(e),this.container=$("#job-pjax"),this.search=this.element.find("#search"),this.locationSearch=this.element.find("#job-location-search"),this.locationList=this.element.find("#location"),this.locationSearch.data("existing",this.element.find("#location").html()),this.locationSearch.on("keyup",this.updateLocations),this.container.on("pjax:end",this.noResults),_.delay(this.listeners,500)}return e.prototype.listeners=function(){return new Filters({basePath:"jobs",container:"#job-pjax",binds:{category:Featurette.get("category"),type:Featurette.get("type"),location:Featurette.get("location"),q:$("#q")}})},e.prototype.noResults=function(){return $("#no-results").hide(),0===this.container.find("li").length?$("#no-results").show():void 0},e.prototype.updateLocations=function(e){return e.preventDefault(),this.locationSearch.autocomplete({delay:500,minLength:5,source:this.locationSource})},e.prototype.locationSource=function(e,t){var i=this;return $.ajax({url:this.locationSearch.data("autocomplete-url"),data:{location:this.locationSearch.val()},dataType:"json",beforeSend:function(){return i.locationList.empty()},success:function(n){var r;return i.locationList.prepend(i.locationSearch.data("existing")),r=_.each(n,function(t){return i.locationList.append("<li><a data-filter-value='"+t+"'>"+t+"</a></li>"),i.locationSearch.val(e.term)}),t(r),i.locationList.trigger("filter-list:updated"),$(window).trigger("resize")}})},e}(),Featurette.register("job-index",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.dynamicTitle=t(this.dynamicTitle,this),this.noResults=t(this.noResults,this),this.listeners=t(this.listeners,this),this.element=$(e),this.container=$("#library-pjax"),_.delay(this.listeners,100),_.delay(this.dynamicTitle,200)}return e.prototype.listeners=function(){return this.container.on("pjax:end",this.noResults),this.filters=new Filters({basePath:"library",container:"#library-pjax",binds:{topic:Featurette.get("topic"),type:Featurette.get("type"),q:$("#q"),sort:Featurette.get("sort")}})},e.prototype.noResults=function(){return $("#no-results").hide(),0===this.container.find("li").length?$("#no-results").show():void 0},e.prototype.dynamicTitle=function(){return $("#library-pjax").on("pjax:end",function(){return $(".topic-heading").length>0?$(".primary-heading h1").html("<a class='all-topics' href='/library'><span class='icon icon-left'></span> Library</a>"):$(".primary-heading h1").html("Library")}),$(document).on("click","a.all-topics",function(e){return e.preventDefault(),Featurette.get("topic").val("")})},e}(),Featurette.register("library-index",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.scrollOffsetForEl=t(this.scrollOffsetForEl,this),this.onScroll=t(this.onScroll,this),this.el=$(e),$(window).on("scroll",this.onScroll)}return e.prototype.defaultScrollOffset=$(window).height()>620&&$(window).width()>640?100:0,e.prototype.onScroll=function(){var e,t,i,n,r,s;i=$(window).scrollTop(),n=$(window).height(),r=this.animations,s=[];for(t in r)e=r[t],s.push(e.call(this,i,n));return s},e.prototype.scrollOffsetForEl=function(e,t,i){return null==i&&(i=this.defaultScrollOffset),e.offset().top-t+i},e.prototype.animations={tracksGraph:function(e,t){var i,n,r,s,o,a;return n=$('[data-trigger-animation="tracks_html"]'),i=$(".graph-dot-html"),s=$('[data-trigger-animation="tracks_js"]'),r=$(".graph-dot-js"),o=this.scrollOffsetForEl(n,t-this.defaultScrollOffset),a=this.scrollOffsetForEl(s,t-this.defaultScrollOffset),e>o&&(n.addClass("activated"),i.addClass("activated")),e>a?(s.addClass("activated"),r.addClass("activated")):void 0},tracksGoal:function(e,t){var i,n,r,s;return i=$('[data-trigger-animation="tracks_goal"]'),n=i.children("li"),s=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),e>s?(i.addClass("activated"),r=200,n.each(function(e){var t;
return t=$(this),setTimeout(function(){return t.addClass("activated")},r*(e+1))})):void 0},tracksSteps:function(e,t){var i,n;return i=$('[data-trigger-animation="tracks_steps"]'),n=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),e>n?i.addClass("activated"):void 0},topicTag:function(e,t){var i,n;return i=$('[data-trigger-animation="topic_tags"]'),n=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),e>n?i.addClass("activated"):void 0},teacher:function(e,t){var i,n;return i=$('[data-trigger-animation="teachers"]'),n=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),e>n?i.addClass("activated"):void 0},badges:function(e,t){var i,n;return i=$('[data-trigger-animation="badges"]'),n=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),e>n?i.addClass("activated"):void 0},donut:function(e,t){var i,n;return i=$('[data-trigger-animation="donut"]'),n=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),e>n?(i.addClass("activated"),setTimeout(function(){return $(".mask-rotator").hide(),i.append('<span class="donut-right above"></span>')},400),setTimeout(function(){return $(".mask-cover").hide()},750)):void 0},quiz:function(e,t){var i,n;return i=$('[data-trigger-animation="quiz"]'),n=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),e>n?i.addClass("activated"):void 0},points:function(e,t){var i,n;return i=$('[data-trigger-animation="points"]'),n=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),e>n?i.addClass("activated"):void 0},scrollyImage:function(e,t){var i,n,r;return i=$('[data-trigger-animation="access_anywhere"]'),r=e*-.2+820,n=this.scrollOffsetForEl(i,t),$(window).width()>460&&e>n?i.animate({top:r+"px"},0):void 0},forum:function(e,t){var i,n;return i=$('[data-trigger-animation="forum"]'),n=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),e>n?i.addClass("activated"):void 0},toolbelt:function(e,t){var i,n;return i=$('[data-trigger-animation="toolbelt"]'),n=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),e>n?i.addClass("activated"):void 0},jobCard:function(e,t){var i,n;return i=$('[data-trigger-animation="job_card"]'),n=this.scrollOffsetForEl(i,t-this.defaultScrollOffset),e>n?i.addClass("activated"):void 0}},e}(),Featurette.register("marketing-features",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.scrollOffsetForEl=t(this.scrollOffsetForEl,this),this.onScroll=t(this.onScroll,this);var i;this.el=$(e),i=$(window).height(),$(window).on("scroll",this.onScroll),i>800&&$(document).trigger("scroll")}return e.prototype.defaultScrollOffset=100,e.prototype.onScroll=function(){var e,t,i,n,r,s;i=$(window).scrollTop(),n=$(window).height(),r=this.animations,s=[];for(t in r)e=r[t],s.push(e.call(this,i,n));return s},e.prototype.scrollOffsetForEl=function(e,t,i){return null==i&&(i=this.defaultScrollOffset),e.offset().top-t+i},e.prototype.animations={webApp:function(e,t){var i,n,r,s,o;return s=$("#webNavBar"),i=$("#webApp1"),n=$("#webApp2"),r=$("#webApp3"),o=this.scrollOffsetForEl($('[data-trigger-animation="learn"]'),t),e>o?(i.addClass("activated"),s.find("ul li:nth-child(3)").addClass("activated"),setTimeout(function(){return n.addClass("activated"),s.find("ul li").removeClass("activated"),s.find("ul li:nth-child(2)").addClass("activated")},1500),setTimeout(function(){return r.addClass("activated"),s.find("ul li").removeClass("activated"),s.find("ul li:nth-child(1)").addClass("activated")},3e3)):void 0},iPadApp:function(e,t){var i,n,r,s,o;return s=$("#ipadNavBar"),i=$("#ipadApp1"),n=$("#ipadApp2"),r=$("#ipadApp3"),o=this.scrollOffsetForEl($('[data-trigger-animation="learn"]'),t),e>o?(i.addClass("activated"),s.find("ul li:nth-child(3)").addClass("activated"),setTimeout(function(){return n.addClass("activated")},1650),setTimeout(function(){return r.addClass("activated"),s.find("ul li").removeClass("activated"),s.find("ul li:nth-child(2)").addClass("activated")},3150)):void 0},codeBlock:function(e,t){var i,n;return i=$(".fake-code-block"),n=this.scrollOffsetForEl($('[data-trigger-animation="practice"]'),t),e>n?(i.children("li:first-child").children(".pink-code-block").addClass("activated"),setTimeout(function(){return i.find("li:nth-child(2)").children(".purp-code-block").addClass("activated")},200),setTimeout(function(){return i.find("li:nth-child(2)").children(".white-code-block").addClass("activated")},400),setTimeout(function(){return i.find("li:nth-child(3)").children(".white-code-block").addClass("activated")},700),setTimeout(function(){return i.find("li:nth-child(3)").children(".pink-code-block").addClass("activated")},850),setTimeout(function(){return i.find("li:nth-child(4)").children(".pink-code-block").addClass("activated")},1100),setTimeout(function(){return i.find("li:nth-child(5)").children(".purp-code-block").addClass("activated")},1250),setTimeout(function(){return i.find("li:nth-child(5)").children(".white-code-block").addClass("activated")},1400)):void 0},badgeBlips:function(e,t){var i,n,r,s,o;return s=$(".red-blip"),i=$(".blue-blip"),n=$(".blue-plus"),r=$(".green-plus"),o=this.scrollOffsetForEl($('[data-trigger-animation="earn"]'),t),e>o?(s.addClass("activated"),setTimeout(function(){return n.addClass("activated")},200),setTimeout(function(){return i.addClass("activated")},400),setTimeout(function(){return r.addClass("activated")},500)):void 0}},e}(),Featurette.register("marketing-home",e)}.call(this),function(){var e;e=function(){function e(e){var t=this;this.element=$(e),this.details=$("#"+this.element.data("details")),this.element.find("a.button").on("click",function(e){return e.preventDefault(),t.show()}),this.element.find(".selection a").on("click",function(e){return e.preventDefault(),t.hide()}),this.details.find(".offer-close").on("click",function(e){return e.preventDefault(),t.hide()}),this.details.find("form").on("submit",function(e){return $.post(t.details.find("form").attr("action"),{_method:"PUT"},function(){return t.details.find(".offer-form").hide(),t.details.find(".thank-you").show()}),e.preventDefault()})}return e.prototype.show=function(){var t=this;return $(".expanded:visible").each(function(t,i){return e.hideExpandedDetails($(i))}),$(".selection:visible").fadeOut(200),this.details.length>0?($(window).width()<=767&&(this.details.after('<div class="placeholder-'+this.details.attr("id")+'"></div>'),this.element.parent().after(this.details)),this.details.slideDown(200,function(){return $("html, body").delay(200).animate({scrollTop:t.details.offset().top-100},200)}),this.element.find(".selection").fadeIn(200)):Featurette.get("perk-not-available").showOverlay()},e.prototype.hide=function(){return this.details.length>0?(this.element.find(".selection").fadeOut(200),e.hideExpandedDetails(this.details)):void 0},e.hideExpandedDetails=function(e){return e.slideUp(200,function(){return $(window).width()<=767?($(".placeholder-"+e.attr("id")).after(e),$(".placeholder-"+e.attr("id")).remove()):void 0})},e}.call(this),Featurette.register("perk",e)}.call(this),function(){var e;e=function(){function e(e){this.hasCanvasSupport()&&this.createChart(e)}return e.prototype.createChart=function(e){var t,i,n,r,s,o,a,l,u;n=e.getContext("2d"),i={html:"#39ADD1",css:"#2570a8",javascript:"#913B53",ruby:"#E15258",ios:"#53BBB4",business:"#F9845B",android:"#51B46D",php:"#665885",wordpress:"#9D8AC7",design:"#E0AB18","dev tools":"#62707D"},a=$(e).data("points"),r=[],l=0;for(o in a)u=a[o],l+=u,r.push({value:u,color:i[o]});return 0===l&&r.push({value:1,color:"#D4D9DD"}),s={segmentShowStroke:!1,segmentStrokeColor:"#fff",segmentStrokeWidth:0,percentageInnerCutout:55,width:240,height:240,animation:!1},t=new Chart(n).Doughnut(r,s)},e.prototype.hasCanvasSupport=function(){var e;return e=document.createElement("canvas"),!(!e.getContext||!e.getContext("2d"))},e}(),Featurette.register("points-chart",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.collapsePoints=t(this.collapsePoints,this),this.expandPoints=t(this.expandPoints,this);var i=this;this.el=$(e),this.total_div=this.el.find("#total-points"),this.small_donut=this.total_div.find(".points-donut"),this.expanded_div=this.el.find("#expanded-points"),this.toggle=this.el.find("a.toggle"),this.toggle_arrow=this.toggle.find("span"),this.started_collapsed=this.total_div.hasClass("collapsed"),this.current_state=this.started_collapsed?"collapsed":"expanded",this.animationTime=350,this.animating=!1,this.toggle.click(function(e){return e.preventDefault(),i.animating?void 0:(i.animating=!0,"collapsed"===i.current_state?(i.current_state="expanded",i.expandPoints()):(i.current_state="collapsed",i.collapsePoints()))})}return e.prototype.expandPoints=function(){var e=this;return this.started_collapsed?this.toggle_arrow.css("animation","arrowRotateUp .35s"):this.toggle_arrow.css("animation","arrowRotateDown .35s"),this.expanded_div.slideDown(this.animationTime),this.total_div.animate({"margin-bottom":"+=30px","padding-bottom":"+=25px"},this.animationTime,function(){return e.animating=!1,e.total_div.removeClass("collapsed",100),e.started_collapsed?e.toggle_arrow.css("transform","rotate(180deg)"):e.toggle_arrow.css("transform","rotate(0deg)")}),this.small_donut.fadeOut(100),this.total_div.find("h1").animate({"padding-left":"-=80",queue:!1},this.animationTime),this.total_div.find("p").animate({"padding-left":"-=80",queue:!1},this.animationTime)},e.prototype.collapsePoints=function(){var e=this;return this.started_collapsed?this.toggle_arrow.css("animation","arrowRotateDown .35s"):this.toggle_arrow.css("animation","arrowRotateUp .35s"),this.expanded_div.slideUp(this.animationTime),this.total_div.addClass("collapsed",100),this.total_div.find("h1").css({"padding-left":"0px"}),this.total_div.find("p").css({"padding-left":"0px"}),this.total_div.animate({"margin-bottom":"-=30px","padding-bottom":"-=25px"},this.animationTime,function(){return e.started_collapsed?e.toggle_arrow.css("transform","rotate(0deg)"):e.toggle_arrow.css("transform","rotate(180deg)"),e.total_div.find("h1").animate({"padding-left":"+=80"},e.animationTime-100),e.total_div.find("p").animate({"padding-left":"+=80"},e.animationTime-100),e.small_donut.fadeIn(e.animationTime-100,function(){return e.animating=!1})})},e}(),Featurette.register("points-expander",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.el=e,this.focusFillInTheBlank=t(this.focusFillInTheBlank,this),this.generateTrueFalseShortcuts=t(this.generateTrueFalseShortcuts,this),this.generateMultipleChoiceShortcuts=t(this.generateMultipleChoiceShortcuts,this),this.setUpShortcuts=t(this.setUpShortcuts,this),this.unbindAllLetterShortcuts=t(this.unbindAllLetterShortcuts,this),this.bindLetterShortcut=t(this.bindLetterShortcut,this),this.generateAnswers=t(this.generateAnswers,this),this.generateQuestion=t(this.generateQuestion,this),this.generateScore=t(this.generateScore,this),this.generateFeedback=t(this.generateFeedback,this),this.nextQuestion=t(this.nextQuestion,this),this.initializeQuiz=t(this.initializeQuiz,this),this.processResponse=t(this.processResponse,this),this.submitAnswer=t(this.submitAnswer,this),this.el=$(this.el),this.quizData=this.el.data("quiz"),this.initializeQuiz(this.quizData),this.questionAnswered=!1,this.el.on("click",".quiz-answers a",this.submitAnswer),this.el.on("click",".feedback a",this.nextQuestion),$(document).bind("keyup","return",function(){return $("#feedback .button").click()}),this.el.on("submit","#fill-in-blank",function(e){return e.preventDefault(),$(e.currentTarget).parents(".quiz-answers").find("a").click()}),this.el.data("unavailable")===!0&&setTimeout(function(){return Featurette.get("quiz-unavailable").showOverlay()},100)}return e.prototype.submitAnswer=function(e){var t,i,n=this;return e.preventDefault(),this.questionAnswered?void 0:(this.questionAnswered=!0,i=e.currentTarget,$(i).addClass("selected"),$(".quiz-answers").addClass("inactive"),$(".quiz-answers input").blur(),this.unbindAllLetterShortcuts(),t={fitb_answers:$("#fill-in-blank").serializeArray()},this.quizData.quiz_attempt&&(t.quiz_attempt=this.quizData.quiz_attempt),$.ajax({type:"POST",url:i.href,data:t,dataType:"json",success:function(e){return n.processResponse(e)},error:function(e){return debug("Error",e)}}))},e.prototype.processResponse=function(e){return this.quizData=e,"passed"===this.quizData.quiz_status?this.quizData.badge_earned===!0?e.video?(Featurette.get("badge-video-modal").showOverlay(),$("#reward-video-container").html(e.video),$("#reward-video").show(),setTimeout(function(){return $(".achievement-rewards-callout").fadeOut()},5e3),this.player=new MediaElementPlayer($("#player"))):(Featurette.get("badge-modal").showOverlay(),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300)):$("#quiz-completed-modal").size()>0?(Featurette.get("quiz-completed-modal").showOverlay(),$(".modal .points-earned").addClass("active"),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300)):(Featurette.get("badge-modal").showOverlay(),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300)):"failed"===this.quizData.quiz_status&&Featurette.get("failed-quiz-modal").showOverlay(),this.generateFeedback(this.quizData),this.generateScore(this.quizData)},e.prototype.initializeQuiz=function(e){return this.generateScore(e),this.generateQuestion(e),this.generateAnswers(e),this.setUpShortcuts(e)},e.prototype.nextQuestion=function(e){var t;return e.preventDefault(),this.questionAnswered=!1,t=e.currentTarget,$("#feedback").empty(),this.generateQuestion(this.quizData),this.generateAnswers(this.quizData),this.setUpShortcuts(this.quizData)},e.prototype.generateFeedback=function(e){var t;return t=HoganTemplates["quizzes/feedback"].render(e),this.el.find("#feedback").html(t)},e.prototype.generateScore=function(e){var t;return e.label=e.score.answers_to_pass>1?"answers":"answer",t=HoganTemplates["quizzes/score"].render(e),this.el.find("#score").html(t)},e.prototype.generateQuestion=function(e){var t;return t=HoganTemplates["quizzes/question"].render(e),this.el.find("#question").html(t)},e.prototype.generateAnswers=function(e){var t;return t="","MultipleChoice"===e.question.question_type?t=HoganTemplates["quizzes/multiple_choice"].render(e):"TrueFalse"===e.question.question_type?t=HoganTemplates["quizzes/true_false"].render(e):"FillInTheBlank"===e.question.question_type&&(t=HoganTemplates["quizzes/fill_in_the_blank"].render(e)),this.el.find("#answers").html(t)},e.prototype.bindLetterShortcut=function(e,t){var i;return i=e.toLowerCase(),$(document).bind("keyup",i,t),this.letterShortcuts||(this.letterShortcuts=[]),this.letterShortcuts[i]=t},e.prototype.unbindAllLetterShortcuts=function(){var e,t,i,n;for(n=null!=this.letterShortcuts,t=0,i=n.length;i>t;t++)e=n[t],$(document).unbind("keyup",e);return this.letterShortcuts=[]},e.prototype.setUpShortcuts=function(e){return"MultipleChoice"===e.question.question_type?this.generateMultipleChoiceShortcuts(e):"TrueFalse"===e.question.question_type?this.generateTrueFalseShortcuts(e):"FillInTheBlank"===e.question.question_type?this.focusFillInTheBlank(e):void 0},e.prototype.generateMultipleChoiceShortcuts=function(e){var t,i,n,r,s,o=this;for(r=e.answers,s=[],i=0,n=r.length;n>i;i++)t=r[i],s.push(function(e){return o.bindLetterShortcut(e.abcd,function(){return $("#answer_"+e.abcd).click()})}(t));return s},e.prototype.generateTrueFalseShortcuts=function(e){var t,i,n,r,s,o=this;for(r=e.answers,s=[],i=0,n=r.length;n>i;i++)t=r[i],s.push(function(e){return"True"===e.answer?o.bindLetterShortcut("t",function(){return $("#answer_True").click()}):"False"===e.answer?o.bindLetterShortcut("f",function(){return $("#answer_False").click()}):void 0}(t));return s},e.prototype.focusFillInTheBlank=function(){return this.el.find("input[name=answer1]").focus()},e}(),Featurette.register("quiz",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){this.scrollButton=t(this.scrollButton,this),this.scrollButton()}return e.prototype.scrollButton=function(){var e,t,i;return t=$('[data-featurette="scroll-button"]'),e=$("[data-scroll-stop]"),i=e.offset().top,t.on("click",function(e){return e.preventDefault(),$("html, body").animate({scrollTop:i},600)})},Featurette.register("scroll-button",e),e}()}.call(this),function(){var e;e=function(){function e(e){var t=this;this.element=$(e),this.base_url=this.element.data("remote-path"),this.has_query_string=this.base_url.indexOf("?")>0,this.page=1,this.element.click(function(){var e;return t.page+=1,e=t.has_query_string?t.base_url+("&page="+t.page):t.base_url+("?page="+t.page),$.ajax({url:e,type:"get",dataType:"script"})})}return e}(),Featurette.register("show-more",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.pingItGood=t(this.pingItGood,this),this.pingStyles=t(this.pingStyles,this),this.el=$(e),setInterval(this.pingItGood,5e3)}return e.prototype.pingStyles=function(){return{position:"absolute",top:this.el.position().top,left:this.el.position().left,width:this.el.width()+parseInt(this.el.css("border-top-width"))+parseInt(this.el.css("border-bottom-width")),height:this.el.height()+parseInt(this.el.css("border-left-width"))+parseInt(this.el.css("border-right-width")),marginTop:this.el.css("margin-top"),marginBottom:this.el.css("margin-bottom"),marginLeft:this.el.css("margin-left"),marginRight:this.el.css("margin-right"),borderTopLeftRadius:this.el.css("border-top-left-radius"),borderTopRightRadius:this.el.css("border-top-right-radius"),borderBottomLeftRadius:this.el.css("border-bottom-left-radius"),borderBottomRightRadius:this.el.css("border-bottom-right-radius"),zIndex:this.el.css("z-index")-1,animation:"sonarPing 1.3s ease-out 250ms"}},e.prototype.pingItGood=function(){return this.ping&&this.ping.remove(),this.ping=$("<span></span>").css(this.pingStyles()),this.el.after(this.ping)},e}(),Featurette.register("sonar-ping",e)}.call(this),function(){var e;e=function(){function e(e){var t,i,n,r=this;this.el=$(e),i=this.el.find(".trigger-unremove-content-block"),t=this.el.find(".trigger-destroy-content-block"),n=this.el.find(".trigger-remove-content-block"),n.on("click",function(e){return $(this).siblings(".remove-content-block").show().css({opacity:"1"}),e.preventDefault()}),i.on("click",function(e){var t;return e.preventDefault(),t=$(this),t.parent(".remove-content-block").css({opacity:"0"}),t.delay(200).queue(function(){return t.parent(".remove-content-block").hide(),t.dequeue()})}),t.on("click",function(e){var t;return r.removeCard(),e.preventDefault(),t=$(e.currentTarget),t.parent(".remove-content-block").css({opacity:"0"}),t.closest("li").addClass("destroyed"),t.delay(500).queue(function(){return t.closest("li").hide(),t.dequeue()})})}return e.prototype.removeCard=function(){return $.post(this.el.data("remove-card-url"),{_method:"DELETE",id:this.el.data("remove-card-id")})},e}(),Featurette.register("started-card-remover",e)}.call(this),function(){var e;e=function(){function e(e){var t,i,n,r=this;this.id=e.id,t=$(e),this.class_to_close=t.attr("data-class-to-close"),t.hasClass("tooltip-left")||t.hasClass("tooltip-right")?(i=(parseInt(t.height())+24)/2,t.css({top:"50%",marginTop:-i})):t.hasClass("tooltip-top")?(i=(parseInt(t.width())+30)/2,n=parseInt(t.height()+30),t.css({top:-n,left:"50%",marginLeft:-i})):t.hasClass("tooltip-bottom")&&(i=(parseInt(t.width())+24)/2,n=parseInt(t.height()+30),t.css({top:"auto",bottom:-n,left:"50%",marginLeft:-i})),t.find(".close-tooltip").click(function(){return r.close()}),"true"!==t.attr("data-hide")&&setTimeout(function(){return t.fadeIn()},200)}return e.prototype.close=function(){var e,t;return e=$("#"+this.id),e.fadeOut(),this.class_to_close&&$("."+this.class_to_close).fadeOut(),(t=e.attr("data-flag"))?$.post("/dashboard/flag",{_method:"PUT",flag:t}):void 0},e}(),Featurette.register("tooltip",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.setActiveTab=t(this.setActiveTab,this),this.loading=t(this.loading,this);var i;this.el=$(e),this.targetContainer=$("#courses-container"),this.el.pjax("a[data-pjax='true']",{container:"#courses-container",scrollTo:!1,timeout:0}),location.hash&&(i=location.hash.split("#")[1],this.el.find("a[data-pjax='true'][href$='"+i+"']").click()),this.targetContainer.on("pjax:start",this.loading),this.targetContainer.on("pjax:end",this.setActiveTab),this.setActiveTab()}return e.prototype.loading=function(){return this.targetContainer.addClass("inactive")},e.prototype.setActiveTab=function(){return this.targetContainer.removeClass("inactive"),this.el.find("a").removeClass("selected"),this.el.find("a[href$='"+window.location.pathname+"']").addClass("selected"),this.targetContainer.find(".achievement-list > li").length>3?$(".roadmap-callout").show():$(".roadmap-callout").hide(),"/library"!==location.pathname?$("#featured-stages").hide():$("#featured-stages").show()},e}(),Featurette.register("topic-tabs",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.collapseList=t(this.collapseList,this),this.expandList=t(this.expandList,this);var i=this;this.el=$(e),this.chevron=this.el.find(".icon-chevron-down"),this.text=this.el.find("#snapshot-state"),this.toggleElements=$(".full-view"),this.current_state="collapsed",this.animationTime=200,this.animating=!1,this.el.click(function(e){return e.preventDefault(),i.animating?void 0:(i.animating=!0,"collapsed"===i.current_state?(i.current_state="expanded",i.expandList()):(i.current_state="collapsed",i.collapseList()))})}return e.prototype.expandList=function(){var e=this;return this.chevron.css("animation","arrowRotateUp .20s"),this.text.html("Show snapshot"),this.toggleElements.slideToggle(this.animationTime,function(){return e.chevron.css("transform","rotate(180deg)"),e.animating=!1})},e.prototype.collapseList=function(){var e=this;return this.chevron.css("animation","arrowRotateDown .20s"),this.text.html("Show all steps"),this.toggleElements.slideToggle(this.animationTime,function(){return e.chevron.css("transform","rotate(0deg)"),e.animating=!1})},e}(),Featurette.register("track-snapshot-expander",e)}.call(this),function(){var e;e=function(){function e(e){var t=this;this.trailerShown=!1,this.toggleButton=$(e),this.toggleButton.click(function(){return t.toggle()}),"#trailer"===window.location.hash&&setTimeout(function(){return t.showTrailer()},60)}return e.prototype.toggle=function(){return this.trailerShown?this.hideTrailer():this.showTrailer()},e.prototype.hideTrailer=function(){return $("video")[0].player.pause(),$("i",this.toggleButton).toggle(),$(".icon",this.toggleButton).toggle(),$(".trailer-backdrop").fadeOut(800,function(){return $(".hero-meta").fadeIn(800)}),$("video")[0].player.setCurrentTime(0),this.trailerShown=!1},e.prototype.showTrailer=function(){var e;return $(".hero-meta").fadeOut(300),e=$(".mejs-container").height()-165,$(".hero").animate({minHeight:e},300,function(){return $(".trailer-backdrop").fadeIn(300,function(){return $(".hero").css({"min-height":"0"})})}),$("video")[0].player.play(),$("i",this.toggleButton).toggle(),$(".icon",this.toggleButton).toggle(),this.trailerShown=!0},e}(),Featurette.register("trailer-trigger",e)}.call(this),function(){var e;e=function(){function e(e){var t,i=this;this.id=e.id,t=$(e),this.target=t.attr("data-target"),this.poster=t.attr("data-poster"),this.src=t.attr("data-src"),this.captionSrc=t.attr("data-captions"),t.click(function(e){var t,n;return t=Featurette.get(i.target),$("#"+t.id).html(Video.render("player",i.poster,i.src,i.captionSrc,{autoplay:!0})),n=Video.initPlayer($("#player")),t.lightbox.beforeClose=function(){return n.pause()},t.showOverlay(),e.preventDefault()})}return e}(),Featurette.register("video-modal-trigger",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.addSpeedControls=t(this.addSpeedControls,this),this.setSpeed=t(this.setSpeed,this),this.transitionToPlaying=t(this.transitionToPlaying,this),this.transitionToPaused=t(this.transitionToPaused,this),this.onEnd=t(this.onEnd,this),this.recordViewEvent=t(this.recordViewEvent,this),this.addEvents=t(this.addEvents,this);var i;this.el=$(e),this.endCallback=null,this.el.attr("data-autoplay")&&(this.autoplay=!0),$(document).bind("contextmenu",function(e){return"VIDEO"===e.target.tagName.toUpperCase()?!1:void 0}),i={enableAutosize:!0,success:this.addEvents},this.el.attr("data-force-flash")&&(i.mode="shim"),this.el.attr("data-start-language")&&(i.startLanguage=this.el.attr("data-start-language")),this.didPlay=!1,this.player=Video.initPlayer(e,i),this.speed=this.player.media.defaultPlaybackRate=1,this.addSpeedControls(),$(".rewatch-video").on("click",function(){return $("#next-step-overlay").removeClass("active"),$(".feedback-callout").removeClass("fly-in"),mejs.players[0].setCurrentTime(0),mejs.players[0].play()}),this.enableChromeFreezeFix()}return e.speeds=[.5,.75,1,1.25,1.5,1.75,2],e.prototype.addEvents=function(e){var t;return this.mejsObj=e,e.addEventListener("pause",this.transitionToPaused),e.addEventListener("play",this.transitionToPlaying),e.addEventListener("timeupdate",this.recordViewEvent),e.addEventListener("ended",this.onEnd),this.autoplay?(t=function(){return e.play()},setTimeout(t,1e3)):void 0},e.prototype.recordViewEvent=function(){return this.mejsObj.currentTime>10?(this.mejsObj.removeEventListener("timeupdate",this.recordViewEvent),$.post(this.el.data("record-video-view-url"),"_method=PUT")):void 0},e.prototype.onEnd=function(){var e;return this.mejsObj.currentTime<10&&$.post(this.el.data("record-video-view-url"),"_method=PUT"),e=$("#"+this.el.data("post-roll-overlay")),e.addClass("active"),setTimeout(function(){return $(".feedback-callout").addClass("fly-in")},300),this.endCallback&&this.endCallback(),!0},e.prototype.transitionToPaused=function(){return this.player.container.addClass("mejs-treehouse-is-paused"),this.player.container.removeClass("mejs-treehouse-is-playing")},e.prototype.transitionToPlaying=function(){return this.player.container.addClass("mejs-treehouse-is-playing"),this.player.container.removeClass("mejs-treehouse-is-paused"),this.setSpeed(this.speed)},e.prototype.setSpeed=function(e){var t,i;return null==e&&(e=this.player.media.defaultPlaybackRate),this.speed=this.player.media.playbackRate=e,i=$("#"+this.player.id).find(".mejs-speed"),i.removeClass("current-speed"),i.filter("[data-speed='"+this.speed+"']").addClass("current-speed"),t=$(".mejs-speed-button"),t.removeClass("mejs-speed-15x mejs-speed-2x"),this.speed>=2?t.addClass("mejs-speed-2x"):this.speed>=1.5?t.addClass("mejs-speed-15x"):void 0},e.prototype.addSpeedControls=function(){var t,i,n,r,s,o,a,l,u=this;if(null!=this.player.media.playbackRate&&"flash"!==this.player.media.pluginType){for(s="<div class='mejs-button mejs-speed-button'>\n  <button type='button' aria-controls='"+this.player.id+"' title='Speed'></button>\n  <div class='mejs-speed-controls' style='display: none;'><ol></ol></div>\n</div>",i=$(s),n=i.find(".mejs-speed-controls"),i.on("mouseenter",function(){return n.show()}),i.on("mouseleave",function(){return n.hide()}),l=e.speeds,o=0,a=l.length;a>o;o++)r=l[o],t=$("<li class='mejs-speed' data-speed='"+r+"'>"+r+"x<span class='speed-tooltip'>"+r+"x</span></li>"),r===this.speed&&t.addClass("current-speed"),t.on("click",function(e){return u.setSpeed($(e.target).data("speed"))}),i.find(".mejs-speed-controls ol").prepend(t);return $("#"+this.player.id).find(".mejs-duration-container").after(i)}},e.prototype.enableChromeFreezeFix=function(){return this.el.on("error",function(){var e,t;return t=this,e=t.currentTime,$(t).one("loadeddata",function(){return t.currentTime=e}),setTimeout(function(){return t.load()},100)})},e}(),Featurette.register("video-player",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.updateCurrentStepClass=t(this.updateCurrentStepClass,this),this.prevStep=t(this.prevStep,this),this.nextStep=t(this.nextStep,this),this.handleKeyEvent=t(this.handleKeyEvent,this),this.indicatorClicked=t(this.indicatorClicked,this);var i,n,r,s,o,a=this;this.id=e.id,this.el=$(e),this.allowCycle=null!=(i=this.el.data("wizard-cycle"))?i:!1,this.transitionSpeed=null!=(n=this.el.data("wizard-transition-speed"))?n:300,this.enableArrowKeys=null!=(r=this.el.data("wizard-enable-arrow-keys"))?r:!1,this.updateLocationHash=null!=(s=this.el.data("wizard-update-location-hash"))?s:!1,this.steps=this.el.find(".step"),this.stepIndicators=this.el.find(".step-indicator"),this.totalSteps=this.steps.length,this.currentStep=null!=(o=this.el.find("a[href='"+location.hash+"']").data("step-indicator-step"))?o:1,this.el.find(".next-step").on("click",this.nextStep),this.el.find(".prev-step").on("click",this.prevStep),this.stepIndicators.on("click",this.indicatorClicked),this.enableArrowKeys&&$(document).delegate(this.el.on("keydown",this.handleKeyEvent)),$(document).on("wizard-closed",function(){return a.currentStep=1,a.advanceStep(a.currentStep)}),this.advanceStep(this.currentStep)}return e.prototype.indicatorClicked=function(e){var t;return null!=(null!=e?e.currentTarget:void 0)?(t=$(e.currentTarget).data("step-indicator-step"),null!=t&&this.advanceStep(t),e.preventDefault()):void 0},e.prototype.handleKeyEvent=function(e){if(!this.el.find("input, textarea").is(":focus"))switch(e.keyCode){case 37:return this.prevStep();case 39:return this.nextStep()}},e.prototype.nextStep=function(e){var t,i;return t=null!=(i=$(null!=e?e.currentTarget:void 0).data("step"))?i:this.currentStep+1,this.advanceStep(t),null!=e?e.preventDefault():void 0},e.prototype.prevStep=function(e){var t,i;return t=null!=(i=$(null!=e?e.currentTarget:void 0).data("step"))?i:this.currentStep-1,this.advanceStep(t),null!=e?e.preventDefault():void 0},e.prototype.advanceStep=function(e){var t,i=this;return t=this.currentStep,(this.allowCycle||e>=1&&e<=this.totalSteps)&&(this.currentStep=e%this.totalSteps||this.totalSteps),this.currentStep===t?(this.steps.filter(".step-"+this.currentStep).is(":visible")||(this.steps.hide(),this.steps.filter(".step-"+this.currentStep).show()),this.updateCurrentStepClass()):this.steps.filter(".current-wizard-step").fadeOut(this.transitionSpeed,function(){return i.el.find(".step-"+i.currentStep).fadeIn(i.transitionSpeed),i.updateCurrentStepClass()}),this.updateLocationHash&&(location.hash="#step-"+this.currentStep),"function"==typeof this.onStepChanged?this.onStepChanged():void 0},e.prototype.updateCurrentStepClass=function(){return this.steps.removeClass("current-wizard-step"),this.stepIndicators.removeClass("current-wizard-step"),this.el.find(".step-"+this.currentStep+", .step-indicator-"+this.currentStep).addClass("current-wizard-step")},e}(),window.Wizard=e,Featurette.register("wizard",e)}.call(this),function(){var e,t,i=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return this.changeGlobalNav=i(this.changeGlobalNav,this),this.changeBulletNav=i(this.changeBulletNav,this),this.changeButtons=i(this.changeButtons,this),this.onStepChanged=i(this.onStepChanged,this),t=n.__super__.constructor.apply(this,arguments)}return r(n,e),n.prototype.onStepChanged=function(){return this.changeButtons(),this.changeBulletNav(),this.changeGlobalNav()},n.prototype.changeButtons=function(){var e;return e=this.currentStep>1&&this.currentStep<this.totalSteps?2:this.currentStep===this.totalSteps?3:this.currentStep,$(".button-container").children("a").removeClass("active"),$(".button-welcome-"+e).addClass("active")},n.prototype.changeBulletNav=function(){return $(".onboarding-step-nav").children("li").children("a").removeClass("selected"),$(".trigger-step-"+this.currentStep).addClass("selected")},n.prototype.changeGlobalNav=function(){var e;return this.currentStep===this.totalSteps-1?e=1:1===this.currentStep||(e=this.currentStep),$(".global-nav a").removeClass("selected"),e>0?$(".global-nav li:nth-child("+e+") a").addClass("selected"):void 0},n}(Wizard),Featurette.register("treehouse-welcome",e)}.call(this),function(){$(function(){var e,t,i;return t=$(".start-discussion"),i=$(".start-a-discussion"),e=$(".forum-actions, .forum-actions-mobile"),t.on("click",function(n){return n.preventDefault(),t.addClass("inactive"),e.hide(),i.show().find(".new-discussion, .title-note").show(),$("#forum_post_forum_topic_id").focus()
}),i.find("input").focus(function(){return i.addClass("active").find(".new-discussion, .new-discussion .title-note").show()}),$(".cheatsheet-toggle").on("click",function(e){return e.preventDefault(),$(this).closest("form").find(".markdown-cheatsheet").slideToggle(200)}),$(".cheatsheet-close").on("click",function(e){return e.preventDefault(),$(this).closest("form").find(".markdown-cheatsheet").slideUp(200)}),$(".form-close").on("click",function(n){return n.preventDefault(),i.hide(),t.removeClass("inactive"),e.removeAttr("style")}),$("#edit-post").on("click",function(e){return e.preventDefault(),$("#display-post").hide(),$("#edit-post-form").show(),$("textarea.autogrow").trigger("autosize.resize")}),$("#cancel-edit-post").on("click",function(e){return e.preventDefault(),$("#edit-post-form").hide(),$("#display-post").show(),$("textarea.autogrow").trigger("autosize.resize")}),$(".new-discussion button[type=submit], .discussion-reply button[type=submit]").on("click",function(){var e=this;return _.defer(function(){return $(e).attr({disabled:"disabled"})})})})}.call(this),function(){$(function(){var e;return e=function(){function e(){}return e.modals={},e.handleTrigger=function(t){var i,n;return $.browser.mobile?!0:(e.container||(e.container=$("#mini-profile-container")),t.preventDefault(),n=$(t.currentTarget),i=n.data("profile-name"),e.modals[i]?e.modals[i].showOverlay():e.createModalFor(i))},e.createModalFor=function(e){var t,i=this;return t=$("<div class='modal mini-profile' id='mini-profile-"+e+"' style='display: none'/>"),t.load("/mini_profile/"+e,function(){return i.container.append(t),new Featurette.registered_features["points-chart"](t.find(".chart")[0]),i.modals[e]=new Featurette.registered_features.modal(t[0]),i.modals[e].showOverlay()})},e}.call(this),$(document).on("click","[data-behavior=mini-profile-trigger]",e.handleTrigger)})}.call(this),function(){var e,t,i=function(e,t){return function(){return e.apply(t,arguments)}};e=70,t=function(){function t(e){this.element=e,this.headingToggles=i(this.headingToggles,this),this.resize=i(this.resize,this),this.reposition=i(this.reposition,this),this.collapse=i(this.collapse,this),this.wrapContents=i(this.wrapContents,this),this.init=i(this.init,this),this.element.length&&($(window).on("resize",_.throttle(this.init,200)),$(window).trigger("resize"))}return t.prototype.init=function(){return this.reposition(),this.resize(),this.wrapContents(),this.collapse(),this.headingToggles()},t.prototype.wrapContents=function(){return this.element.find(".scroll-container").length||this.element.wrapInner("<div class='scroll-mask' />"),this.wrapper=this.element.find(".scroll-mask"),this.element.find(".scroll-container").length?void 0:this.wrapper.wrapInner("<div class='scroll-container' />")},t.prototype.collapse=function(){var t;return t=this.wrapper.height()+e>$(window).height(),this.wrapper.css("height",$(window).height()-e),this.element.toggleClass("collapsed",t)},t.prototype.reposition=function(){var e;return $("#content-container").removeClass("pull-20"),$(window).innerWidth()>1022?this.nofix?this.element.css({position:"static","float":"right",left:""}):(this.element.css({position:"relative",left:"80%","float":""}),e=this.element.offset().left,this.element.css({position:"fixed",left:e,right:"auto"})):this.element.css({position:"relative","float":"none",left:""})},t.prototype.resize=function(){return $.browser.mozilla?$("body").innerWidth()>1022?this.element.css("width",.2*$(".grid-container").width()):this.element.css("width","100%"):$(window).innerWidth()>1022?this.element.css("width",.2*$(".grid-container").width()):this.element.css("width","100%")},t.prototype.headingToggles=function(){return this.element.find(".form-group h4").off("click").on("click",function(e){var t;return t=$(e.currentTarget),t.toggleClass("selected"),t.siblings("ul").slideToggle("fast")})},t}(),$(function(){return window.Sidebar=new t($(".fixed-sidebar"))})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){this.duplicate=t(this.duplicate,this),this.originContent=$("[data-markup-duplicate]").html(),this.duplicate($("[data-markup-duplicate]"),$("[data-markup-duplicate-target]"))}return e.prototype.duplicate=function(e,t){return t.html(this.originContent)},e}(),$(function(){return new e})}.call(this),function(){var e,t,i,n,r;window.debug=function(){return this.console?console.log(Array.prototype.slice.call(arguments)):void 0},t=function(){function e(){}return e.check=function(){return null===$.cookie("notbot")?$.post("/visitors/not-bot",{_method:"PUT"}):void 0},e}(),window.NotBot=t,i=function(){function e(){$(".clickonce").click(function(){return $(".clickonce").click(function(e){return e.preventDefault()})})}return e}(),window.PreventDoubleSubmit=i,n=function(){function t(){var t=this;this.silverLightbox=new e("#silver-modal"),this.goldLightbox=new e("#gold-modal"),this.cancelLightbox=new e("#cancel-account-modal"),this.pauseLightbox=new e("#pause-account-modal"),$("#switchToSilver").click(function(e){return e.preventDefault(),t.silverLightbox.showOverlay()}),$("#switchToGold").click(function(e){return e.preventDefault(),t.goldLightbox.showOverlay()}),$("#cancel-account").click(function(e){return e.preventDefault(),t.cancelLightbox.showOverlay()}),$("#pause-account").click(function(e){return e.preventDefault(),t.pauseLightbox.showOverlay()}),$(".cancel-modal").click(function(e){return e.preventDefault(),t.silverLightbox.closeOverlay(),t.goldLightbox.closeOverlay(),t.cancelLightbox.closeOverlay(),t.pauseLightbox.closeOverlay()})}return t}(),window.SubscriptionChangePage=n,r=function(){function e(){}return e.render=function(e,t,i,n,r){var s;return s='<video id="'+e+'" style="width: 100%; height: 100%;" type="video/mp4"\n    controls="controls" preload="none" poster="'+t+'"\n    src="'+i+'" '+(r.autoplay?"autoplay":void 0)+">",n&&(s+='<track kind="subtitles" src="'+n+'" srclang="en">'),s+="</video>"},e.initPlayer=function(e,t){var i,n,r;return null==t&&(t={}),i=$(e),$.extend(t,{enableAutosize:!0}),i.attr("data-force-flash")&&(t.mode="shim"),i.attr("data-start-language")?t.startLanguage=i.attr("data-start-language"):$.cookie("captionLanguage")&&(t.startLanguage=$.cookie("captionLanguage")),i.attr("data-captions-preferences-url")&&(n=i.attr("data-captions-preferences-url")),r=t.success,t.success=function(e,t){return $(t).closest(".mejs-container").find(".mejs-captions-selector input[type=radio]").click(function(e){var t;return t=e.target.value,"none"===t&&(t=null),$.cookie("captionLanguage",t,{expires:1095}),n?$.post(n,{language:t}):void 0}),r?r(e,t):void 0},new MediaElementPlayer(i,t)},e}(),window.Video=r,e=function(){function e(t,i){null==i&&(i=!0),this.$tarp=$(".modal-tarp"),this.$lightboxElement=$(t),this.visible=!1,this.closeable=i,this.beforeClose=null,this.attachCloseEvents(),this.animation="slideIn",e.instances.push(this)}return e.instances=[],e.lastOpen=null,e.prototype.showOverlay=function(){var t,i,n,r,s,o,a,l;for(l=e.instances,o=0,a=l.length;a>o;o++)t=l[o],t.visible&&(t.closeOverlay(),e.lastOpen=t);return s=this.$lightboxElement.width(),i=$(document).width()/2-s/2,r=$(window).scrollTop(),n=r+this.windowHeight(),this.$lightboxElement.css({display:"block",top:n,opacity:0,zIndex:600,left:i}),this.$tarp.css({zIndex:500,opacity:0}).show(),this.$tarp.animate({opacity:1},100),this.$lightboxElement.delay(100).animate({opacity:1,top:r},150),this.visible=!0},e.prototype.closeOverlay=function(){var e,t,i=this;return this.beforeClose&&this.beforeClose(),t=parseInt(this.$lightboxElement.css("top")),e=t+this.windowHeight(),this.$lightboxElement.animate({top:e,opacity:.001},50,function(){return i.$lightboxElement.hide()}),this.$tarp.delay(50).hide(),this.visible=!1},e.prototype.finalizeClose=function(){return this.$tarp.css({zIndex:-500}),this.$lightboxElement.css({zIndex:-600,top:0}),this.visible=!1},e.prototype.windowHeight=function(){return window.innerHeight||document.documentElement.clientHeight||getElementsByTagName("body")[0].clientHeight},e.prototype.tarpClick=function(e){return $(e.target).hasClass("modal-tarp")&&this.visible&&this.closeable?(e.stopPropagation(),this.closeOverlay()):void 0},e.prototype.attachCloseEvents=function(){var e=this;return $(document).keyup(function(t){return 27===t.which&&e.visible&&e.closeable?e.closeOverlay():void 0}),this.$lightboxElement.find(".modal-close, .modal-close-extra").click(function(t){return e.visible&&e.closeable?(e.closeOverlay(),t.preventDefault()):void 0}),$(document).click(function(t){return e.tarpClick(t)}),$(document).on("touchstart",function(t){return e.tarpClick(t)})},e}(),window.LightBox=e,$(document).ready(function(){var e;return e="#habla_wcsend_input",$(document).on("focus",e,function(){return $(document).click()})}),$(document).on("click","a[data-see-more-target]",function(e){var t,i,n;return e.preventDefault(),t=$(e.currentTarget),n=t.data("see-more-target"),i=$("#"+n),i.is(":visible")||"none"!==i.css("display")?(t.text(t.data("see-more-show-text")),i.hide()):(t.text(t.data("see-more-hide-text")),i.show())}),$(".inactive a").live("click",function(e){return e.preventDefault()})}.call(this),function(){var e,t,i,n=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty,s=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},o=[].slice;t=function(){function e(e){var t=this;this.formPrefix=null!=e?e:"account_signup",this.paymentType=$("#"+this.formPrefix+"_payment_method_credit_card, #"+this.formPrefix+"_payment_method_paypal"),this.paymentType.change(function(){return t.togglePaymentMethod()}),this.togglePaymentMethod(),$("#cvv-tooltip").mouseenter(function(){return $(this).find(".tooltip").css("display","block")}),$("#cvv-tooltip").mouseleave(function(){return $(this).find(".tooltip").hide()}),$("#subscribe_monthly").click(function(){var e;return $("#subscribe_monthly").addClass("selected"),$("#subscribe_annually").removeClass("selected"),$("#monthly-checkmark").show(),$("#annual-checkmark").hide(),$("#account_signup_billing_period_monthly").attr("checked","yes"),e=$.trim($("#monthly-charge").html()),$("#footer-price").html(e)}),$("#subscribe_annually").click(function(){var e;return $("#subscribe_annually").addClass("selected"),$("#subscribe_monthly").removeClass("selected"),$("#monthly-checkmark").hide(),$("#annual-checkmark").show(),$("#account_signup_billing_period_annual").attr("checked","yes"),e=$.trim($("#annual-charge").html()),$("#footer-price").html(e)})}return e.prototype.togglePaymentMethod=function(){var e;return e=$("input[name='"+this.formPrefix+"[payment_method]']:checked").val(),"paypal"===e?($(".credit-card-chosen").hide(),$(".paypal-chosen").show()):($(".credit-card-chosen").show(),$(".paypal-chosen").hide())},e}(),window.PaymentForm=t,i=function(){function e(e){var t;t=$(e).find(".tooltip").parent().find("input"),t.focus(function(){var e;return e=$(this).parent().find(".tooltip"),e.data("hide-on-mobile")&&$(window).width()<=480?void 0:e.fadeIn()}),t.blur(function(){return $(this).parent().find(".tooltip").fadeOut()}),$(e).submit(function(){return $(e).find("button#submit").html("Processing..."),$(e).find("button#submit").attr("disabled","true")})}return e}(),window.StandardForm=i,e=function(e){function t(e){this.unwrapErrors=n(this.unwrapErrors,this);var i=this;this.accountForm=$(e),this.accountEmail=this.accountForm.find("#account_signup_email, #person_email, #account_signup_account_manager_email"),this.accountProfile=this.accountForm.find("#account_signup_profile_name, #person_profile_name"),this.accountName=this.accountForm.find("#account_signup_first_name, #account_signup_last_name, #person_first_name, #person_last_name"),this.accountProfileName=this.accountProfile.val(),this.currentEmail=this.accountEmail.val(),t.__super__.constructor.call(this,this.accountForm),this.accountEmail.change(function(){return i.verifyEmailAddress()}),this.accountProfile.change(function(){return i.verifyProfileName()}),this.accountName.change(function(){return i.suggestProfileName()}),this.verifyEmailAddress(),this.verifyProfileName(),this.suggestProfileName(),this.ageCheck=this.accountForm.find("#account_signup_age_check"),this.ageCheck.change(function(){return"lt13"===$(this).val()?($(".above-13").hide(),$(".under-13").show()):($(".above-13").show(),$(".under-13").hide())}),this.ageCheck.change()}return s(t,e),t.prototype.verifyEmailAddress=function(){var e,t,i,n,r=this;return t=this.accountEmail,i=t.siblings("label"),e=t.val(),n=$("meta[name='csrf-token']").attr("content"),this.clearFormErrors(t),$("input").change(function(){return $(this).removeClass("error"),$(this).parent().removeClass("field_with_errors")}),e!==this.currentEmail?$.ajax("/account/email_address",{type:"POST",dataType:"json",data:{email:e},headers:{"X-CSRF-Token":n},error:function(e){var n;return r.unwrapErrors(t,i),r.clearFormErrors(t),t.siblings("label").wrap('<div class="field_with_errors" />'),t.wrap('<div class="field_with_errors" />'),n=JSON.parse(e.responseText),t.after("<p class='error-message'>"+n.error+"</p>")},success:function(){return r.unwrapErrors(t,i),null==t.val()?r.clearFormErrors(t):void 0}}):void 0},t.prototype.verifyProfileName=function(){var e,t,i,n,r,s,o=this;return e=this.accountProfile,i=e.siblings("label"),r=e.val(),t=$(this.accountName[0]).val(),n=$(this.accountName[1]).val(),s=$("meta[name='csrf-token']").attr("content"),r!==this.accountProfileName?$.ajax("/account/profile_name",{type:"POST",dataType:"json",data:{profile_name:r,first_name:t,last_name:n},headers:{"X-CSRF-Token":s},error:function(t){var n;return o.unwrapErrors(e,i),o.clearFormErrors(e),e.siblings("label").wrap('<div class="field_with_errors" />'),e.wrap('<div class="field_with_errors" />'),n=JSON.parse(t.responseText),e.val(n.suggestion),e.after("<p class='error-message'>"+n.error+"</p>")},success:function(){return o.unwrapErrors(e,i),o.clearFormErrors(e)}}):void 0},t.prototype.suggestProfileName=function(){var e,t,i,n;return e=$(this.accountName[0]).val().toLowerCase(),i=$(this.accountName[1]).val().toLowerCase(),t=!!e,n=!!i,!this.accountProfile.val()&&t&&n&&(this.accountProfile.val(""+e+i),this.accountProfile.blur()),this.verifyProfileName()},t.prototype.unwrapErrors=function(){var e,t,i,n,r;for(t=1<=arguments.length?o.call(arguments,0):[],r=[],i=0,n=t.length;n>i;i++)e=t[i],e.closest("div").hasClass("field_with_errors")?r.push(e.unwrap()):r.push(void 0);return r},t.prototype.clearFormErrors=function(e){return e.siblings("p.error-message").remove()},t}(i),window.AccountForm=e}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){this.hideSpinner=t(this.hideSpinner,this),this.showSpinner=t(this.showSpinner,this),this.clickToggle($(".trigger-account"),$(".account-container")),this.shadows(),this.toggleShelf(".trigger-shelf"),$(document).on("pjax:start",this.showSpinner),$(document).on("pjax:end",this.hideSpinner),$(document).on("pjax:end",function(){return"undefined"!=typeof _gaq&&null!==_gaq?_gaq.push(["_trackPageview"]):void 0})}return e.prototype.hover=function(e,t){var i;return i=e.add(t),i.off("hover").hover(function(){return t.stop(!0).show(150)},function(){return t.delay(500).hide(150)})},e.prototype.clickToggle=function(e,t){var i,n;return n=function(){return t.delay(1e3).hide(0)},i=e.add(t),i.on("click",function(){return"none"===t.css("display")?($(".click-toggled").hide(),t.show().addClass("click-toggled"),i.on("mouseleave",function(){return t.delay(1e3).hide(0)}),i.on("mouseenter",function(){return t.stop(!0,!1)})):(t.hide().removeClass("click-toggled"),t.stop(!0,!0).off("mouseleave, mouseover"))})},e.prototype.shadows=function(){var e,t;return e=function(){return $(".heading-pocket").toggleClass("shadowy",$(window).scrollTop()>0)},$(window).on("scroll",_.throttle(e,100)),t=function(){return $(".fixed-sidebar").toggleClass("shadowy",$(".fixed-sidebar .scroll-container").scrollTop()>0)},$(".scroll-container").scroll(_.throttle(t,100))},e.prototype.toggleShelf=function(e){return $(e).on("click",function(){return $("body").toggleClass("shelf-open"),_.delay(function(){return $(window).trigger("resize")},200)})},e.prototype.showSpinner=function(){return $("#content-container").css({opacity:.3}),$(".loading-spinner").css({display:"inline-block"})},e.prototype.hideSpinner=function(){return $("#content-container").css({opacity:1}),$(".loading-spinner").css({display:"none"})},e}(),$(function(){return new e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){this.move=t(this.move,this),this.resize=t(this.resize,this),this.init=t(this.init,this),this.originContent=$("[data-markup-move]").html(),$(window).on("resize",_.throttle(this.init,200)),$(window).trigger("resize")}return e.prototype.init=function(){return this.resize()},e.prototype.resize=function(){return $(window).width()<1022?this.move($("[data-markup-move]"),$("[data-markup-move-target]")):this.move($("[data-markup-move-target]"),$("[data-markup-move]"))},e.prototype.move=function(e,t){return e.html(""),t.html(this.originContent)},e}(),$(function(){return new e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){var i=this;this.element=e,this.setCurrentOption=t(this.setCurrentOption,this),this.createSelect=t(this.createSelect,this),this.element.length&&(this.createSelect(),setTimeout(function(){return i.setCurrentOption()},20))}return e.prototype.createSelect=function(){var e,t,i;return i=[],e=$("[data-ul-select]"),t=$("[data-ul-select-target]"),$("[data-ul-select]").find("a").each(function(){var e,i,n;return e=$(this).attr("href"),n=$(this).text(),i=$("<option />").attr("value",e).text(n),t.append(i)})},e.prototype.setCurrentOption=function(){var e,t;return e=$("[data-ul-select-target]"),t=$("[data-ul-select]").find("a.selected").text(),e.prev("span").text(t),$('option[value="http://'+window.location.hostname+window.location.pathname+'"]').attr("selected",!0)},e}(),$(function(){return new e($("[data-ul-select]"))})}.call(this),function(){var TreehouseTour,__bind=function(e,t){return function(){return e.apply(t,arguments)}};TreehouseTour=function(){function TreehouseTour(e){var t=this;this.element=e,this.killTour=__bind(this.killTour,this),this.prevTourStep=__bind(this.prevTourStep,this),this.nextTourStep=__bind(this.nextTourStep,this),this.startTour=__bind(this.startTour,this),this.moveTour=__bind(this.moveTour,this),this.scrollStep=__bind(this.scrollStep,this),this.stepIndicator=__bind(this.stepIndicator,this),this.fadeOutStep=__bind(this.fadeOutStep,this),this.positionElement=__bind(this.positionElement,this),this.fadeInStep=__bind(this.fadeInStep,this),this.handleKeyEvent=__bind(this.handleKeyEvent,this),this.offscreenCheck=__bind(this.offscreenCheck,this),this.handlePosition=__bind(this.handlePosition,this),this.applyOffsets=__bind(this.applyOffsets,this),this.tourRefresh=__bind(this.tourRefresh,this),this.element.length&&($(document).on("tour:refresh",this.tourRefresh),$(document).on("pjax:end",function(){return _.delay(t.tourRefresh,2500)}),$(document).trigger("tour:refresh"),$(window).on("resize",_.throttle(function(){return $(window).width()<1022?t.killTour():void 0},200)))}return TreehouseTour.prototype.tourRefresh=function(){var e,t,i,n;return this.$modalTarp=$(".modal-tarp"),this.$tourContainer=$("[data-tour]"),this.$tourTips=this.$tourContainer.children("li"),this.$window=$(window),this.$body=$("body"),this.$headerElements=$("#content, .fixed-heading"),this.totalTourSteps=this.$tourTips.length-1,this.windowHeight=this.$window.height(),this.windowWidth=this.$window.width(),this.modalTarpWidth=this.$modalTarp.outerWidth(),this.classToggleSpeed=100,this.fadeSpeed=300,this.smoothScrollSpeed=400,this.currentStep=0,this.parentCollection=[],this.tourControlBarClass="tour-control-bar",this.tourBarPrevClass="tour-prev",this.tourBarNextClass="tour-next",this.tourBarCloseClass="tour-close",this.tourStepIndicatorClass="step-indicator",this.tourActionListClass="tour-actions",this.tourTitle=this.$tourContainer.data("tour"),this.tourControlBar="<div class='"+this.tourControlBarClass+" closed'><div><h3>"+this.tourTitle+"</h3><ul class='"+this.tourActionListClass+"'><li><a class='"+this.tourBarPrevClass+"' data-tour-trigger-prev>Previous Step</a></li><li class='"+this.tourStepIndicatorClass+"'><span>- of -</span></li><li><a class='"+this.tourBarNextClass+"' data-tour-trigger-step>Next Step</a></li><li><a class='"+this.tourBarCloseClass+"' data-tour-trigger-death>Close Tour</a></li></ul></div></div>",this.applyOffsets(),this.$body.append(this.tourControlBar),this.$tourContainer.children("a").on("click",function(e){return e.preventDefault()}),i="[data-tour-trigger-start]",n="[data-tour-trigger-step]",t="[data-tour-trigger-prev]",e="[data-tour-trigger-death]",$(i).off("click",this.startTour),$(n).off("click",this.nextTourStep),$(t).off("click",this.prevTourStep),$(e).off("click",this.killTour),$(i).on("click",this.startTour),$(n).on("click",this.nextTourStep),$(t).on("click",this.prevTourStep),$(e).on("click",this.killTour),$(document).keydown(this.handleKeyEvent)},TreehouseTour.prototype.applyOffsets=function(){return $(this.$tourTips).each(function(){var e,t;return t=$(this).data("tour-step-selector"),e=$(t).offset().top,$(this).attr("data-offset",e)})},TreehouseTour.prototype.handlePosition=function(e,t){var i,n;return n=e.data("tour-position"),i=this.offscreenCheck(e,t),i&&("top"===n?n="bottom":"right"===n?n="left":"bottom"===n?n="top":"left"===n&&(n="right")),e.attr("data-tour-position",n),e.css({left:t[n].left,top:t[n].top})},TreehouseTour.prototype.offscreenCheck=function(e,t){var i,n,r;return r=e.offset(),n=e.data("tour-position"),i=!1,"top"===n?i=t[n].top<0:"right"===n?i=t[n].left+e.outerWidth()>this.windowWidth:"bottom"===n?i=t[n].top+e.height()>$(document).height():"left"===n&&(i=t[n].left<0),i},TreehouseTour.prototype.handleKeyEvent=function(e){var t,i,n,r;if(n="[data-tour-trigger-start]",r="[data-tour-trigger-step]",i="[data-tour-trigger-prev]",t="[data-tour-trigger-death]",this.$modalTarp.hasClass("tarp-opened"))switch(e.keyCode){case 27:return this.killTour(),$(t).addClass("active"),setTimeout(function(){return $(t).removeClass("active")},this.classToggleSpeed);case 37:return $(i).hasClass("inactive-step")||($(i).addClass("active"),setTimeout(function(){return $(i).removeClass("active")},this.classToggleSpeed)),this.prevTourStep();case 39:return $(r).hasClass("inactive-step")||($(r).addClass("active"),setTimeout(function(){return $(r).removeClass("active")},this.classToggleSpeed)),this.nextTourStep()}},TreehouseTour.prototype.fadeInStep=function(firstStep){var currentStep;return currentStep=$(this.$tourTips[this.currentStep]),currentStep.data("on-enter")&&eval(currentStep.data("on-enter")),this.positionElement(currentStep,firstStep),currentStep.delay(this.smoothScrollSpeed-100).fadeIn(this.fadeSpeed),$(this.parentCollection[this.currentStep]).addClass("active-tour-step")},TreehouseTour.prototype.positionElement=function(e,t){var i,n,r,s,o,a,l,u,c,h,d,p;return s=e.data("tour-step-selector"),i=$(s),r=i.offset(),o=r.top,h=$(".tour-control-bar").height(),t&&(o+=h),a=i.width(),n=i.outerHeight(),u=6,c=e.data("tour-step-width"),0===i.length?null:($(s).addClass("tour-parent"),this.parentCollection.push(i),e.css("width",null!=c?c:""),p=e.outerWidth(),d=e.outerHeight(),l={top:{left:r.left,top:o-d-u},right:{left:r.left+a+u,top:o},bottom:{left:r.left,top:o+n+u},left:{left:r.left-p-u,top:o}},this.handlePosition(e,l))},TreehouseTour.prototype.fadeOutStep=function(){var e;return e=$(".tour-parent"),e.removeClass("active-tour-step"),this.$tourTips.fadeOut(this.fadeSpeed)},TreehouseTour.prototype.stepIndicator=function(){return $("."+this.tourStepIndicatorClass+" span").text(""+(this.currentStep+1)+" of "+(this.totalTourSteps+1))},TreehouseTour.prototype.scrollStep=function(){var e,t,i,n,r;switch(this.$tourTips=$(this.$tourTips),n=this.$tourTips.eq(this.currentStep).data("offset"),t=this.$tourTips.eq(this.currentStep).outerHeight(),i=this.$tourTips.eq(this.currentStep).data("tour-position"),e=$(this.$tourTips.eq(this.currentStep)).outerHeight(),r=$(this.$tourTips.eq(this.currentStep).data("tour-step-selector")).height()>this.windowHeight?n/2-t:n-t-this.windowHeight/3,i){case"top":return $("html, body").animate({scrollTop:r},this.smoothScrollSpeed);case"right":return $("html, body").animate({scrollTop:n-this.windowHeight/2},this.smoothScrollSpeed);case"bottom":return $("html, body").animate({scrollTop:n+(t-this.windowHeight/2)},this.smoothScrollSpeed);case"left":return $("html, body").animate({scrollTop:n-this.windowHeight/2},this.smoothScrollSpeed)}},TreehouseTour.prototype.moveTour=function(e,t){switch(null==t&&(t=!1),this.fadeOutStep(),e){case 1:this.currentStep=this.currentStep+1;break;case 0:this.currentStep=0;break;case-1:this.currentStep=this.currentStep-1;break;case null:this.currentStep=!1}return this.scrollStep(),this.fadeInStep(t),this.stepIndicator(),0===this.currentStep?$("."+this.tourBarPrevClass).addClass("inactive-step"):this.currentStep===this.totalTourSteps?$("."+this.tourBarNextClass).addClass("inactive-step"):($("."+this.tourBarNextClass).removeClass("inactive-step"),$("."+this.tourBarPrevClass).removeClass("inactive-step"))},TreehouseTour.prototype.startTour=function(e){return e.preventDefault(),this.moveTour(0,!0),this.$modalTarp.fadeIn(this.fadeSpeed).addClass("tarp-opened"),this.$headerElements.addClass("tour-active"),$("."+this.tourControlBarClass).removeClass("closed"),Sidebar.nofix=!0,$(window).trigger("resize")},TreehouseTour.prototype.nextTourStep=function(){return this.currentStep<this.totalTourSteps?this.moveTour(1):void 0},TreehouseTour.prototype.prevTourStep=function(){return this.currentStep>0?this.moveTour(-1):void 0},TreehouseTour.prototype.killTour=function(){return this.$headerElements.hasClass("tour-active")?(this.fadeOutStep(),$("."+this.tourControlBarClass).addClass("closed"),this.$headerElements.removeClass("tour-active"),this.$modalTarp.delay(50).fadeOut(this.fadeSpeed).removeClass("tarp-opened"),$("html, body").animate({scrollTop:0},5),Sidebar.nofix=!1,$(window).trigger("resize")):void 0},TreehouseTour}(),$(function(){return new TreehouseTour($("[data-tour]"))})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.Filters=function(){function t(t){var i=this;if(this.options=t,this.deserializeState=e(this.deserializeState,this),this.serializeState=e(this.serializeState,this),this.reset=e(this.reset,this),this.update=e(this.update,this),"object"!=typeof this.options)throw"options are not an object literal";if("string"!=typeof this.options.container)throw"didn't pass 'container' option";if("object"!=typeof this.options.binds)throw"didn't pass 'binds' option";if("string"!=typeof this.options.basePath)throw"didn't pass 'basePath' option";this.binds=t.binds,this.container=$(t.container),_.each(this.binds,function(e){var t;return e instanceof jQuery&&e.is("[type='text']")?(t=null,e.on("keyup",function(){return clearTimeout(t),t=setTimeout(i.update,750)}),e.on("keydown",function(){return clearTimeout(t)}),e.on("keydown",function(e){return 13===e.which?e.preventDefault():void 0})):e instanceof jQuery&&e.is("[type='hidden']")?e.on("filter:change",i.update):e.element.on("change",i.update)}),this.container.on("pjax:error pjax:timeout",function(){return!1}),$(document).on("click",".filter-reset",this.reset),$(document).on("click","[data-filter-list-val]",function(e){var t,n,r;return e.preventDefault(),n=$(e.currentTarget),t=n.data("filter-list-val").split(":"),r=i.binds[t[0]],r.val(t[1]),r instanceof jQuery?r.trigger("filter:change"):void 0}),this.deserializeState()}return t.prototype.update=function(e){var t;return e&&e.preventDefault(),this.serializeState(),t=new Object,_.each(this.binds,function(e,i){return t[i]=e.val()}),$.pjax({push:!1,url:""+window.location.origin+"/"+this.options.basePath,container:this.container,data:t}),!1},t.prototype.reset=function(){return _.each(this.binds,function(e){return e.val("")})},t.prototype.serializeState=function(){var e;return e=_.reduce(this.binds,function(e,t,i){return t=t.val(),void 0===t&&(t=""),t=t.replace(" ","-"),t&&e.push(""+i+":"+t),e},[]),e=e.join("/"),history.replaceState(null,null,"/"+this.options.basePath+"/"+e),$(document).trigger("filters:serialized")},t.prototype.deserializeState=function(){var e,t=this;return e=location.pathname.split("?")[0],e=e.split("/"),e=_.without(e,this.options.basePath),_.each(e,function(e){var i,n;if(""!==e)return i=e.split(":")[0],n=e.split(":")[1],t.binds[i].val(n,!1)}),$(document).trigger("filters:deserialized")},t}()}.call(this),$(function(){$.browser.mozilla&&$("body").addClass("gecko"),$.browser.mozilla===!0&&parseFloat($.browser.version)>=24&&$("body").addClass("new-gecko"),$.browser.webkit&&$("body").addClass("webkit"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("body").addClass("mobile"),$.browser.msie&&$("body").addClass("ie"),NotBot.check(),$("select, textarea, input:file, input:text, input:password, input[type='email']").not(".editor textarea, select.drop-down").uniform(),$(".form-item label:not(.prefill)").inFieldLabels(),$(document).on("filters:deserialized",function(){$(".form-item label:not(.prefill)").inFieldLabels()}),$(".trigger-transcript").toggle(function(){$(".video-transcript").addClass("full-transcript"),$(this).text("Close transcript")},function(){$(".video-transcript").removeClass("full-transcript"),$(this).text("Show full transcript")}),$(".trigger-filters").on("click",function(){$(".filters-container").toggle(),$(this).toggleClass("selected"),$("i",this).toggle()}),$(".menu-toggle").on("click touch",function(){$(this).toggleClass("is-checked")}),$(".autogrow").autosize()}),$(function(){Featurette.load()}),$(document).ajaxSend(function(e,t){var i=$("meta[name='csrf-token']").attr("content");t.setRequestHeader("X-CSRF-Token",i)}),$(function(){$(".cheatsheet-toggle").on("click",function(e){$(this).closest(".markdown-cheatsheet").slideToggle(200),e.preventDefault()}),$(".cheatsheet-close").on("click",function(e){$(this).closest(".markdown-cheatsheet").slideUp(200),e.preventDefault()}),$(".edit-post").on("click",function(e){$(".discussion-footer").hide(),$("#display-post").hide(),$(".discussion-question .discussion-comments").hide(),$("#edit-post-form").show(),$(".autogrow").trigger("autosize.resize"),e.preventDefault()}),$("#cancel-edit-post").on("click",function(e){$("#display-post").show(),$(".add-comment").show(),$("#edit-post-form").hide(),$(".autogrow").trigger("autosize.resize"),$(".discussion-footer").show(),e.preventDefault()})}),$(function(){$(".trigger-referral-embed").on("click",function(){$(this).hide(),$(".referral-image").hide(),$(".referral-embed").show(),$(".referral-embed textarea").select()})}),$(function(){function e(){$(this).attr("size",$(this).val().length+1)}$(".trigger-mobile-shelf").funcToggle("click",function(){var e=$("#content").width();$("body").addClass("shelf-open"),$("body").css({overflow:"hidden"}),$("#content, .fixed-heading").css({width:e}),$(".heading-pocket").css({right:"-15px"})},function(){$("#content").width(),$("body").removeClass("shelf-open"),$("body").css({overflow:"auto"}),$("#content, .fixed-heading").css({width:"auto"}),$(".heading-pocket").css({right:""})}),$("#form-element-nav-list-select select").change(function(){window.location=$(this).find("option:selected").val()}),clearTimeout($(this).data("timeout")),setTimeout(function(){$(".adventure-clouds").animate({top:"25px"},500),$(".icon-adventures-landscape").animate({bottom:"-60px",opacity:".3"},500,function(){$(".adventures-hero .hero-content").animate({marginTop:"0",opacity:"1",top:"50px"},300),$(".icon-track-large").animate({top:"125px",opacity:"1"},200)})},200),$(".text-fill-in-blank").keydown(e).each(e),$(".achievement-steps li").on({mouseenter:function(){$(this).find(".button-reveal").animate({marginRight:"-15px"},100)},mouseleave:function(){$(this).find(".button-reveal").animate({marginRight:"-165px"},100)}})}),$(function(){$("#launch_console").on("click",function(e){var t="top=100,left=100,height=600,width=800,scrollbars=0,location=0,menubar=0,toolbar=0",i=window.open("http://console.teamtreehouse.com:3388/window",null,t);null==i&&alert("It looks like your pop up blocker blocked the console window."),e.preventDefault()})}),$("input, textarea").placeholder();